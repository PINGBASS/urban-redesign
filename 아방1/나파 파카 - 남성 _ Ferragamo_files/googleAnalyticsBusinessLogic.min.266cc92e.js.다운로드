var B_GOOGLE_ANALYTICS=B_GOOGLE_ANALYTICS||{};!function(c){"yes"===(B_GOOGLE_ANALYTICS={googleAnalyticsEnabled:!1,currencySymbol:"",currencyCode:"",frgCanonical:"",frgStoreIdentifier:"",productCategoryPath:"",shortLocale:"",Country:"",storeId:"",visitorType:"",Devicetype:"",getCookie:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),r=0;r<a.length;r++){for(var i=a[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},enabled:!1}).getCookie("FRG_analytics")&&(B_GOOGLE_ANALYTICS.enabled=!0),B_GOOGLE_ANALYTICS.allowAdFeatures=!1,"yes"===B_GOOGLE_ANALYTICS.getCookie("FRG_profiling")&&"yes"===B_GOOGLE_ANALYTICS.getCookie("FRG_analytics")&&(B_GOOGLE_ANALYTICS.allowAdFeatures=!0),B_GOOGLE_ANALYTICS.init=function(){},B_GOOGLE_ANALYTICS.commonCartEvent=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode),B_CHECKOUT.cart.orderItem.forEach(function(e,t){var a=e.partNumber.substring(0,6),r=B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].name,i="";B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].Attributes.forEach(function(e,t){"Size"===e.identifier&&(i=e.Values[0].values)});var n=e.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})}),B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/checkout/cart_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('ec:setAction','checkout', { 'step': 1 })"),debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),ga("ec:setAction","checkout",{step:1}),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath))},B_GOOGLE_ANALYTICS.commonCheckoutDeliveryEvent=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode),B_CHECKOUT.cart.orderItem.forEach(function(e,t){var a=e.partNumber.substring(0,6),r=B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].name,i="";B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].Attributes.forEach(function(e,t){"Size"===e.identifier&&(i=e.Values[0].values)});var n=e.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})}),B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/checkout/delivery_details_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('ec:setAction','checkout', { 'step': 2, 'option': "+B_GOOGLE_ANALYTICS.visitorType+"})"),debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),ga("ec:setAction","checkout",{step:2,option:B_GOOGLE_ANALYTICS.visitorType}),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath))},B_GOOGLE_ANALYTICS.commonCheckoutShippingEvent=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode),B_CHECKOUT.cart.orderItem.forEach(function(e,t){var a=e.partNumber.substring(0,6),r=B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].name,i="";B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].Attributes.forEach(function(e,t){"Size"===e.identifier&&(i=e.Values[0].values)});var n=e.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})}),B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/checkout/delivery_method_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('ec:setAction','checkout', { 'step': 3, 'option': "+B_GOOGLE_ANALYTICS.visitorType+"})"),debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),ga("ec:setAction","checkout",{step:3,option:B_GOOGLE_ANALYTICS.visitorType}),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath))},B_GOOGLE_ANALYTICS.commonCheckoutPaymentEvent=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode),B_CHECKOUT.cart.orderItem.forEach(function(e,t){var a=e.partNumber.substring(0,6),r=B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].name,i="";B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].Attributes.forEach(function(e,t){"Size"===e.identifier&&(i=e.Values[0].values)});var n=e.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})}),B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/checkout/payment_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('ec:setAction','checkout', { 'step': 4, 'option': "+B_GOOGLE_ANALYTICS.visitorType+"})"),debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),ga("ec:setAction","checkout",{step:4,option:B_GOOGLE_ANALYTICS.visitorType}),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath))},B_GOOGLE_ANALYTICS.commonCheckoutConfirmationEvent=function(){if(B_GOOGLE_ANALYTICS.enabled){ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode);var e=B_CHECKOUT.cart;e.orderItem.forEach(function(e,t){var a=e.partNumber.substring(0,6),r=B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].name,i="";B_CHECKOUT.cartCatalogEntryViewList[e.productId][0].Attributes.forEach(function(e,t){"Size"===e.identifier&&(i=e.Values[0].values)});var n=e.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})});var t=e.orderId,a=parseFloat(e.totalProductPrice)+parseFloat(e.totalAdjustment),r=parseFloat(e.totalSalesTax),i=parseFloat(e.totalShippingCharge)+parseFloat(e.totalShippingTax);B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/checkout/confirmation_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('ec:setAction', 'purchase', { 'id': "+t+", 'revenue': "+a+", 'tax': "+r+", 'shipping': "+i+", 'affiliation': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'category': '' })"),debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),ga("ec:setAction","purchase",{id:t,revenue:a,tax:r,shipping:i,affiliation:B_GOOGLE_ANALYTICS.frgStoreIdentifier,category:""}),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath)}},B_GOOGLE_ANALYTICS.commonSearchEvent=function(e,t){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),B_GOOGLE_ANALYTICS.frgCanonicalPath="/shop/"+B_GOOGLE_ANALYTICS.Country+"/"+B_GOOGLE_ANALYTICS.shortLocale+"/search_"+B_GOOGLE_ANALYTICS.storeId+"?q="+e,debug.debug(":: GUA :: ga('send', 'pageview', '/"+B_GOOGLE_ANALYTICS.frgCanonicalPath+")"),debug.debug(":: GUA :: ga('send', 'event', 'Search Page', 'User Search', "+e+", "+t+")"),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","event","Search Page","User Search",e,t))},B_GOOGLE_ANALYTICS.getPositionCount=function(e,t){var a=c(e).attr("id"),r="";return c(t).each(function(e){c(this).attr("id")===a&&(r=e+1)}),r},B_GOOGLE_ANALYTICS.getCoord=function(e,t){var a=c(e).position().left,r=c(e).position().top,i={},n={};c(t).each(function(){a>c(this).position().left&&(i[c(this).position().left]=!0),r>c(this).position().top&&(n[c(this).position().top]=!0)});var o={};return o.left=Object.keys(i).length+1,o.top=Object.keys(n).length+1,o},B_GOOGLE_ANALYTICS.commonCheckoutR21Event=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("create",B_GOOGLE_ANALYTICS.guaTrackingId,"auto",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",B_GOOGLE_ANALYTICS.crossDomainTrackingArray),ga("set","dimension1","Checkout"),ga("set","dimension2",B_GOOGLE_ANALYTICS.visitorType),ga("set","dimension6",B_GOOGLE_ANALYTICS.Devicetype),ga("require","displayfeatures"),ga("set","anonymizeIp",!0),ga("require","linkid","linkid.js"),ga("require","ec"),ga("set","currencyCode",B_GOOGLE_ANALYTICS.currencyCode),B_CHECKOUT.cart.orderItem.forEach(function(e,t){var a=e.productInfo.partNumber,r=e.productInfo.name,i=e.sizeValNotConverted,n=e.orderItemAmount.unitPrice,o=e.quantity;debug.debug(":: GUA :: ga('ec:addProduct', {'id': "+a+", 'name': "+r+", 'category':  '', 'brand': "+B_GOOGLE_ANALYTICS.frgStoreIdentifier+", 'variant': "+i+", 'price': "+n+", 'quantity': "+o+"})"),ga("ec:addProduct",{id:a,name:r,category:"",brand:B_GOOGLE_ANALYTICS.frgStoreIdentifier,variant:i,price:n,quantity:o})}),B_GOOGLE_ANALYTICS.commonCheckoutR21Step(),ga("set","allowAdFeatures",B_GOOGLE_ANALYTICS.allowAdFeatures),ga("send","pageview",B_GOOGLE_ANALYTICS.frgCanonicalPath))},B_GOOGLE_ANALYTICS.commonCheckoutR21Step=function(){var e;if("cart-r21"===MAIN.pageTemplate?(e=1,stepName="cart"):0<c('[data-chkt-step="shipping"]').length?e=2:0<c('[data-chkt-step="payment"]').length?e=4:0<c('[data-chkt-step="thankyou"]').length&&B_GOOGLE_ANALYTICS.confirmationTransactionEvent(),B_GOOGLE_ANALYTICS.frgCanonicalPath+="_"+B_GOOGLE_ANALYTICS.storeId,debug.debug(":: GUA :: ga('send', 'pageview', '"+B_GOOGLE_ANALYTICS.frgCanonicalPath+"')"),e){debug.debug(":: GUA :: ga('ec:setAction','checkout', { 'step': "+e+" })");var t={step:e};4===e&&(t.option=B_CHECKOUT.paymentOption),ga("ec:setAction","checkout",t)}},B_GOOGLE_ANALYTICS.continueToPaymentR21Step=function(){B_GOOGLE_ANALYTICS.enabled&&(B_CHECKOUT.pickingUp||_.each(B_CHECKOUT.cart.usableShippingMode,function(e){e.shipModeId===B_CHECKOUT.selectedShipModeId&&(B_CHECKOUT.shippingOption=e.shipModeDescription)}),ga("ec:setAction","checkout",{step:3,option:B_CHECKOUT.shippingOption}),ga("send","event","Checkout","Option",B_CHECKOUT.shippingOption))},B_GOOGLE_ANALYTICS.confirmOrderCheckoutR21=function(){B_GOOGLE_ANALYTICS.enabled&&(ga("ec:setAction","checkout",{step:4,option:B_CHECKOUT.paymentOption}),ga("send","event","Checkout","Option",B_CHECKOUT.paymentOption))},B_GOOGLE_ANALYTICS.confirmationTransactionEvent=function(){var e=B_CHECKOUT.cart.orderId,t=parseFloat(B_CHECKOUT.cart.orderAmount.totalProductPrice)+parseFloat(B_CHECKOUT.cart.orderAmount.totalAdjustment),a=parseFloat(B_CHECKOUT.cart.orderAmount.totalSalesTax),r=parseFloat(B_CHECKOUT.cart.orderAmount.totalShippingCharge)+parseFloat(B_CHECKOUT.cart.orderAmount.totalShippingTax);ga("ec:setAction","purchase",{id:e,revenue:t,tax:a,shipping:r,affiliation:B_GOOGLE_ANALYTICS.frgStoreIdentifier})},B_GOOGLE_ANALYTICS.addToCartShopTheLook=function(e){B_GOOGLE_ANALYTICS.enabled&&(debug.debug(":: GUA :: ga('send', 'event', 'ShopTheLook-Add To Cart', "+e+")"),ga("send","event","ShopTheLook-Add To Cart",e))},B_GOOGLE_ANALYTICS.discoverShopTheLook=function(){B_GOOGLE_ANALYTICS.enabled&&(debug.debug(":: GUA :: ga('send', 'event', 'ShopTheLook-Discover', 'Click')"),ga("send","event","ShopTheLook-Discover","Click"))}}(jQuery);
//# sourceMappingURL=googleAnalyticsBusinessLogic.min.266cc92e.js.map
if(function(e){"use strict";e.console||(e.console={});for(var t,i,n=e.console,r=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)n[t]||(n[t]={});for(;i=a.pop();)n[i]||(n[i]=r)}("undefined"==typeof window?this:window),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,n=new Array(i);i--;)n[i]=[t[i],e[t[i]]];return n}),Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&e!=e},Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),i=parseInt(t.length,10)||0;if(0===i)return!1;var n,r,o=parseInt(arguments[1],10)||0;for(0<=o?n=o:(n=i+o)<0&&(n=0);n<i;){if(e===(r=t[n])||e!=e&&r!=r)return!0;n++}return!1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),i=t.length>>>0,n=arguments[1],r=0;r!==i;r++)if(e.call(n,this[r],r,t))return this[r]}}),String.prototype.repeat||(String.prototype.repeat=function(e){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var i=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,i-t.length)}),function(){if("function"==typeof window.CustomEvent)return;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),function(t){function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function n(e){return encodeURIComponent(e).replace(/%20/g,"+")}function o(e){return decodeURIComponent(String(e).replace(/\+/g," "))}var a,i,r=function(){try{return!!Symbol.iterator}catch(e){return!1}}();!function(){try{var e=t.URLSearchParams;return"a=1"===new e("?a=1").toString()&&"function"==typeof e.prototype.set}catch(e){return!1}}()&&((i=(a=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"==t);else if("string"==t)""!==e&&this._fromString(e);else if(e instanceof a){var i=this;e.forEach(function(e,t){i.append(t,e)})}else{if(null===e||"object"!=t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++){var r=e[n];if("[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+n+" of URLSearchParams's input");this.append(r[0],r[1])}else for(var o in e)e.hasOwnProperty(o)&&this.append(o,e[o])}}).prototype).append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},i.delete=function(e){delete this._entries[e]},i.get=function(e){return e in this._entries?this._entries[e][0]:null},i.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},i.has=function(e){return e in this._entries},i.set=function(e,t){this._entries[e]=[String(t)]},i.forEach=function(e,t){var i;for(var n in this._entries)if(this._entries.hasOwnProperty(n)){i=this._entries[n];for(var r=0;r<i.length;r++)e.call(t,i[r],n,this)}},i.keys=function(){var i=[];return this.forEach(function(e,t){i.push(t)}),e(i)},i.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},i.entries=function(){var i=[];return this.forEach(function(e,t){i.push([t,e])}),e(i)},r&&(i[Symbol.iterator]=i.entries),i.toString=function(){var i=[];return this.forEach(function(e,t){i.push(n(t)+"="+n(e))}),i.join("&")},t.URLSearchParams=a);var s=t.URLSearchParams.prototype;"function"!=typeof s.sort&&(s.sort=function(){var i=this,n=[];this.forEach(function(e,t){n.push([t,e]),i._entries||i.delete(t)}),n.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),i._entries&&(i._entries={});for(var e=0;e<n.length;e++)this.append(n[e][0],n[e][1])}),"function"!=typeof s._fromString&&Object.defineProperty(s,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var i=[];this.forEach(function(e,t){i.push(t)});for(var t=0;t<i.length;t++)this.delete(i[t])}var n,r=(e=e.replace(/^\?/,"")).split("&");for(t=0;t<r.length;t++)n=r[t].split("="),this.append(o(n[0]),1<n.length?o(n[1]):"")}})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(u){var t,i;function e(e,t){"string"!=typeof e&&(e=String(e));var i,n=document;if(t&&(void 0===u.location||t!==u.location.href)){(i=(n=document.implementation.createHTMLDocument("")).createElement("base")).href=t,n.head.appendChild(i);try{if(0!==i.href.indexOf(t))throw new Error(i.href)}catch(e){throw new Error("URL unable to set base "+t+" due to "+e)}}var r=n.createElement("a");r.href=e,i&&(n.body.appendChild(r),r.href=r.href);var o=n.createElement("input");if(o.type="url",o.value=e,":"===r.protocol||!/:/.test(r.href)||!o.checkValidity()&&!t)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r});var a=new u.URLSearchParams(this.search),s=!0,l=!0,c=this;["append","delete","set"].forEach(function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),s&&(l=!1,c.search=a.toString(),l=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var d=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==d&&(d=this.search,l&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})}if(function(){try{var e=new u.URL("b","http://a");return e.pathname="c d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()||(t=u.URL,i=e.prototype,["hash","host","hostname","port","protocol"].forEach(function(e){!function(t){Object.defineProperty(i,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}(e)}),Object.defineProperty(i,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(i,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),e.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},u.URL=e),void 0!==u.location&&!("origin"in u.location)){function n(){return u.location.protocol+"//"+u.location.hostname+(u.location.port?":"+u.location.port:"")}try{Object.defineProperty(u.location,"origin",{get:n,enumerable:!0})}catch(e){setInterval(function(){u.location.origin=n()},100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function e(t){var i=this.constructor;return this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){return i.reject(e)})})}function t(i){return new this(function(n,e){if(!i||void 0===i.length)return e(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(i);if(0===r.length)return n([]);var o=r.length;function a(t,e){if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){a(t,e)},function(e){r[t]={status:"rejected",reason:e},0==--o&&n(r)})}r[t]={status:"fulfilled",value:e},0==--o&&n(r)}for(var t=0;t<r.length;t++)a(t,r[t])})}var i=setTimeout;function l(e){return Boolean(e&&void 0!==e.length)}function n(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,o._immediateFn(function(){var e=1===i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(e){return void s(n.promise,e)}a(n.promise,t)}else(1===i._state?a:s)(n.promise,i._value)})):i._deferreds.push(n)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof i)return void u(function(e,t){return function(){e.apply(t,arguments)}}(i,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e(function(e){i||(i=!0,a(t,e))},function(e){i||(i=!0,s(t,e))})}catch(e){if(i)return;i=!0,s(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new d(e,t,i)),i},o.prototype.finally=e,o.all=function(t){return new o(function(n,r){if(!l(t))return r(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return n([]);var a=o.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){s(t,e)},r)}o[t]=e,0==--a&&n(o)}catch(e){r(e)}}for(var e=0;e<o.length;e++)s(e,o[e])})},o.allSettled=t,o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(i){return new o(function(e,t){t(i)})},o.race=function(r){return new o(function(e,t){if(!l(r))return t(new TypeError("Promise.race accepts an array"));for(var i=0,n=r.length;i<n;i++)o.resolve(r[i]).then(e,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof h.Promise?h.Promise=o:h.Promise.prototype.finally?h.Promise.allSettled||(h.Promise.allSettled=t):h.Promise.prototype.finally=e}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(e){var t=!1,i=this;n(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||n(i).trigger(n.support.transition.end)},e),this},n(function(){n.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(e){if(n(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function a(e){o(e).on("click",t,this.close)}var t='[data-dismiss="alert"]';a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(e){var t=o(this),i=t.attr("data-target");i=i||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"");var n=o("#"===i?[]:i);function r(){n.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),n.length||(n=t.closest(".alert")),n.trigger(e=o.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),o.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r())};var e=o.fn.alert;o.fn.alert=function(i){return this.each(function(){var e=o(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new a(this)),"string"==typeof i&&t[i].call(e)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=e,this},o(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(o){"use strict";var r=function(e,t){this.$element=o(e),this.options=o.extend({},r.DEFAULTS,t),this.isLoading=!1};function i(n){return this.each(function(){var e=o(this),t=e.data("bs.button"),i="object"==typeof n&&n;t||e.data("bs.button",t=new r(this,i)),"toggle"==n?t.toggle():n&&t.setState(n)})}r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[n]()),setTimeout(o.proxy(function(){i[n](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=i,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=o(e.target).closest(".btn");i.call(t,"toggle"),o(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){o(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(u){"use strict";function h(e,t){this.$element=u(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))}function a(r){return this.each(function(){var e=u(this),t=e.data("bs.carousel"),i=u.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),n="string"==typeof r?r:i.slide;t||e.data("bs.carousel",t=new h(this,i)),"number"==typeof r?t.to(r):n?t[n]():i.interval&&t.pause().cycle()})}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n=(i+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(n)},h.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(i<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var i=this.$element.find(".item.active"),n=t||this.getItemForDirection(e,i),r=this.interval,o="next"==e?"left":"right",a=this;if(n.hasClass("active"))return this.sliding=!1;var s=n[0],l=u.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=u(this.$indicators.children()[this.getItemIndex(n)]);c&&c.addClass("active")}var d=u.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return u.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,i.addClass(o),n.addClass(o),i.one("bsTransitionEnd",function(){n.removeClass([e,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var e=u.fn.carousel;u.fn.carousel=a,u.fn.carousel.Constructor=h,u.fn.carousel.noConflict=function(){return u.fn.carousel=e,this};function t(e){var t,i=u(this),n=u(i.attr("data-target")||(t=i.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=u.extend({},n.data(),i.data()),o=i.attr("data-slide-to");o&&(r.interval=!1),a.call(n,r),o&&n.data("bs.carousel").to(o),e.preventDefault()}}u(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var e=u(this);a.call(e,e.data())})})}(jQuery),function(a){"use strict";var s=function(e,t){this.$element=a(e),this.options=a.extend({},s.DEFAULTS,t),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function r(e){var t,i=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return a(i)}function l(n){return this.each(function(){var e=a(this),t=e.data("bs.collapse"),i=a.extend({},s.DEFAULTS,e.data(),"object"==typeof n&&n);!t&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),t||e.data("bs.collapse",t=new s(this,i)),"string"==typeof n&&t[n]()})}s.VERSION="3.3.7",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var i=a.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){t&&t.length&&(l.call(t,"hide"),e||t.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[n](this.$element[0][o])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return i.call(this);this.$element[t](0).one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(e,t){var i=a(t);this.addAriaAndCollapsedClass(r(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var e=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=s,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=a(this);t.attr("data-target")||e.preventDefault();var i=r(t),n=i.data("bs.collapse")?"toggle":t.data();l.call(i,n)})}(jQuery),function(a){"use strict";function n(e){a(e).on("click.bs.dropdown",this.toggle)}var s='[data-toggle="dropdown"]';function l(e){var t=e.attr("data-target"),i=(t=t||(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""))&&a(t);return i&&i.length?i:e.parent()}function o(n){n&&3===n.which||(a(".dropdown-backdrop").remove(),a(s).each(function(){var e=a(this),t=l(e),i={relatedTarget:this};t.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&a.contains(t[0],n.target)||(t.trigger(n=a.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(a.Event("hidden.bs.dropdown",i)))))}))}n.VERSION="3.3.7",n.prototype.toggle=function(e){var t=a(this);if(!t.is(".disabled, :disabled")){var i=l(t),n=i.hasClass("open");if(o(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",o);var r={relatedTarget:this};if(i.trigger(e=a.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(a.Event("shown.bs.dropdown",r))}return!1}},n.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=a(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var i=l(t),n=i.hasClass("open");if(!n&&27!=e.which||n&&27==e.which)return 27==e.which&&i.find(s).trigger("focus"),t.trigger("click");var r=i.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var o=r.index(e.target);38==e.which&&0<o&&o--,40==e.which&&o<r.length-1&&o++,~o||(o=0),r.eq(o).trigger("focus")}}}};var e=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var e=a(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new n(this)),"string"==typeof i&&t[i].call(e)})},a.fn.dropdown.Constructor=n,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=e,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,n.prototype.toggle).on("keydown.bs.dropdown.data-api",s,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(o){"use strict";function a(e,t){this.options=t,this.$body=o(document.body),this.$element=o(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function s(n,r){return this.each(function(){var e=o(this),t=e.data("bs.modal"),i=o.extend({},a.DEFAULTS,e.data(),"object"==typeof n&&n);t||e.data("bs.modal",t=new a(this,i)),"string"==typeof n?t[n](r):i.show&&t.show(r)})}a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(i){var n=this,e=o.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){o(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=o.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),e&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var t=o.Event("shown.bs.modal",{relatedTarget:i});e?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(t)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=o.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var t=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=o.support.transition&&i;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=e,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=o(this),i=t.attr("href"),n=o(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},n.data(),t.data());t.is("a")&&e.preventDefault(),n.one("show.bs.modal",function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),s.call(n,r,this)})}(jQuery),function(m){"use strict";function g(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)}g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(e,t,i){if(this.enabled=!0,this.type=e,this.$element=m(t),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),r=n.length;r--;){var o=n[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(e){return(e=m.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},g.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&m.each(this._options,function(e,t){n[e]!=t&&(i[e]=t)}),i},g.prototype.enter=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},g.prototype.leave=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},g.prototype.show=function(){var e=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var i=this,n=this.tip(),r=this.getUID(this.type);this.setContent(),n.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=n[0].offsetWidth,d=n[0].offsetHeight;if(s){var u=o,h=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+d>h.bottom?"top":"top"==o&&l.top-d<h.top?"bottom":"right"==o&&l.right+c>h.width?"left":"left"==o&&l.left-c<h.left?"right":o,n.removeClass(u).addClass(o)}var p=this.getCalculatedOffset(o,l,c,d);this.applyPlacement(p,o);var f=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};m.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(e,t){var i=this.tip(),n=i[0].offsetWidth,r=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,m.offset.setOffset(i[0],m.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),i.addClass("in");var s=i[0].offsetWidth,l=i[0].offsetHeight;"top"==t&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(t,e,s,l);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(t),u=d?2*c.left-n+s:2*c.top-r+l,h=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(u,i[0][h],d)},g.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},g.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},g.prototype.hide=function(e){var t=this,i=m(this.$tip),n=m.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&i.detach(),t.$element&&t.$element.removeAttr("aria-describedby").trigger("hidden.bs."+t.type),e&&e()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(g.TRANSITION_DURATION):r(),this.hoverState=null,this},g.prototype.fixTitle=function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],i="BODY"==t.tagName,n=t.getBoundingClientRect();null==n.width&&(n=m.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var r=window.SVGElement&&t instanceof window.SVGElement,o=i?{top:0,left:0}:r?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},n,a,s,o)},g.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},g.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+n;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,d=t.left+o+i;c<a.left?r.left=a.left-c:d>a.right&&(r.left=a.left+a.width-d)}return r},g.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},g.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(e){var t=this;e&&((t=m(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},g.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var e=m.fn.tooltip;m.fn.tooltip=function(n){return this.each(function(){var e=m(this),t=e.data("bs.tooltip"),i="object"==typeof n&&n;!t&&/destroy|hide/.test(n)||(t||e.data("bs.tooltip",t=new g(this,i)),"string"==typeof n&&t[n]())})},m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function o(e,t){this.init("popover",e,t)}if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=function(n){return this.each(function(){var e=r(this),t=e.data("bs.popover"),i="object"==typeof n&&n;!t&&/destroy|hide/.test(n)||(t||e.data("bs.popover",t=new o(this,i)),"string"==typeof n&&t[n]())})},r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(o){"use strict";function r(e,t){this.$body=o(document.body),this.$scrollElement=o(e).is(document.body)?o(window):o(e),this.options=o.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function t(n){return this.each(function(){var e=o(this),t=e.data("bs.scrollspy"),i="object"==typeof n&&n;t||e.data("bs.scrollspy",t=new r(this,i)),"string"==typeof n&&t[n]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=o(this),t=e.data("target")||e.attr("href"),i=/^#./.test(t)&&o(t);return i&&i.length&&i.is(":visible")&&[[i[n]().top+r,t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=t)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=o(t).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=o.fn.scrollspy;o.fn.scrollspy=t,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=e,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var e=o(this);t.call(e,e.data())})})}(jQuery),function(s){"use strict";function a(e){this.element=s(e)}function t(i){return this.each(function(){var e=s(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new a(this)),"string"==typeof i&&t[i]()})}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i=i||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""),!e.parent("li").hasClass("active")){var n=t.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:e[0]}),o=s.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(i);this.activate(e.closest("li"),t),this.activate(a,a.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},a.prototype.activate=function(e,t,i){var n=t.find("> .active"),r=i&&s.support.transition&&(n.length&&n.hasClass("fade")||!!t.find("> .fade").length);function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}n.length&&r?n.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),n.removeClass("in")};var e=s.fn.tab;s.fn.tab=t,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=e,this};function i(e){e.preventDefault(),t.call(s(this),"show")}s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(l){"use strict";var c=function(e,t){this.options=l.extend({},c.DEFAULTS,t),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(n){return this.each(function(){var e=l(this),t=e.data("bs.affix"),i="object"==typeof n&&n;t||e.data("bs.affix",t=new c(this,i)),"string"==typeof n&&t[n]()})}c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-n)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=i&&r<=i?"top":null!=n&&e-n<=l+(s?a:t)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,i=t.top,n=t.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof t&&(n=i=t),"function"==typeof i&&(i=t.top(this.$element)),"function"==typeof n&&(n=t.bottom(this.$element));var o=this.getState(r,e,i,n);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-n})}};var e=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),i.call(e,t)})})}(jQuery),function(e,t,i){"undefined"!=typeof module&&module.exports?module.exports=i():e.verge=i()}(this,0,function(){var e={},i="undefined"!=typeof window&&window,t="undefined"!=typeof document&&document,n=t&&t.documentElement,r=i.matchMedia||i.msMatchMedia,o=r?function(e){return!!r.call(i,e).matches}:function(){return!1},a=e.viewportW=function(){var e=n.clientWidth,t=i.innerWidth;return e<t?t:e},s=e.viewportH=function(){var e=n.clientHeight,t=i.innerHeight;return e<t?t:e};function l(){return{width:a(),height:s()}}function c(e,t){return!(!(e=e&&!e.nodeType?e[0]:e)||1!==e.nodeType)&&function(e,t){var i={};return t=+t||0,i.width=(i.right=e.right+t)-(i.left=e.left-t),i.height=(i.bottom=e.bottom+t)-(i.top=e.top-t),i}(e.getBoundingClientRect(),t)}return e.mq=o,e.matchMedia=r?function(){return r.apply(i,arguments)}:function(){return{}},e.viewport=l,e.scrollX=function(){return i.pageXOffset||n.scrollLeft},e.scrollY=function(){return i.pageYOffset||n.scrollTop},e.rectangle=c,e.aspect=function(e){var t=(e=null==e?l():1===e.nodeType?c(e):e).height,i=e.width;return t="function"==typeof t?t.call(e):t,(i="function"==typeof i?i.call(e):i)/t},e.inX=function(e,t){var i=c(e,t);return!!i&&0<=i.right&&i.left<=a()},e.inY=function(e,t){var i=c(e,t);return!!i&&0<=i.bottom&&i.top<=s()},e.inViewport=function(e,t){var i=c(e,t);return!!i&&0<=i.bottom&&0<=i.right&&i.top<=s()&&i.left<=a()},e});var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string;if(this.versionSearchString=e[t].subString,-1!==i.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t){var i=e.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==i?parseFloat(e.substring(i+3)):parseFloat(e.substring(t+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPod|iPad/i)},iPhone:function(){return navigator.userAgent.match(/iPhone|iPod/i)},iPad:function(){return navigator.userAgent.match(/iPad/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.iPad()||isMobile.Opera()||isMobile.Windows()},any_smartphones:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()},any_tablets:function(){return isMobile.iPad()}};function getIOSVersion(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}function isTouch(){return"ontouchstart"in document.documentElement}function addBrowserClassesToBody(){var e=$("body");"Explorer"===BrowserDetect.browser&&(e.addClass("is-ie"),11===BrowserDetect.version&&$("html").addClass("ie11 lt-edge"),10===BrowserDetect.version&&$("html").addClass("ie10 lt-ie11")),isMobile.iOS()||e.addClass("is-not-ios"),isMobile.any()?e.addClass("is-mobile"):e.addClass("is-not-mobile"),isMobile.Android()?e.addClass("is-mobile-android"):isMobile.BlackBerry()?e.addClass("is-mobile-blackberry"):isMobile.iOS()?e.addClass("is-mobile-ios"):isMobile.Opera()?e.addClass("is-mobile-opera"):isMobile.Windows()&&e.addClass("is-mobile-windows"),isTouch()&&e.addClass("is-touch")}addBrowserClassesToBody();var DEBUG=!0;function log(e){window.console&&DEBUG&&console.log(e)}function GATrackEvent(e,t,i){log("Tracked event: "+e+" - "+t+" - "+i),"localhost"!=document.location.host&&"undefined"!=typeof ga&&ga("send","event",e,t,i)}function refreshBootStrapSelect(e){log("BootStrap Select refreshed"),$(e+" .selectpicker").selectpicker("refresh")}function isEmailValid(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,20}$/i.test(e)}function isUrlValid(e){return/^(http(?:s)?\:\/\/[a-zA-Z0-9]+(?:(?:\.|\-)[a-zA-Z0-9]+)+(?:\:\d+)?(?:\/[\w\-]+)*(?:\/?|\/\w+\.[a-zA-Z]{2,4}(?:\?[\w]+\=[\w\-]+)?)?(?:\&[\w]+\=[\w\-]+)*)$/.test(e)}function getWindowWidth(){return"undefined"!=typeof verge?verge.viewportW():"number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth}function getIOSAddressBarHeight(){var e=0;return isMobile.iOS()&&(6<=getIOSVersion()&&(e=60),7<=getIOSVersion()&&(isMobile.iPhone()&&(e=69),isMobile.iPad()&&(e=57))),e}function isJson(e){try{JSON.parse(e)}catch(e){return!1}return!0}String.prototype.format=function(){var i=1===arguments.length&&$.isArray(arguments[0])?arguments[0]:arguments;return this.replace(String.prototype.format.regex,function(e){var t=parseInt(e.substring(1,e.length-1));return 0<=t?i[t]:-1===t?"{":-2===t?"}":""})},String.prototype.format.regex=new RegExp("{-?[0-9]+}","g");var Localization={_options:null,_dictionary:null,_getBrowserLang:function(){var e=navigator.language||navigator.userLanguage;return e=(e=e||this._options.fallbackLang).toLowerCase(),this._options.useSubculture&&2<e.length&&(e=e.substring(0,2)),e},_getLocsJSON:function(e){var i=this;$.ajax({method:"GET",url:e,cache:!1,async:!1,contentType:"application/json; charset=UTF-8",success:function(e){i._dictionary=e},error:function(e){if(log("Localization: error retrieving locs for "+i._options.lang+" lang! Trying fallback lang..."),i._dictionary=null,i._options.lang!=i._options.fallbackLang){var t=i._options.url.format([i._options.fallbackLang]);i._getLocsJSON(t)}}})},init:function(e){var t=this;e=e||{};if(t._options=$.extend({url:"",lang:"",useSubculture:!0,fallbackLang:"it-IT"},e),t._options.url){if(t._options.lang||(t._options.lang=t._getBrowserLang()),jQuery.i18n){if(isJson(t._options.url))t._dictionary=jQuery.parseJSON(t._options.url);else{var i=t._options.url.format([t._options.lang]);t._getLocsJSON(i)}t._dictionary&&jQuery.i18n.load(t._dictionary)}else log("Missing $.i18n plugin");return t}}};function _(e){if(1<arguments.length){var t=Array.prototype.slice.call(arguments,1);return jQuery.i18n._(e,t)}return jQuery.i18n._(e)}function isRetina(){return 1<window.devicePixelRatio||!(!window.matchMedia||!window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)}$('[data-toggle="group-image-change"]').on("change",function(e){e&&e.preventDefault();var t=$(e.target);t.data("toggle")||(t=t.closest('[data-toggle="group-image-change"]')),t.is(":checked")&&$(t.data("target")||t.attr("href")).attr("src",t.data("image"))}).trigger("change"),$('[data-toggle="radio-label-switch"]').each(function(){var i,n,r,e=$(this);n=e.data("checked-label"),r=e.data("unchecked-label"),(i=$('input[type="radio"]')).change(function(e){var t=$(e.target);i.each(function(){$(this).next(".label-text").html("<span></span>"+r)}),t.is(":checked")&&t.next(".label-text").html("<span></span>"+n)}).filter('[checked="checked"]').change()}),$(document).on("click",'[data-toggle="select-all"]',function(e){e&&e.preventDefault();var t=$(e.target);$(t.data("target")||t.attr("href")).find('input[type="checkbox"]').prop("checked",!0)}),$(document).on("click",'[data-toggle="deselect-all"]',function(e){e&&e.preventDefault();var t=$(e.target);$(t.data("target")||t.attr("href")).find('input[type="checkbox"]').prop("checked",!1)});var $data_collapsed_text=$("[data-collapsed-text]");$(document).on("hide.bs.collapse",function(e){var t;t=$(e.target).attr("id"),$data_collapsed_text.filter('[data-target="#'+t+'"], [href="#'+t+'"]').each(function(){$(this).html($(this).data("collapsed-text"))})});var $data_uncollapsed_text=$("[data-uncollapsed-text]");function getQuerystringByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function truncate(e,t){return e&&t?e.length>t?e.substring(0,t)+"...":e:""}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}$(document).on("show.bs.collapse",function(e){var t;t=$(e.target).attr("id"),$data_collapsed_text.filter('[data-target="#'+t+'"], [href="#'+t+'"]').each(function(){$(this).html($(this).data("uncollapsed-text"))})}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();(void 0===t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}),function(u){u.fn.bootpag=function(e){function n(e,t){t=parseInt(t,10);var i,n=0==d.maxVisible?1:d.maxVisible,r=1==d.maxVisible?0:1,o=Math.floor((t-1)/n)*n,a=e.find("li");if(d.page=t=t<0?0:t>d.total?d.total:t,a.removeClass(d.activeClass),i=t-1<1?1:d.leaps&&t-1>=d.maxVisible?Math.floor((t-1)/n)*n:t-1,d.firstLastUse&&a.first().toggleClass(d.disabledClass,1===t),n=a.first(),d.firstLastUse&&(n=n.next()),n.toggleClass(d.disabledClass,1===t).attr("data-lp",i).find("a").attr("href",l(i)),r=1==d.maxVisible?0:1,i=t+1>d.total?d.total:d.leaps&&t+1<d.total-d.maxVisible?o+d.maxVisible+r:t+1,n=a.last(),d.firstLastUse&&(n=n.prev()),n.toggleClass(d.disabledClass,t===d.total).attr("data-lp",i).find("a").attr("href",l(i)),a.last().toggleClass(d.disabledClass,t===d.total),n=a.filter("[data-lp="+t+"]"),r="."+[d.nextClass,d.prevClass,d.firstClass,d.lastClass].join(",."),!n.not(r).length){var s=t<=o?-d.maxVisible:0;a.not(r).each(function(e){i=e+1+o+s,u(this).attr("data-lp",i).toggle(i<=d.total).find("a").html(i).attr("href",l(i))}),n=a.filter("[data-lp="+t+"]")}n.not(r).addClass(d.activeClass),c.data("settings",d)}function l(e){return d.href.replace(d.hrefVariable,e)}var c=this,d=u.extend({total:0,page:1,maxVisible:null,leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!1,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},c.data("settings")||{},e||{});return d.total<=0?this:(u.isNumeric(d.maxVisible)||d.maxVisible||(d.maxVisible=parseInt(d.total,10)),c.data("settings",d),this.each(function(){var e,t,i=u(this);for(e=['<ul class="',d.wrapClass,' bootpag">'],d.firstLastUse&&(e=e.concat(['<li data-lp="1" class="',d.firstClass,'"><a href="',l(1),'">',d.first,"</a></li>"])),d.prev&&(e=e.concat(['<li data-lp="1" class="',d.prevClass,'"><a href="',l(1),'">',d.prev,"</a></li>"])),t=1;t<=Math.min(d.total,d.maxVisible);t++)e=e.concat(['<li data-lp="',t,'"><a href="',l(t),'">',t,"</a></li>"]);d.next&&(t=d.leaps&&d.total>d.maxVisible?Math.min(d.maxVisible+1,d.total):2,e=e.concat(['<li data-lp="',t,'" class="',d.nextClass,'"><a href="',l(t),'">',d.next,"</a></li>"])),d.firstLastUse&&(e=e.concat(['<li data-lp="',d.total,'" class="last"><a href="',l(d.total),'">',d.last,"</a></li>"])),e.push("</ul>"),i.find("ul.bootpag").remove(),i.append(e.join("")),e=i.find("ul.bootpag"),i.find("li").click(function(){var e=u(this);if(!e.hasClass(d.disabledClass)&&!e.hasClass(d.activeClass)){var t=parseInt(e.attr("data-lp"),10);c.find("ul.bootpag").each(function(){n(u(this),t)}),c.trigger("page",t)}}),n(e,d.page)}))}}(jQuery,window),function(){function I(e){return document.createElementNS(r,e)}function M(e){return(e<10?"0":"")+e}function o(e,u){function t(e,r){var o,t=v.offset(),i=/^touch/.test(e.type),a=t.left+R,s=t.top+R,l=(i?e.originalEvent.touches[0]:e).pageX-a,c=(i?e.originalEvent.touches[0]:e).pageY-s,n=Math.sqrt(l*l+c*c),d=!1;r&&(n<67||93<n)||(e.preventDefault(),o=setTimeout(function(){O.addClass("clockpicker-moving")},200),P&&v.append(k.canvas),k.setHand(l,c,!r,!0),A.off(N).on(N,function(e){e.preventDefault();var t=/^touch/.test(e.type),i=(t?e.originalEvent.touches[0]:e).pageX-a,n=(t?e.originalEvent.touches[0]:e).pageY-s;!d&&i==l&&n==c||(d=!0,k.setHand(i,n,!1,!0))}),A.off(E).on(E,function(e){A.off(E),e.preventDefault();var t=/^touch/.test(e.type),i=(t?e.originalEvent.changedTouches[0]:e).pageX-a,n=(t?e.originalEvent.changedTouches[0]:e).pageY-s;(r||d)&&i==l&&n==c&&k.setHand(i,n),"hours"===k.currentView?k.toggleView("minutes",L/2):u.autoclose&&(k.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){k.done()},L/2)),v.prepend(h),clearTimeout(o),O.removeClass("clockpicker-moving"),A.off(N)}))}var i,n,r,o,a,s,h,l,c,d,p,f,m,g=x('<div class="popover clockpicker-popover"><div class="arrow"></div><div class="popover-title"><span class="clockpicker-span-hours text-primary"></span> : <span class="clockpicker-span-minutes"></span><span class="clockpicker-span-am-pm"></span></div><div class="popover-content"><div class="clockpicker-plate"><div class="clockpicker-canvas"></div><div class="clockpicker-dial clockpicker-hours"></div><div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div></div><span class="clockpicker-am-pm-block"></span></div></div>'),v=g.find(".clockpicker-plate"),y=g.find(".clockpicker-hours"),b=g.find(".clockpicker-minutes"),_=g.find(".clockpicker-am-pm-block"),C="INPUT"===e.prop("tagName"),w=C?e:e.find("input"),S=e.find(".input-group-addon"),k=this;if(this.id=function(e){var t=++$+"";return e?e+t:t}("cp"),this.element=e,this.options=u,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=C,this.input=w,this.addon=S,this.popover=g,this.plate=v,this.hoursView=y,this.minutesView=b,this.amPmBlock=_,this.spanHours=g.find(".clockpicker-span-hours"),this.spanMinutes=g.find(".clockpicker-span-minutes"),this.spanAmPm=g.find(".clockpicker-span-am-pm"),this.amOrPm="PM",u.twelvehour&&(x('<div class="clockpicker-am-pm-block"><button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">AM</button><button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">PM</button></div>'),x('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){k.amOrPm="AM",x(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock),x('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){k.amOrPm="PM",x(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)),u.autoclose||x('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+u.donetext+"</button>").click(x.proxy(this.done,this)).appendTo(g),"top"!==u.placement&&"bottom"!==u.placement||"top"!==u.align&&"bottom"!==u.align||(u.align="left"),"left"!==u.placement&&"right"!==u.placement||"left"!==u.align&&"right"!==u.align||(u.align="top"),g.addClass(u.placement),g.addClass("clockpicker-align-"+u.align),this.spanHours.click(x.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(x.proxy(this.toggleView,this,"minutes")),w.on("focus.clockpicker click.clockpicker",x.proxy(this.show,this)),S.on("click.clockpicker",x.proxy(this.toggle,this)),i=x('<div class="clockpicker-tick"></div>'),u.twelvehour)for(n=1;n<13;n+=1)r=i.clone(),o=n/6*Math.PI,a=80,r.css("font-size","120%"),r.css({left:R+Math.sin(o)*a-13,top:R-Math.cos(o)*a-13}),r.html(0===n?"00":n),y.append(r),r.on(D,t);else for(n=0;n<24;n+=1)r=i.clone(),o=n/6*Math.PI,a=(s=0<n&&n<13)?54:80,r.css({left:R+Math.sin(o)*a-13,top:R-Math.cos(o)*a-13}),s&&r.css("font-size","120%"),r.html(0===n?"00":n),y.append(r),r.on(D,t);for(n=0;n<60;n+=5)r=i.clone(),o=n/30*Math.PI,r.css({left:R+80*Math.sin(o)-13,top:R-80*Math.cos(o)-13}),r.css("font-size","120%"),r.html(M(n)),b.append(r),r.on(D,t);v.on(D,function(e){0===x(e.target).closest(".clockpicker-tick").length&&t(e,!0)}),P&&(h=g.find(".clockpicker-canvas"),(l=I("svg")).setAttribute("class","clockpicker-svg"),l.setAttribute("width",200),l.setAttribute("height",200),(c=I("g")).setAttribute("transform","translate(100,100)"),(d=I("circle")).setAttribute("class","clockpicker-canvas-bearing"),d.setAttribute("cx",0),d.setAttribute("cy",0),d.setAttribute("r",2),(p=I("line")).setAttribute("x1",0),p.setAttribute("y1",0),(f=I("circle")).setAttribute("class","clockpicker-canvas-bg"),f.setAttribute("r",13),(m=I("circle")).setAttribute("class","clockpicker-canvas-fg"),m.setAttribute("r",3.5),c.appendChild(p),c.appendChild(f),c.appendChild(m),c.appendChild(d),l.appendChild(c),h.append(l),this.hand=p,this.bg=f,this.fg=m,this.bearing=d,this.g=c,this.canvas=h),T(this.options.init)}function T(e){e&&"function"==typeof e&&e()}var O,e,t,i,x=window.jQuery,n=x(window),A=x(document),r="http://www.w3.org/2000/svg",P="SVGAngle"in window&&((i=document.createElement("div")).innerHTML="<svg/>",t=(i.firstChild&&i.firstChild.namespaceURI)==r,i.innerHTML="",t),a="transition"in(e=document.createElement("div").style)||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e,s="ontouchstart"in window,D="mousedown"+(s?" touchstart":""),N="mousemove.clockpicker"+(s?" touchmove.clockpicker":""),E="mouseup.clockpicker"+(s?" touchend.clockpicker":""),f=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,$=0,R=100,L=a?350:1;o.DEFAULTS={default:"",fromnow:0,placement:"bottom",align:"left",donetext:"",autoclose:!1,twelvehour:!1,vibrate:!0},o.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},o.prototype.locate=function(){var e=this.element,t=this.popover,i=e.offset(),n=e.outerWidth(),r=e.outerHeight(),o=this.options.placement,a=this.options.align,s={};switch(t.show(),o){case"bottom":s.top=i.top+r;break;case"right":s.left=i.left+n;break;case"top":s.top=i.top-t.outerHeight();break;case"left":s.left=i.left-t.outerWidth()}switch(a){case"left":s.left=i.left;break;case"right":s.left=i.left+n-t.outerWidth();break;case"top":s.top=i.top;break;case"bottom":s.top=i.top+r-t.outerHeight()}t.css(s)},o.prototype.show=function(){var i,e,t;this.isShown||(T(this.options.beforeShow),(i=this).isAppended||(O=x(document.body).append(this.popover),n.on("resize.clockpicker"+this.id,function(){i.isShown&&i.locate()}),this.isAppended=!0),"now"===(e=((this.input.prop("value")||this.options.default||"")+"").split(":"))[0]&&(e=[(t=new Date(+new Date+this.options.fromnow)).getHours(),t.getMinutes()]),this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.html(M(this.hours)),this.spanMinutes.html(M(this.minutes)),this.toggleView("hours"),this.locate(),this.isShown=!0,A.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(e){var t=x(e.target);0===t.closest(i.popover).length&&0===t.closest(i.addon).length&&0===t.closest(i.input).length&&i.hide()}),A.on("keyup.clockpicker."+this.id,function(e){27===e.keyCode&&i.hide()}),T(this.options.afterShow))},o.prototype.hide=function(){T(this.options.beforeHide),this.isShown=!1,A.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),A.off("keyup.clockpicker."+this.id),this.popover.hide(),T(this.options.afterHide)},o.prototype.toggleView=function(e,t){var i=!1;"minutes"===e&&"visible"===x(this.hoursView).css("visibility")&&(T(this.options.beforeHourSelect),i=!0);var n="hours"===e,r=n?this.hoursView:this.minutesView,o=n?this.minutesView:this.hoursView;this.currentView=e,this.spanHours.toggleClass("text-primary",n),this.spanMinutes.toggleClass("text-primary",!n),o.addClass("clockpicker-dial-out"),r.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(t),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){o.css("visibility","hidden")},L),i&&T(this.options.afterHourSelect)},o.prototype.resetClock=function(e){var t=this.currentView,i=this[t],n="hours"===t,r=i*(Math.PI/(n?6:30)),o=n&&0<i&&i<13?54:80,a=Math.sin(r)*o,s=-Math.cos(r)*o,l=this;P&&e?(l.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){l.canvas.removeClass("clockpicker-canvas-out"),l.setHand(a,s)},e)):this.setHand(a,s)},o.prototype.setHand=function(e,t,i,n){var r,o,a,s=Math.atan2(e,-t),l="hours"===this.currentView,c=Math.PI/(l||i?6:30),d=Math.sqrt(e*e+t*t),u=this.options,h=l&&d<67,p=h?54:80;u.twelvehour&&(p=80),s<0&&(s=2*Math.PI+s),s=(r=Math.round(s/c))*c,u.twelvehour?l?0===r&&(r=12):(i&&(r*=5),60===r&&(r=0)):l?(12===r&&(r=0),r=h?0===r?12:r:0===r?0:r+12):(i&&(r*=5),60===r&&(r=0)),this[this.currentView]!==r&&f&&this.options.vibrate&&(this.vibrateTimer||(navigator[f](10),this.vibrateTimer=setTimeout(x.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=r,this[l?"spanHours":"spanMinutes"].html(M(r)),P?(n||!l&&r%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg")),o=Math.sin(s)*p,a=-Math.cos(s)*p,this.hand.setAttribute("x2",o),this.hand.setAttribute("y2",a),this.bg.setAttribute("cx",o),this.bg.setAttribute("cy",a),this.fg.setAttribute("cx",o),this.fg.setAttribute("cy",a)):this[l?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var e=x(this);e.toggleClass("active",r===+e.html())})},o.prototype.done=function(){T(this.options.beforeDone),this.hide();var e=this.input.prop("value"),t=M(this.hours)+":"+M(this.minutes);this.options.twelvehour&&(t+=this.amOrPm),this.input.prop("value",t),t!==e&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),T(this.options.afterDone)},o.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(n.off("resize.clockpicker"+this.id),this.popover.remove())},x.fn.clockpicker=function(n){var r=Array.prototype.slice.call(arguments,1);return this.each(function(){var e,t=x(this),i=t.data("clockpicker");i?"function"==typeof i[n]&&i[n].apply(i,r):(e=x.extend({},o.DEFAULTS,t.data(),"object"==typeof n&&n),t.data("clockpicker",new o(t,e)))})}}(),function(){var o;(o=jQuery).bootstrapGrowl=function(e,t){var i,n,r;switch(t=o.extend({},o.bootstrapGrowl.default_options,t),(i=o("<div>")).attr("class","bootstrap-growl alert"),t.type&&i.addClass("alert-"+t.type),t.allow_dismiss&&(i.addClass("alert-dismissible"),i.append('<button  class="close" data-dismiss="alert" type="button"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>')),i.append(e),t.top_offset&&(t.offset={from:"top",amount:t.top_offset}),r=t.offset.amount,o(".bootstrap-growl").each(function(){return r=Math.max(r,parseInt(o(this).css(t.offset.from))+o(this).outerHeight()+t.stackup_spacing)}),(n={position:"body"===t.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"})[t.offset.from]=r+"px",i.css(n),"auto"!==t.width&&i.css("width",t.width+"px"),o(t.ele).append(i),t.align){case"center":i.css({left:"50%","margin-left":"-"+i.outerWidth()/2+"px"});break;case"left":i.css("left","20px");break;default:i.css("right","20px")}return i.fadeIn(),0<t.delay&&i.delay(t.delay).fadeOut(function(){return o(this).alert("close")}),i},o.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this),function(d){d.fn.extend({complexify:function(r,o){function a(e,t){for(var i=e.length-1;0<=i;i--)if(t[0]<=e.charCodeAt(i)&&e.charCodeAt(i)<=t[1])return t[1]-t[0]+1;return 0}function e(){var e,t,i=d(this).val(),n=0;if(function(e){if("strict"!==r.banMode)return-1<d.inArray(e,r.bannedPasswords);for(var t=0;t<r.bannedPasswords.length;t++)if(-1!==e.toLowerCase().indexOf(r.bannedPasswords[t].toLowerCase()))return!0;return!1}(i))n=1;else for(t=c.length-1;0<=t;t--)n+=a(i,c[t]);e=s<n&&i.length>=r.minimumChars,n=100<(n=n/l*100)?100:n,o.call(this,e,n)}var s=49,l=120,c=[[32,32],[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],t={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banMode:"strict"};return d.isFunction(r)&&!o&&(o=r,r={}),r=d.extend(t,r),this.each(function(){e.apply(this)}),this.each(function(){d(this).bind("keyup focus input propertychange mouseup",e)})}})}(jQuery),function(l){l.fn.unveil=function(e,i){var t,o=l(window),a=e||0,n=1<window.devicePixelRatio?"data-src-retina":"data-src",r=this;function s(){var e=r.filter(function(){var e=l(this);if(!e.is(":hidden")){var t=o.scrollTop(),i=t+o.height(),n=e.offset().top,r=n+e.height();return t-a<=r&&n<=i+a}});t=e.trigger("unveil"),r=r.not(t)}return this.one("unveil",function(){var e=this.getAttribute(n);if(e=e||this.getAttribute("data-src")){var t=!1;"IMG"!==this.tagName?this.style.backgroundImage="url("+e+")":(t=this.getAttribute("src")!==e)&&this.setAttribute("src",e),"function"==typeof i&&i.call(this,t)}}),o.on("scroll.unveil resize.unveil lookup.unveil",s),s(),this}}(window.jQuery||window.Zepto),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(o){"use strict";function t(e,t){function i(e){void 0!==e.open&&(e.open=!e.open)}var n,r,o=function(e){for(var t=[],i=e.parentNode;(n=i)&&(0===n.offsetWidth||0===n.offsetHeight||!1===n.open);)t.push(i),i=i.parentNode;var n;return t}(e),a=o.length,s=[],l=e[t];if(a){for(n=0;n<a;n++)s[n]=o[n].style.cssText,o[n].style.display="block",o[n].style.height="0",o[n].style.overflow="hidden",o[n].style.visibility="hidden",i(o[n]);for(l=e[t],r=0;r<a;r++)o[r].style.cssText=s[r],i(o[r])}return l}function r(e,t){if(this.$window=o(window),this.$document=o(document),this.$element=o(e),this.options=o.extend({},s,t),this.polyfill=this.options.polyfill,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.polyfill&&n)return!1;this.identifier="js-"+a+"-"+i++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=o('<div class="'+this.options.fillClass+'" />'),this.$handle=o('<div class="'+this.options.handleClass+'" />'),this.$range=o('<div class="'+this.options.rangeClass+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.$element.addClass(this.identifier),this.handleDown=o.proxy(this.handleDown,this),this.handleMove=o.proxy(this.handleMove,this),this.handleEnd=o.proxy(this.handleEnd,this),this.init();var r=this;this.$window.on("resize."+this.identifier,function(t,i){return i=i||100,function(){if(!t.debouncing){var e=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,e),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},i),t.lastReturnVal}}(function(){!function(e,t){var i=Array.prototype.slice.call(arguments,2);setTimeout(function(){return e.apply(null,i)},t)}(function(){r.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(e,t){if(!t||t.origin!==r.identifier){var i=e.target.value,n=r.getPositionFromValue(i);r.setPosition(n)}})}var e,a="rangeslider",i=0,n=((e=document.createElement("input")).setAttribute("type","range"),"text"!==e.type),s={polyfill:!0,rangeClass:"rangeslider cmp-rangeslider-custom",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]};r.prototype.init=function(){this.update(!0),this.$element[0].value=this.value,this.onInit&&"function"==typeof this.onInit&&this.onInit()},r.prototype.update=function(e){(e=e||!1)&&(this.min=parseFloat(this.$element[0].getAttribute("min")||0),this.max=parseFloat(this.$element[0].getAttribute("max")||100),this.value=parseFloat(this.$element[0].value||this.min+(this.max-this.min)/2),this.step=parseFloat(this.$element[0].getAttribute("step")||1)),this.handleWidth=t(this.$handle[0],"offsetWidth"),this.rangeWidth=t(this.$range[0],"offsetWidth"),this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position)},r.prototype.handleDown=function(e){if(e.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!(-1<(" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass))){var t=this.getRelativePosition(e),i=this.$range[0].getBoundingClientRect().left,n=this.getPositionFromNode(this.$handle[0])-i;this.setPosition(t-this.grabX),n<=t&&t<n+this.handleWidth&&(this.grabX=t-n)}},r.prototype.handleMove=function(e){e.preventDefault();var t=this.getRelativePosition(e);this.setPosition(t-this.grabX)},r.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},r.prototype.cap=function(e,t,i){return e<t?t:i<e?i:e},r.prototype.setPosition=function(e){var t,i;t=this.getValueFromPosition(this.cap(e,0,this.maxHandleX)),i=this.getPositionFromValue(t),this.$fill[0].style.width=i+this.grabX+"px",this.$handle[0].style.left=i+"px",this.setValue(t),this.position=i,this.value=t,this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(i,t)},r.prototype.getPositionFromNode=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t},r.prototype.getRelativePosition=function(e){var t=this.$range[0].getBoundingClientRect().left,i=0;return void 0!==e.pageX?i=e.pageX:void 0!==e.originalEvent.clientX?i=e.originalEvent.clientX:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0].clientX?i=e.originalEvent.touches[0].clientX:e.currentPoint&&void 0!==e.currentPoint.x&&(i=e.currentPoint.x),i-t},r.prototype.getPositionFromValue=function(e){return(e-this.min)/(this.max-this.min)*this.maxHandleX},r.prototype.getValueFromPosition=function(e){var t,i;return t=e/(this.maxHandleX||1),i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},r.prototype.setValue=function(e){e!==this.value&&this.$element.val(e).trigger("input",{origin:this.identifier})},r.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+a),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},o.fn[a]=function(i){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o(this),t=e.data("plugin_"+a);t||e.data("plugin_"+a,t=new r(this,i)),"string"==typeof i&&t[i].apply(t,n)})}}),function(t,i){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(e){return t.Bloodhound=i(e)}):"object"==typeof exports?module.exports=i(require("jquery")):t.Bloodhound=i(jQuery)}(this,function(d){var u=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof d},toStr:function(e){return u.isUndefined(e)||null===e?"":e+""},bind:d.proxy,each:function(e,i){d.each(e,function(e,t){return i(t,e)})},map:d.map,filter:d.grep,every:function(i,n){var r=!0;return i?(d.each(i,function(e,t){if(!(r=n.call(null,t,e,i)))return!1}),!!r):r},some:function(i,n){var r=!1;return i?(d.each(i,function(e,t){if(r=n.call(null,t,e,i))return!1}),!!r):r},mixin:d.extend,identity:function(e){return e},clone:function(e){return d.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return d.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e,t,i=this,n=arguments;return e=function(){s=null,a||(l=r.apply(i,n))},t=a&&!s,clearTimeout(s),s=setTimeout(e,o),t&&(l=r.apply(i,n)),l}},throttle:function(i,n){var r,o,a,s,l,c;return l=0,c=function(){l=new Date,a=null,s=i.apply(r,o)},function(){var e=new Date,t=n-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=i.apply(r,o)):a=a||setTimeout(c,t),s}},stringify:function(e){return u.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";function e(e){return(e=u.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=u.toStr(e))?e.split(/\W+/):[]}function i(n){return function(e){return e=u.isArray(e)?e:[].slice.call(arguments,0),function(t){var i=[];return u.each(e,function(e){i=i.concat(n(u.toStr(t[e])))}),i}}}return{nonword:t,whitespace:e,obj:{nonword:i(t),whitespace:i(e)}}}(),n=function(){"use strict";function e(e){this.maxSize=u.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=d.noop)}function t(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return u.mixin(e.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new r(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new t}}),u.mixin(t.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),t=function(){"use strict";function e(e,t){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+u.escapeRegExChars(this.prefix)),this.ls=t||o,this.ls||this._noop()}function n(){return(new Date).getTime()}function r(e){return JSON.stringify(u.isUndefined(e)?null:e)}function i(e){return d.parseJSON(e)}var o;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(e){o=null}return u.mixin(e.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=u.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),i(this.ls.getItem(this._prefix(e)))},set:function(e,t,i){return u.isNumber(i)?this._safeSet(this._ttlKey(e),r(n()+i)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(t))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){for(var e=function(e){for(var t,i=[],n=o.length,r=0;r<n;r++)(t=o.key(r)).match(e)&&i.push(t.replace(e,""));return i}(this.keyMatcher),t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(e){var t=i(this.ls.getItem(this._ttlKey(e)));return!!(u.isNumber(t)&&n()>t)}}),e}(),r=function(){"use strict";function e(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new n(0):t}var s=0,l={},c=6,t=new n(10);return e.setMaxPendingRequests=function(e){c=e},e.resetCache=function(){t.reset()},u.mixin(e.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+d.param(e.data||{})},_get:function(e,t){function i(e){t(null,e),a._cache.set(r,e)}function n(){t(!0)}var r,o,a=this;r=this._fingerprint(e),this.cancelled||r!==this.lastReq||((o=l[r])?o.done(i).fail(n):s<c?(s++,l[r]=this._send(e).done(i).fail(n).always(function(){s--,delete l[r],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t){var i,n;t=t||d.noop,e=u.isString(e)?{url:e}:e||{},n=this._fingerprint(e),this.cancelled=!1,this.lastReq=n,(i=this._cache.get(n))?t(null,i):this._get(e,t)},cancel:function(){this.cancelled=!0}}),e}(),o=window.SearchIndex=function(){"use strict";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||d.error("datumTokenizer and queryTokenizer are both required"),this.identify=e.identify||u.stringify,this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(e){return e=u.filter(e,function(e){return!!e}),u.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[l]=[],e[s]={},e}var s="c",l="i";return u.mixin(e.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var o=this;e=u.isArray(e)?e:[e],u.each(e,function(e){var r,t;o.datums[r=o.identify(e)]=e,t=i(o.datumTokenizer(e)),u.each(t,function(e){for(var t,i=o.trie,n=e.split("");t=n.shift();)(i=i[s][t]||(i[s][t]=a()))[l].push(r)})})},get:function(e){var t=this;return u.map(e,function(e){return t.datums[e]})},search:function(e){var t,o,a=this;return t=i(this.queryTokenizer(e)),u.each(t,function(e){var t,i,n,r;if(o&&0===o.length)return!1;for(t=a.trie,i=e.split("");t&&(n=i.shift());)t=t[s][n];if(!t||0!==i.length)return!(o=[]);r=t[l].slice(0),o=o?function(e,t){var i,n,r=0,o=0,a=[];for(e=e.sort(),t=t.sort(),i=e.length,n=t.length;r<i&&o<n;)e[r]<t[o]?r++:(e[r]>t[o]||(a.push(e[r]),r++),o++);return a}(o,r):r}),o?u.map(function(e){for(var t={},i=[],n=0,r=e.length;n<r;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}(o),function(e){return a.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e}(),a=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new t(e.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},u.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(i.data,e,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(i.data),t.protocol=this.storage.get(i.protocol),t.thumbprint=this.storage.get(i.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(t){var e,i=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,i.transform(e))}))},clear:function(){return this.storage.clear(),this}}),e}(),s=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new r({cache:e.cache,limiter:e.limiter,transport:e.transport})}return u.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,i){var t,n=this;if(i)return e=e||"",t=this.prepare(e,this._settings()),this.transport.get(t,function(e,t){i(e?[]:n.transform(t))})},cancelLastRequest:function(){this.transport.cancel()}}),e}(),l=function(){"use strict";function n(e){var t;if(e)return t={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:u.identity,transport:null},e=u.isString(e)?{url:e}:e,(e=u.mixin(t,e)).url||d.error("remote requires url to be set"),e.transform=e.filter||e.transform,e.prepare=function(e){var t,i,n;return t=e.prepare,i=e.replace,n=e.wildcard,t||(i?function(e,t){return t.url=i(t.url,e),t}:e.wildcard?function(e,t){return t.url=t.url.replace(n,encodeURIComponent(e)),t}:function(e,t){return t})}(e),e.limiter=function(e){var t,i,n;return t=e.limiter,i=e.rateLimitBy,n=e.rateLimitWait,t=t||(/^throttle$/i.test(i)?function(t){return function(e){return u.throttle(e,t)}}(n):function(t){return function(e){return u.debounce(e,t)}}(n)),t}(e),e.transport=e.transport?r(e.transport):d.ajax,delete e.replace,delete e.wildcard,delete e.rateLimitBy,delete e.rateLimitWait,e}function r(i){return function(e){var t=d.Deferred();return i(e,function(e){u.defer(function(){t.resolve(e)})},function(e){u.defer(function(){t.reject(e)})}),t}}return function(e){var t,i;return t={initialize:!0,identify:u.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},(e=u.mixin(t,e||{})).datumTokenizer||d.error("datumTokenizer is required"),e.queryTokenizer||d.error("queryTokenizer is required"),i=e.sorter,e.sorter=i?function(e){return e.sort(i)}:u.identity,e.local=u.isFunction(e.local)?e.local():e.local,e.prefetch=function(e){var t;return e?(t={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:u.identity,transform:u.identity,transport:null},e=u.isString(e)?{url:e}:e,(e=u.mixin(t,e)).url||d.error("prefetch requires url to be set"),e.transform=e.filter||e.transform,e.cacheKey=e.cacheKey||e.url,e.thumbprint="0.11.1"+e.thumbprint,e.transport=e.transport?r(e.transport):d.ajax,e):null}(e.prefetch),e.remote=n(e.remote),e}}();return function(){"use strict";function e(e){e=l(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new s(e.remote):null,this.prefetch=e.prefetch?new a(e.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}var t;return t=window&&window.Bloodhound,e.noConflict=function(){return window&&(window.Bloodhound=t),e},e.tokenizers=i,u.mixin(e.prototype,{__ttAdapter:function(){var n=this;return this.remote?function(e,t,i){return n.search(e,t,i)}:function(e,t){return n.search(e,t)}},_loadPrefetch:function(){var i,e,n=this;return i=d.Deferred(),this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),i.resolve()):this.prefetch.fromNetwork(function(e,t){if(e)return i.reject();n.add(t),n.prefetch.store(n.index.serialize()),i.resolve()}):i.resolve(),i.promise()},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)}),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=u.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,t,n){var r,o=this;return r=this.sorter(this.index.search(e)),t(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,function(e){var i=[];u.each(e,function(t){u.some(r,function(e){return o.identify(t)===o.identify(e)})||i.push(t)}),n&&n(i)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),e}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(g){var v=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:g.isArray,isFunction:g.isFunction,isObject:g.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof g},toStr:function(e){return v.isUndefined(e)||null===e?"":e+""},bind:g.proxy,each:function(e,i){g.each(e,function(e,t){return i(t,e)})},map:g.map,filter:g.grep,every:function(i,n){var r=!0;return i?(g.each(i,function(e,t){if(!(r=n.call(null,t,e,i)))return!1}),!!r):r},some:function(i,n){var r=!1;return i?(g.each(i,function(e,t){if(r=n.call(null,t,e,i))return!1}),!!r):r},mixin:g.extend,identity:function(e){return e},clone:function(e){return g.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return g.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e,t,i=this,n=arguments;return e=function(){s=null,a||(l=r.apply(i,n))},t=a&&!s,clearTimeout(s),s=setTimeout(e,o),t&&(l=r.apply(i,n)),l}},throttle:function(i,n){var r,o,a,s,l,c;return l=0,c=function(){l=new Date,a=null,s=i.apply(r,o)},function(){var e=new Date,t=n-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=i.apply(r,o)):a=a||setTimeout(c,t),s}},stringify:function(e){return v.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";var n={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(e){var t,i;return i=v.mixin({},n,e),{css:(t={css:function(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return v.isMsie()&&v.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}(),classes:i,html:function(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}(i),selectors:function(e){var i={};return v.each(e,function(e,t){i[t]="."+e}),i}(i)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(e){v.mixin(e,t)}}}}(),y=function(){"use strict";function e(e){e&&e.el||g.error("EventBus initialized without el"),this.$el=g(e.el)}var i;return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},v.mixin(e.prototype,{_trigger:function(e,t){var i;return i=g.Event("typeahead:"+e),(t=t||[]).unshift(i),this.$el.trigger.apply(this.$el,t),i},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=i[e])&&this._trigger(t,[].slice.call(arguments,1))}}),e}(),t=function(){"use strict";function n(e,t,i,n){var r;if(!i)return this;for(t=t.split(s),i=n?function(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}(i,n):i,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(i);return this}function a(n,r,o){return function(){for(var e,t=0,i=n.length;!e&&t<i;t+=1)e=!1===n[t].apply(r,o);return!e}}var s=/\s+/,l=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)};return{onSync:function(e,t,i){return n.call(this,"sync",e,t,i)},onAsync:function(e,t,i){return n.call(this,"async",e,t,i)},off:function(e){var t;if(!this._callbacks)return this;for(e=e.split(s);t=e.shift();)delete this._callbacks[t];return this},trigger:function(e){var t,i,n,r,o;if(!this._callbacks)return this;for(e=e.split(s),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)r=a(i.sync,this,[t].concat(n)),o=a(i.async,this,[t].concat(n)),r()&&l(o);return this}}}(),s=function(a){"use strict";var e={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){var o;(r=v.mixin({},e,r)).node&&r.pattern&&(r.pattern=v.isArray(r.pattern)?r.pattern:[r.pattern],o=function(e,t,i){for(var n,r=[],o=0,a=e.length;o<a;o++)r.push(v.escapeRegExChars(e[o]));return n=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",t?new RegExp(n):new RegExp(n,"i")}(r.pattern,r.caseSensitive,r.wordsOnly),function e(t,i){for(var n,r=0;r<t.childNodes.length;r++)3===(n=t.childNodes[r]).nodeType?r+=i(n)?1:0:e(n,i)}(r.node,function(e){var t,i,n;return(t=o.exec(e.data))&&(n=a.createElement(r.tagName),r.className&&(n.className=r.className),(i=e.splitText(t.index)).splitText(t[0].length),n.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(n,i)),!!t}))}}(window.document),b=function(){"use strict";function r(e,t){(e=e||{}).input||g.error("input is missing"),t.mixin(this),this.$hint=g(e.hint),this.$input=g(e.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=function(e){return g('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=v.noop)}function n(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return v.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},v.mixin(r.prototype,t,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var i;switch(e){case"up":case"down":i=!n(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!n(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var i,n;n=!!(i=function(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}(e,this.query))&&this.query.length!==e.length,this.query=e,t||i?!t&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,t,i,n,r=this;return e=v.bind(this._onBlur,this),t=v.bind(this._onFocus,this),i=v.bind(this._onKeydown,this),n=v.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",t).on("keydown.tt",i),!v.isMsie()||9<v.isMsie()?this.$input.on("input.tt",n):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||v.defer(v.bind(r._onInput,r,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i;i=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),""!==e&&i&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,i;return e=this.$input.val().length,t=this.$input[0].selectionStart,v.isNumber(t)?t===e:!document.selection||((i=document.selection.createRange()).moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=g("<div>")}}),r}(),r=function(){"use strict";function e(e,t){(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||g.error("missing source"),e.node||g.error("missing node"),e.name&&!function(e){return/^[_a-zA-Z0-9-]+$/.test(e)}(e.name)&&g.error("invalid dataset name: "+e.name),t.mixin(this),this.highlight=!!e.highlight,this.name=e.name||i(),this.limit=e.limit||5,this.displayFn=function(t){return t=t||v.stringify,v.isFunction(t)?t:function(e){return e[t]}}(e.display||e.displayKey),this.templates=function(e,t){return{notFound:e.notFound&&v.templatify(e.notFound),pending:e.pending&&v.templatify(e.pending),header:e.header&&v.templatify(e.header),footer:e.footer&&v.templatify(e.footer),suggestion:e.suggestion||function(e){return g("<div>").text(t(e))}}}(e.templates,this.displayFn),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=v.isUndefined(e.async)?2<this.source.length:!!e.async,this._resetLastSuggestion(),this.$el=g(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}var a,i;return a={val:"tt-selectable-display",obj:"tt-selectable-object"},i=v.getIdGenerator(),e.extractData=function(e){var t=g(e);return t.data(a.obj)?{val:t.data(a.val)||"",obj:t.data(a.obj)||null}:null},v.mixin(e.prototype,t,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var i;i=this._getSuggestionsFragment(e,t),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var i,n;n=(i=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,e){var r,o=this;return r=document.createDocumentFragment(),v.each(e,function(e){var t,i;i=o._injectQuery(n,e),t=g(o.templates.suggestion(i)).data(a.obj,e).data(a.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(t[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:n}),g(r)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=g()},_injectQuery:function(e,t){return v.isObject(t)?v.mixin({_query:e},t):t},update:function(t){function e(e){r||(r=!0,e=(e||[]).slice(0,i.limit),o=e.length,i._overwrite(t,e),o<i.limit&&i.async&&i.trigger("asyncRequested",t))}var i=this,n=!1,r=!1,o=0;this.cancel(),this.cancel=function(){n=!0,i.cancel=g.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,e,function(e){e=e||[],!n&&o<i.limit&&(i.cancel=g.noop,o+=e.length,i._append(t,e.slice(0,i.limit-o)),i.async&&i.trigger("asyncReceived",t))}),r||e([])},cancel:g.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=g("<div>")}}),e}(),_=function(){"use strict";function e(e,i){var n=this;(e=e||{}).node||g.error("node is required"),i.mixin(this),this.$node=g(e.node),this.query=null,this.datasets=v.map(e.datasets,function(e){var t=n.$node.find(e.node).first();return e.node=t.length?t:g("<div>").appendTo(n.$node),new r(e,i)})}return v.mixin(e.prototype,t,{_onSelectableClick:function(e){this.trigger("selectableClicked",g(e.currentTarget))},_onRendered:function(e,t,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return v.every(this.datasets,function(e){return e.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,i,n,r;i=(t=e.position().top)+e.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(n+t):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var t=this,e=v.bind(this._onSelectableClick,this);return this.$node.on("click.tt",this.selectors.selectable,e),v.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,i,n;return i=this.getActiveSelectable(),t=this._getSelectables(),-1===(n=(n=((n=(i?t.index(i):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:n)?null:t.eq(n)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?r.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(t){var e=t!==this.query;return e&&(this.query=t,v.each(this.datasets,function(e){e.update(t)})),e},empty:function(){v.each(this.datasets,function(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=g("<div>"),v.each(this.datasets,function(e){e.destroy()})}}),e}(),C=function(){"use strict";function e(){_.apply(this,[].slice.call(arguments,0))}var t=_.prototype;return v.mixin(e.prototype,_.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),w=function(){"use strict";function e(e,t){var i,n,r,o,a,s,l,c,d,u,h;(e=e||{}).input||g.error("missing input"),e.menu||g.error("missing menu"),e.eventBus||g.error("missing event bus"),t.mixin(this),this.eventBus=e.eventBus,this.minLength=v.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),i=p(this,"activate","open","_onFocused"),n=p(this,"deactivate","_onBlurred"),r=p(this,"isActive","isOpen","_onEnterKeyed"),o=p(this,"isActive","isOpen","_onTabKeyed"),a=p(this,"isActive","_onEscKeyed"),s=p(this,"isActive","open","_onUpKeyed"),l=p(this,"isActive","open","_onDownKeyed"),c=p(this,"isActive","isOpen","_onLeftKeyed"),d=p(this,"isActive","isOpen","_onRightKeyed"),u=p(this,"_openIfActive","_onQueryChanged"),h=p(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",i,this).onSync("blurred",n,this).onSync("enterKeyed",r,this).onSync("tabKeyed",o,this).onSync("escKeyed",a,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",d,this).onSync("queryChanged",u,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}function p(i){var e=[].slice.call(arguments,1);return function(){var t=[].slice.call(arguments);v.each(e,function(e){return i[e].apply(i,t)})}}return v.mixin(e.prototype,{_hacks:function(){var r,o;r=this.input.$input||g("<div>"),o=this.menu.$node||g("<div>"),r.on("blur.tt",function(e){var t,i,n;t=document.activeElement,i=o.is(t),n=0<o.has(t).length,v.isMsie()&&(i||n)&&(e.preventDefault(),e.stopImmediatePropagation(),v.defer(function(){r.focus()}))}),o.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,t)},_onAsyncRequested:function(e,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(e,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(e,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=v.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,t,i,n,r,o;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),i=this.input.getInputValue(),!t||v.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(n=b.normalizeQuery(i),r=v.escapeRegExChars(n),(o=new RegExp("^(?:"+r+")(.+$)","i").exec(t.val))&&this.input.setHint(i+o[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(v.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,i;return t=this.input.getQuery(),!(!((i=this.menu.getSelectableData(e))&&t!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(e){var t,i,n,r;return t=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),r=(n=this.menu.getSelectableData(i))?n.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),e}();!function(){"use strict";function n(e,i){e.each(function(){var e,t=g(this);(e=t.data(m.typeahead))&&i(e,t)})}function f(e){var t;return(t=v.isJQuery(e)||v.isElement(e)?g(e).first():[]).length?t:null}var e,m,t;e=g.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},t={initialize:function(u,h){var p;return h=v.isArray(h)?h:[].slice.call(arguments,1),p=i((u=u||{}).classNames),this.each(function(){var e,t,i,n,r,o,a,s,l,c,d;v.each(h,function(e){e.highlight=!!u.highlight}),e=g(this),t=g(p.html.wrapper),i=f(u.hint),n=f(u.menu),r=!1!==u.hint&&!i,o=!1!==u.menu&&!n,r&&(i=function(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(function(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}(e,p)),o&&(n=g(p.html.menu).css(p.css.menu)),i&&i.val(""),e=function(e,t){e.data(m.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{e.attr("dir")||e.attr("dir","auto")}catch(e){}return e}(e,p),(r||o)&&(t.css(p.css.wrapper),e.css(r?p.css.input:p.css.inputWithNoHint),e.wrap(t).parent().prepend(r?i:null).append(o?n:null)),d=o?C:_,a=new y({el:e}),s=new b({hint:i,input:e},p),l=new d({node:n,datasets:h},p),c=new w({input:s,menu:l,eventBus:a,minLength:u.minLength},p),e.data(m.www,p),e.data(m.typeahead,c)})},isEnabled:function(){var t;return n(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return n(this,function(e){e.enable()}),this},disable:function(){return n(this,function(e){e.disable()}),this},isActive:function(){var t;return n(this.first(),function(e){t=e.isActive()}),t},activate:function(){return n(this,function(e){e.activate()}),this},deactivate:function(){return n(this,function(e){e.deactivate()}),this},isOpen:function(){var t;return n(this.first(),function(e){t=e.isOpen()}),t},open:function(){return n(this,function(e){e.open()}),this},close:function(){return n(this,function(e){e.close()}),this},select:function(e){var t=!1,i=g(e);return n(this.first(),function(e){t=e.select(i)}),t},autocomplete:function(e){var t=!1,i=g(e);return n(this.first(),function(e){t=e.autocomplete(i)}),t},moveCursor:function(t){var i=!1;return n(this.first(),function(e){i=e.moveCursor(t)}),i},val:function(t){var i;return arguments.length?(n(this,function(e){e.setVal(t)}),this):(n(this.first(),function(e){i=e.getVal()}),i)},destroy:function(){return n(this,function(e,t){!function(i){var e,t;e=i.data(m.www),t=i.parent().filter(e.selectors.wrapper),v.each(i.data(m.attrs),function(e,t){v.isUndefined(e)?i.removeAttr(t):i.attr(t,e)}),i.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(e.classes.input),t.length&&(i.detach().insertAfter(t),t.remove())}(t),e.destroy()}),this}},g.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)},g.fn.typeahead.noConflict=function(){return g.fn.typeahead=e,this}}()}),function(r){"use strict";function i(e,t){(function(e,t){e.addClass("bootstrap-colorpalette");var n=[];r.each(t,function(e,t){n.push("<div>"),r.each(t,function(e,t){var i=['<button type="button" class="btn-color" style="background-color:',t,'" data-value="',t,'" title="',t,'"></button>'].join("");n.push(i)}),n.push("</div>")}),e.html(n.join(""))})(this.element=e,t&&t.colors||n),function(n){n.element.on("click",function(e){var t,i=r(e.target).closest(".btn-color");i[0]&&(t=i.attr("data-value"),n.value=t,n.element.trigger({type:"selectColor",color:t,element:n.element}))})}(this)}var n=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]];r.fn.extend({colorPalette:function(t){return this.each(function(){var e=r(this);e.data("colorpalette")||e.data("colorpalette",new i(e,t))}),this}})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){!function(S){"use strict";function b(e){return S.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e.replace(this.re,this.ch)}),e}function l(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(t).join("|")+")",n=new RegExp(i),r=new RegExp(i,"g"),o=null==e?"":""+e;return n.test(o)?o.replace(r,function(e){return t[e]}):o}function t(e,t){var o=arguments,a=e,s=t;[].shift.apply(o);var l,i=this.each(function(){var e=S(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof a&&a;if(t){if(i)for(var n in i)i.hasOwnProperty(n)&&(t.options[n]=i[n])}else{var r=S.extend({},u.DEFAULTS,S.fn.selectpicker.defaults||{},e.data(),i);r.template=S.extend({},u.DEFAULTS.template,S.fn.selectpicker.defaults?S.fn.selectpicker.defaults.template:{},e.data().template,i.template),e.data("selectpicker",t=new u(this,r,s))}"string"==typeof a&&(l=t[a]instanceof Function?t[a].apply(t,o):t.options[a])}});return void 0!==l?l:i}function e(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,n=String(e),r=n.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),i);if(i<r+s)return!1;for(var l=-1;++l<r;)if(t.charCodeAt(s+l)!=n.charCodeAt(l))return!1;return!0}var i,c,s,n,d;function r(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==s.call(e))throw new TypeError;var i=t.length,n=String(e),r=n.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;return a!=a&&(a=0),!(i<r+Math.min(Math.max(a,0),i))&&-1!=d.call(t,n,a)}String.prototype.includes||(s={}.toString,n=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),d="".indexOf,n?n(String.prototype,"includes",{value:r,configurable:!0,writable:!0}):String.prototype.includes=r),String.prototype.startsWith||(i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,i?i(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),S.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):(i.fireEvent&&((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)),this.trigger(e))},S.expr[":"].icontains=function(e,t,i){var n=S(e);return(n.data("tokens")||n.text()).toUpperCase().includes(i[3].toUpperCase())},S.expr[":"].ibegins=function(e,t,i){var n=S(e);return(n.data("tokens")||n.text()).toUpperCase().startsWith(i[3].toUpperCase())},S.expr[":"].aicontains=function(e,t,i){var n=S(e);return(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase().includes(i[3].toUpperCase())},S.expr[":"].aibegins=function(e,t,i){var n=S(e);return(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase().startsWith(i[3].toUpperCase())};var u=function(e,t,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=S(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=u.prototype.val,this.render=u.prototype.render,this.refresh=u.prototype.refresh,this.setStyle=u.prototype.setStyle,this.selectAll=u.prototype.selectAll,this.deselectAll=u.prototype.deselectAll,this.destroy=u.prototype.destroy,this.remove=u.prototype.remove,this.show=u.prototype.show,this.hide=u.prototype.hide,this.init()};u.VERSION="1.9.4",u.DEFAULTS={noneSelectedText:"--",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},u.prototype={constructor:u,init:function(){var t=this,e=this.$element.attr("id");this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),S('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",n=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+l(this.options.liveSearchPlaceholder)+'"')+"></div>":"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",s='<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+n+r+o+'<ul class="dropdown-menu inner" role="menu"></ul>'+a+"</div></div>";return S(s)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){function p(e,t,i,n){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==n&null!==n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"}function f(e,t,i,n){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(void 0!==i?' style="'+i+'"':"")+(m.options.liveSearchNormalize?' data-normalized-text="'+b(l(e))+'"':"")+(void 0!==n||null!==n?' data-tokens="'+n+'"':"")+">"+e+'<span class="'+m.options.iconBase+" "+m.options.tickIcon+' check-mark"></span></a>'}var m=this,g=[],v=0,e=document.createElement("option"),y=-1;if(this.options.title&&!this.multiple&&(y--,!this.$element.find(".bs-title-option").length)){var t=this.$element[0];e.className="bs-title-option",e.appendChild(document.createTextNode(this.options.title)),e.value="",t.insertBefore(e,t.firstChild),void 0===S(t.options[t.selectedIndex]).attr("selected")&&(e.selected=!0)}return this.$element.find("option").each(function(e){var t=S(this);if(y++,!t.hasClass("bs-title-option")){var i=this.className||"",n=this.style.cssText,r=t.data("content")?t.data("content"):t.html(),o=t.data("tokens")?t.data("tokens"):null,a=void 0!==t.data("subtext")?'<small class="text-muted">'+t.data("subtext")+"</small>":"",s=void 0!==t.data("icon")?'<span class="'+m.options.iconBase+" "+t.data("icon")+'"></span> ':"",l="OPTGROUP"===this.parentNode.tagName,c=this.disabled||l&&this.parentNode.disabled;if(""!==s&&c&&(s="<span>"+s+"</span>"),m.options.hideDisabled&&c&&!l)return void y--;if(t.data("content")||(r=s+'<span class="text">'+r+a+"</span>"),l&&!0!==t.data("divider")){var d=" "+this.parentNode.className||"";if(0===t.index()){v+=1;var u=this.parentNode.label,h=void 0!==t.parent().data("subtext")?'<small class="text-muted">'+t.parent().data("subtext")+"</small>":"";u=(t.parent().data("icon")?'<span class="'+m.options.iconBase+" "+t.parent().data("icon")+'"></span> ':"")+'<span class="text">'+u+h+"</span>",0!==e&&0<g.length&&(y++,g.push(p("",null,"divider",v+"div"))),y++,g.push(p(u,null,"dropdown-header"+d,v))}if(m.options.hideDisabled&&c)return void y--;g.push(p(f(r,"opt "+i+d,n,o),e,"",v))}else!0===t.data("divider")?g.push(p("",e,"divider")):!0===t.data("hidden")?g.push(p(f(r,i,n,o),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(y++,g.push(p("",null,"divider",v+"div"))),g.push(p(f(r,i,n,o),e)));m.liObj[e]=y}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),g.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t,n=this;!1!==e&&this.$element.find("option").each(function(e){var t=n.findLis().eq(n.liObj[e]);n.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),n.setSelected(e,this.selected,t)}),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,t=S(this),i=t.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&t.data("subtext")&&!n.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&n.options.showContent?t.data("content"):i+t.html()+e}}).toArray(),r=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var o=this.options.selectedTextFormat.split(">");if(1<o.length&&i.length>o[1]||1==o.length&&2<=i.length){t=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,a):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",a.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r=r||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",S.trim(r.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("ul"),r=document.createElement("li"),o=document.createElement("li"),a=document.createElement("a"),s=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(s.className="text",t.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",n.className="dropdown-menu inner",r.className="divider",s.appendChild(document.createTextNode("Inner text")),a.appendChild(s),o.appendChild(a),n.appendChild(o),n.appendChild(r),l&&i.appendChild(l),c){var h=document.createElement("span");c.className="bs-searchbox",h.className="form-control",c.appendChild(h),i.appendChild(c)}d&&i.appendChild(d),i.appendChild(n),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var p=a.offsetHeight,f=l?l.offsetHeight:0,m=c?c.offsetHeight:0,g=d?d.offsetHeight:0,v=u?u.offsetHeight:0,y=S(r).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(i),_=b?null:S(i),C=parseInt(b?b.paddingTop:_.css("paddingTop"))+parseInt(b?b.paddingBottom:_.css("paddingBottom"))+parseInt(b?b.borderTopWidth:_.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:_.css("borderBottomWidth")),w=C+parseInt(b?b.marginTop:_.css("marginTop"))+parseInt(b?b.marginBottom:_.css("marginBottom"))+2;document.body.removeChild(t),this.sizeInfo={liHeight:p,headerHeight:f,searchHeight:m,actionsHeight:g,doneButtonHeight:v,dividerHeight:y,menuPadding:C,menuExtras:w}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var o,a,s,l,c=this,d=this.$menu,u=this.$menuInner,e=S(window),t=this.$newElement[0].offsetHeight,h=this.sizeInfo.liHeight,p=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,m=this.sizeInfo.actionsHeight,g=this.sizeInfo.doneButtonHeight,i=this.sizeInfo.dividerHeight,v=this.sizeInfo.menuPadding,y=this.sizeInfo.menuExtras,n=this.options.hideDisabled?".disabled":"",b=function(){s=c.$newElement.offset().top-e.scrollTop(),l=e.height()-s-t};if(b(),"auto"===this.options.size){var r=function(){function e(t,i){return function(e){return i?e.classList?e.classList.contains(t):S(e).hasClass(t):!(e.classList?e.classList.contains(t):S(e).hasClass(t))}}var t,i=c.$menuInner[0].getElementsByTagName("li"),n=Array.prototype.filter?Array.prototype.filter.call(i,e("hidden",!1)):c.$lis.not(".hidden"),r=Array.prototype.filter?Array.prototype.filter.call(n,e("dropdown-header",!0)):n.filter(".dropdown-header");b(),o=l-y,a=c.options.container?(d.data("height")||d.data("height",d.height()),d.data("height")):d.height(),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",l<s&&o-y<a),c.$newElement.hasClass("dropup")&&(o=s-y),t=3<n.length+r.length?3*h+y-2:0,d.css({"max-height":o+"px",overflow:"hidden","min-height":t+p+f+m+g+"px"}),u.css({"max-height":o-p-f-m-g-v+"px","overflow-y":"auto","min-height":Math.max(t-v,0)+"px"})};r(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",r),e.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",r)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(n).length>this.options.size){var _=this.$lis.not(".divider").not(n).children().slice(0,this.options.size).last().parent().index(),C=this.$lis.slice(0,_+1).filter(".divider").length;o=h*this.options.size+C*i+v,a=c.options.container?(d.data("height")||d.data("height",d.height()),d.data("height")):d.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",l<s&&o-y<a),d.css({"max-height":o+p+f+m+g+"px",overflow:"hidden","min-height":""}),u.css({"max-height":o-v+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),n=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=S('<div class="bs-container" />');function t(e){r.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),i=e.offset(),n=e.hasClass("dropup")?0:e[0].offsetHeight,r.$bsContainer.css({top:i.top+n,left:i.left,width:e[0].offsetWidth})}var i,n,r=this;this.$button.on("click",function(){var e=S(this);r.isDisabled()||(t(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass("open",!e.hasClass("open")).append(r.$menu))}),S(window).on("resize scroll",function(){t(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setSelected:function(e,t,i){(i=i||this.findLis().eq(this.liObj[e])).toggleClass("selected",t)},setDisabled:function(e,t,i){i=i||this.findLis().eq(this.liObj[e]),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var y=this,t=S(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$button.on("click",function(){y.setSize(),y.$element.on("shown.bs.select",function(){if(y.options.liveSearch||y.multiple){if(!y.multiple){var e=y.liObj[y.$element[0].selectedIndex];if("number"!=typeof e||!1===y.options.size)return;var t=y.$lis.eq(e)[0].offsetTop-y.$menuInner[0].offsetTop;t=t-y.$menuInner[0].offsetHeight/2+y.sizeInfo.liHeight/2,y.$menuInner[0].scrollTop=t}}else y.$menuInner.find(".selected a").focus()})}),this.$menuInner.on("click","li a",function(e){var t=S(this),i=t.parent().data("originalIndex"),n=y.$element.val(),r=y.$element.prop("selectedIndex");if(y.multiple&&e.stopPropagation(),e.preventDefault(),!y.isDisabled()&&!t.parent().hasClass("disabled")){var o=y.$element.find("option"),a=o.eq(i),s=a.prop("selected"),l=a.parent("optgroup"),c=y.options.maxOptions,d=l.data("maxOptions")||!1;if(y.multiple){if(a.prop("selected",!s),y.setSelected(i,!s),t.blur(),!1!==c||!1!==d){var u=c<o.filter(":selected").length,h=d<l.find("option:selected").length;if(c&&u||d&&h)if(c&&1==c)o.prop("selected",!1),a.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(i,!0);else if(d&&1==d){l.find("option:selected").prop("selected",!1),a.prop("selected",!0);var p=t.parent().data("optgroup");y.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),y.setSelected(i,!0)}else{var f="function"==typeof y.options.maxOptionsText?y.options.maxOptionsText(c,d):y.options.maxOptionsText,m=f[0].replace("{n}",c),g=f[1].replace("{n}",d),v=S('<div class="notify"></div>');f[2]&&(m=m.replace("{var}",f[2][1<c?0:1]),g=g.replace("{var}",f[2][1<d?0:1])),a.prop("selected",!1),y.$menu.append(v),c&&u&&(v.append(S("<div>"+m+"</div>")),y.$element.trigger("maxReached.bs.select")),d&&h&&(v.append(S("<div>"+g+"</div>")),y.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){y.setSelected(i,!1)},10),v.delay(750).fadeOut(300,function(){S(this).remove()})}}}else o.prop("selected",!1),a.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(i,!0);y.multiple?y.options.liveSearch&&y.$searchbox.focus():y.$button.focus(),(n!=y.$element.val()&&y.multiple||r!=y.$element.prop("selectedIndex")&&!y.multiple)&&(y.$element.triggerNative("change"),y.$element.trigger("changed.bs.select",[i,a.prop("selected"),s]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),y.options.liveSearch&&!S(e.target).hasClass("close")?y.$searchbox.focus():y.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),y.options.liveSearch?y.$searchbox.focus():y.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){y.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){y.options.liveSearch?y.$searchbox.focus():y.$button.focus(),e.preventDefault(),e.stopPropagation(),S(this).hasClass("bs-select-all")?y.selectAll():y.deselectAll(),y.$element.triggerNative("change")}),this.$element.change(function(){y.render(!1)})},liveSearchListener:function(){var n=this,t=S('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length&&t.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var e=n.$lis.not(".is-hidden").removeClass("hidden").children("a");(e=n.options.liveSearchNormalize?e.not(":a"+n._searchStyle()+'("'+b(n.$searchbox.val())+'")'):e.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')).parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=S(this),t=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+t+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+t+"div]").addClass("hidden"))});var i=n.$lis.not(".hidden");i.each(function(e){var t=S(this);t.hasClass("divider")&&(t.index()===i.first().index()||t.index()===i.last().index()||i.eq(e+1).hasClass("divider"))&&t.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?t.parent().length&&t.remove():(t.parent().length&&t.remove(),t.html(n.options.noneResultsText.replace("{0}",'"'+l(n.$searchbox.val())+'"')).show(),n.$menuInner.append(t))}else n.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length&&t.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),S(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(e){void 0===e&&(e=!0),this.findLis();for(var t=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",e),n=i.length,r=[],o=0;o<n;o++){var a=i[o].getAttribute("data-original-index");r[r.length]=t.eq(a)[0]}S(r).prop("selected",e),this.render(!1)},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},keydown:function(e){var t,i,n,r,o,a,s,l,c,d=S(this),u=d.is("input")?d.parent().parent():d.parent(),h=u.data("this"),p=":not(.disabled, .hidden, .dropdown-header, .divider)",f={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(h.options.liveSearch&&(u=d.parent().parent()),h.options.container&&(u=h.$menu),t=S("[role=menu] li",u),!(c=h.$newElement.hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90)&&(h.options.container?h.$button.trigger("click"):(h.setSize(),h.$menu.parent().addClass("open"),c=!0),h.$searchbox.focus()),h.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&0===h.$menu.find(".active").length&&(e.preventDefault(),h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus()),t=S("[role=menu] li"+p,u),d.val()||/(38|40)/.test(e.keyCode.toString(10))||0===t.filter(".active").length&&(t=h.$menuInner.find("li"),t=h.options.liveSearchNormalize?t.filter(":a"+h._searchStyle()+"("+b(f[e.keyCode])+")"):t.filter(":"+h._searchStyle()+"("+f[e.keyCode]+")"))),t.length){if(/(38|40)/.test(e.keyCode.toString(10)))i=t.index(t.find("a").filter(":focus").parent()),r=t.filter(p).first().index(),o=t.filter(p).last().index(),n=t.eq(i).nextAll(p).eq(0).index(),a=t.eq(i).prevAll(p).eq(0).index(),s=t.eq(n).prevAll(p).eq(0).index(),h.options.liveSearch&&(t.each(function(e){S(this).hasClass("disabled")||S(this).data("index",e)}),i=t.index(t.filter(".active")),r=t.first().data("index"),o=t.last().data("index"),n=t.eq(i).nextAll().eq(0).data("index"),a=t.eq(i).prevAll().eq(0).data("index"),s=t.eq(n).prevAll().eq(0).data("index")),l=d.data("prevIndex"),38==e.keyCode?(h.options.liveSearch&&i--,i!=s&&a<i&&(i=a),i<r&&(i=r),i==l&&(i=o)):40==e.keyCode&&(h.options.liveSearch&&i++,-1==i&&(i=0),i!=s&&i<n&&(i=n),o<i&&(i=o),i==l&&(i=r)),d.data("prevIndex",i),h.options.liveSearch?(e.preventDefault(),d.hasClass("dropdown-toggle")||(t.removeClass("active").eq(i).addClass("active").children("a").focus(),d.focus())):t.eq(i).children("a").focus();else if(!d.is("input")){var m,g=[];t.each(function(){S(this).hasClass("disabled")||S.trim(S(this).children("a").text().toLowerCase()).substring(0,1)==f[e.keyCode]&&g.push(S(this).index())}),m=S(document).data("keycount"),m++,S(document).data("keycount",m),S.trim(S(":focus").text().toLowerCase()).substring(0,1)!=f[e.keyCode]?(m=1,S(document).data("keycount",m)):m>=g.length&&(S(document).data("keycount",0),m>g.length&&(m=1)),t.eq(g[m-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&h.options.selectOnTab)&&c){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),h.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(h.$menuInner.find(".active a").click(),d.focus());else{var v=S(":focus");v.click(),v.focus(),e.preventDefault(),S(document).data("spaceSelect",!0)}S(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&(h.multiple||h.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!c)&&(h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var o=S.fn.selectpicker;S.fn.selectpicker=t,S.fn.selectpicker.Constructor=u,S.fn.selectpicker.noConflict=function(){return S.fn.selectpicker=o,this},S(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',u.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),S(window).on("load.bs.select.data-api",function(){S(".selectpicker").each(function(){var e=S(this);t.call(e,e.data())})})}(e)}),function(a){var s,l=a();a.fn.sortable=function(o){var e=String(o);return o=a.extend({connectWith:!1},o),this.each(function(){if(/^enable|disable|destroy$/.test(e)){var t=a(this).children(a(this).data("items")).attr("draggable","enable"==e);"destroy"==e&&t.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}else{t=a(this).children(o.items);var i,n,r=a("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');t.find(o.handle).mousedown(function(){i=!0}).mouseup(function(){i=!1}),a(this).data("items",o.items),l=l.add(r),o.connectWith&&a(o.connectWith).add(this).data("connectWith",o.connectWith),t.attr("draggable","true").on("dragstart.h5s",function(e){if(o.handle&&!i)return!1;i=!1;var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.setData("Text","dummy"),n=(s=a(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){s&&(s.removeClass("sortable-dragging").show(),l.detach(),n!=s.index()&&s.parent().trigger("sortupdate",{item:s}),s=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,r]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){return!t.is(s)&&o.connectWith!==a(s).parent().data("connectWith")||("drop"==e.type?(e.stopPropagation(),l.filter(":visible").after(s),s.trigger("dragend.h5s")):(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move",t.is(this)?(o.forcePlaceholderSize&&r.height(s.outerHeight()),s.hide(),a(this)[r.index()<a(this).index()?"after":"before"](r),l.not(r).detach()):l.is(this)||a(this).children(o.items).length||(l.detach(),a(this).append(r))),!1)})}})}}(jQuery),function(c){function l(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function d(e,t){return ae.call(e,t)}function o(e){!1===te.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function t(e,t){var i=!0;return a(function(){return i&&(o(e),i=!1),t.apply(this,arguments)},t)}function e(t,i){return function(e){return p(t.call(this,e),i)}}function i(t,i){return function(e){return this.localeData().ordinal(t.call(this,e),i)}}function n(){}function r(e,t){!1!==t&&O(e),s(this,e),this._d=new Date(+e._d),!1===Je&&(Je=!0,te.updateOffset(this),Je=!1)}function u(e){var t=C(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=te.localeData(),this._bubble()}function a(e,t){for(var i in t)d(t,i)&&(e[i]=t[i]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t){var i,n,r;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),0<me.length)for(i in me)void 0!==(r=t[n=me[i]])&&(e[n]=r);return e}function h(e){return e<0?Math.ceil(e):Math.floor(e)}function p(e,t,i){for(var n=""+Math.abs(e),r=0<=e;n.length<t;)n="0"+n;return(r?i?"+":"":"-")+n}function f(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function m(n,r){return function(e,t){var i;return null===t||isNaN(+t)||(function(e,t){Ke[e]||(o(t),Ke[e]=!0)}(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period)."),i=e,e=t,t=i),e="string"==typeof e?+e:e,g(this,te.duration(e,t),n),this}}function g(e,t,i,n){var r=t._milliseconds,o=t._days,a=t._months;n=null==n||n,r&&e._d.setTime(+e._d+r*i),o&&V(e,"Date",Y(e,"Date")+o*i),a&&Q(e,Y(e,"Month")+a*i),n&&te.updateOffset(e,o||a)}function v(e){return"[object Array]"===Object.prototype.toString.call(e)}function y(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function b(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&S(e[n])!==S(t[n]))&&a++;return a+o}function _(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Ue[e]||We[t]||t}return e}function C(e){var t,i,n={};for(i in e)d(e,i)&&((t=_(i))&&(n[t]=e[i]));return n}function w(a){var s,l;if(0===a.indexOf("week"))s=7,l="day";else{if(0!==a.indexOf("month"))return;s=12,l="month"}te[a]=function(i,e){var t,n,r=te._locale[a],o=[];if("number"==typeof i&&(e=i,i=c),n=function(e){var t=te().utc().set(l,e);return r.call(te._locale,t,i||"")},null!=e)return n(e);for(t=0;t<s;t++)o.push(n(t));return o}}function S(e){var t=+e,i=0;return 0!=t&&isFinite(t)&&(i=0<=t?Math.floor(t):Math.ceil(t)),i}function k(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function I(e,t,i){return W(te([e,11,31+t-i]),t,i).week}function M(e){return T(e)?366:365}function T(e){return e%4==0&&e%100!=0||e%400==0}function O(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[le]<0||11<e._a[le]?le:e._a[ce]<1||e._a[ce]>k(e._a[se],e._a[le])?ce:e._a[de]<0||24<e._a[de]||24===e._a[de]&&(0!==e._a[ue]||0!==e._a[he]||0!==e._a[pe])?de:e._a[ue]<0||59<e._a[ue]?ue:e._a[he]<0||59<e._a[he]?he:e._a[pe]<0||999<e._a[pe]?pe:-1,e._pf._overflowDayOfYear&&(t<se||ce<t)&&(t=ce),e._pf.overflow=t)}function x(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===c)),e._isValid}function A(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){var t=null;if(!fe[e]&&ge)try{t=te.locale(),require("./locale/"+e),te.locale(t)}catch(e){}return fe[e]}function D(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(te.isMoment(e)||y(e)?+e:+te(e))-+i,i._d.setTime(+i._d+n),te.updateOffset(i,!1),i):te(e).local()}function N(e,t){return e.isValid()?(t=E(t,e.localeData()),Ge[t]||(Ge[t]=function(i){var n,r,e,o=i.match(_e);for(n=0,r=o.length;n<r;n++)o[n]=Ve[o[n]]?Ve[o[n]]:(e=o[n]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var t="";for(n=0;n<r;n++)t+=o[n]instanceof Function?o[n].call(e,i):o[n];return t}}(t)),Ge[t](e)):e.localeData().invalidDate()}function E(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Ce.lastIndex=0;0<=n&&Ce.test(e);)e=e.replace(Ce,i),Ce.lastIndex=0,n-=1;return e}function $(e,t){var i=t._strict;switch(e){case"Q":return De;case"DDDD":return Ee;case"YYYY":case"GGGG":case"gggg":return i?$e:ke;case"Y":case"G":case"g":return Le;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Re:Ie;case"S":if(i)return De;case"SS":if(i)return Ne;case"SSS":if(i)return Ee;case"DDD":return Se;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Te;case"a":case"A":return t._locale._meridiemParse;case"x":return Ae;case"X":return Pe;case"Z":case"ZZ":return Oe;case"T":return xe;case"SSSS":return Me;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Ne:we;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return we;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})}(e.replace("\\",""))))}}function R(e){var t=(e=e||"").match(Oe)||[],i=((t[t.length-1]||[])+"").match(ze)||["-",0,0],n=60*i[1]+S(i[2]);return"+"===i[0]?n:-n}function L(e,t,i){var n,r=i._a;switch(e){case"Q":null!=t&&(r[le]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(r[le]=S(t)-1);break;case"MMM":case"MMMM":null!=(n=i._locale.monthsParse(t,e,i._strict))?r[le]=n:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[ce]=S(t));break;case"Do":null!=t&&(r[ce]=S(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=S(t));break;case"YY":r[se]=te.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[se]=S(t);break;case"a":case"A":i._meridiem=t;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":r[de]=S(t);break;case"m":case"mm":r[ue]=S(t);break;case"s":case"ss":r[he]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":r[pe]=S(1e3*("0."+t));break;case"x":i._d=new Date(S(t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=R(t);break;case"dd":case"ddd":case"dddd":null!=(n=i._locale.weekdaysParse(t))?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=S(t));break;case"gg":case"GG":i._w=i._w||{},i._w[e]=te.parseTwoDigitYear(t)}}function B(e){var t,i,n,r,o,a,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,i=l(t.GG,e._a[se],W(te(),1,4).year),n=l(t.W,1),r=l(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,i=l(t.gg,e._a[se],W(te(),o,a).year),n=l(t.w,1),null!=t.d?(r=t.d)<o&&++n:r=null!=t.e?t.e+o:o),s=function(e,t,i,n,r){var o,a=U(e,0,1).getUTCDay();return{year:0<(o=7*(t-1)+((i=null!=i?i:r)-r)+(r-(a=0===a?7:a)+(n<a?7:0)-(a<r?7:0))+1)?e:e-1,dayOfYear:0<o?o:M(e-1)+o}}(i,n,r,a,o),e._a[se]=s.year,e._dayOfYear=s.dayOfYear}function H(e){var t,i,n,r,o=[];if(!e._d){for(n=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ce]&&null==e._a[le]&&B(e),e._dayOfYear&&(r=l(e._a[se],n[se]),e._dayOfYear>M(r)&&(e._pf._overflowDayOfYear=!0),i=U(r,0,e._dayOfYear),e._a[le]=i.getUTCMonth(),e._a[ce]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[de]&&0===e._a[ue]&&0===e._a[he]&&0===e._a[pe]&&(e._nextDay=!0,e._a[de]=0),e._d=(e._useUTC?U:function(e,t,i,n,r,o,a){var s=new Date(e,t,i,n,r,o,a);return e<1970&&s.setFullYear(e),s}).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[de]=24)}}function j(e){if(e._f!==te.ISO_8601){e._a=[],e._pf.empty=!0;var t,i,n,r,o,a=""+e._i,s=a.length,l=0;for(n=E(e._f,e._locale).match(_e)||[],t=0;t<n.length;t++)r=n[t],(i=(a.match($(r,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(i))).length&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),l+=i.length),Ve[r]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(r),L(r,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=s-l,0<a.length&&e._pf.unusedInput.push(a),!0===e._pf.bigHour&&e._a[de]<=12&&(e._pf.bigHour=c),e._a[de]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):(null!=e.isPM&&((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[de],e._meridiem),H(e),O(e)}else z(e)}function z(e){var t,i,n=e._i,r=Be.exec(n);if(r){for(e._pf.iso=!0,t=0,i=He.length;t<i;t++)if(He[t][1].exec(n)){e._f=He[t][0]+(r[6]||" ");break}for(t=0,i=je.length;t<i;t++)if(je[t][1].exec(n)){e._f+=je[t][0];break}n.match(Oe)&&(e._f+="Z"),j(e)}else e._isValid=!1}function F(e){var t,i=e._i;i===c?e._d=new Date:y(i)?e._d=new Date(+i):null!==(t=ve.exec(i))?e._d=new Date(+t[1]):"string"==typeof i?function(e){z(e),!1===e._isValid&&(delete e._isValid,te.createFromInputFallback(e))}(e):v(i)?(e._a=function(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}(i.slice(0),function(e){return parseInt(e,10)}),H(e)):"object"==typeof i?function(e){var t;e._d||(t=C(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],H(e))}(e):"number"==typeof i?e._d=new Date(i):te.createFromInputFallback(e)}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function W(e,t,i){var n,r=i-t,o=i-e.day();return r<o&&(o-=7),o<r-7&&(o+=7),n=te(e).add(o,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function G(e){var t,i=e._i,n=e._f;return e._locale=e._locale||te.localeData(e._l),null===i||n===c&&""===i?te.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),te.isMoment(i)?new r(i,!0):(n?v(n)?function(e){var t,i,n,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=s({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[r],j(t),x(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==n||o<n)&&(n=o,i=t));a(e,i||t)}(e):j(e):F(e),(t=new r(e))._nextDay&&(t.add(1,"d"),t._nextDay=c),t))}function q(e,t){var i,n;if(1===t.length&&v(t[0])&&(t=t[0]),!t.length)return te();for(i=t[0],n=1;n<t.length;++n)t[n][e](i)&&(i=t[n]);return i}function Q(e,t){var i;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(i=Math.min(e.date(),k(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i)),e}function Y(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function V(e,t,i){return"Month"===t?Q(e,i):e._d["set"+(e._isUTC?"UTC":"")+t](i)}function K(t,i){return function(e){return null!=e?(V(this,t,e),te.updateOffset(this,i),this):Y(this,t)}}function X(e){return 400*e/146097}function J(e){return 146097*e/400}function Z(e){te.duration.fn[e]=function(){return this._data[e]}}function ee(e){"undefined"==typeof ender&&(ie=re.moment,re.moment=e?t("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",te):te)}for(var te,ie,ne,re="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,oe=Math.round,ae=Object.prototype.hasOwnProperty,se=0,le=1,ce=2,de=3,ue=4,he=5,pe=6,fe={},me=[],ge="undefined"!=typeof module&&module&&module.exports,ve=/^\/?Date\((\-?\d+)/i,ye=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,be=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_e=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ce=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,we=/\d\d?/,Se=/\d{1,3}/,ke=/\d{1,4}/,Ie=/[+\-]?\d{1,6}/,Me=/\d+/,Te=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Oe=/Z|[\+\-]\d\d:?\d\d/gi,xe=/T/i,Ae=/[\+\-]?\d+/,Pe=/[\+\-]?\d+(\.\d{1,3})?/,De=/\d/,Ne=/\d\d/,Ee=/\d{3}/,$e=/\d{4}/,Re=/[+-]?\d{6}/,Le=/[+-]?\d+/,Be=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,He=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ze=/([\+\-]|\d\d)/gi,Fe=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},We={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ge={},qe={s:45,m:45,h:22,d:26,M:11},Qe="DDD w W M D d".split(" "),Ye="M D H h m s w W".split(" "),Ve={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year();return(0<=e?"+":"-")+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return p(S(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+p(S(e/60),2)+":"+p(S(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+p(S(e/60),2)+p(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ke={},Xe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Je=!1;Qe.length;)ne=Qe.pop(),Ve[ne+"o"]=i(Ve[ne],ne);for(;Ye.length;)ne=Ye.pop(),Ve[ne+ne]=e(Ve[ne],2);for(Ve.DDDD=e(Ve.DDD,3),a(n.prototype,{set:function(e){var t,i;for(i in e)"function"==typeof(t=e[i])?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,i){var n,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=te.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(i=te([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,i){var n=this._calendar[e];return"function"==typeof n?n.apply(t,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[0<e?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return W(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(te=function(e,t,i,n){var r;return"boolean"==typeof i&&(n=i,i=c),(r={_isAMomentObject:!0})._i=e,r._f=t,r._l=i,r._strict=n,r._isUTC=!1,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},G(r)}).suppressDeprecationWarnings=!1,te.createFromInputFallback=t("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),te.min=function(){return q("isBefore",[].slice.call(arguments,0))},te.max=function(){return q("isAfter",[].slice.call(arguments,0))},te.utc=function(e,t,i,n){var r;return"boolean"==typeof i&&(n=i,i=c),(r={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=i,r._i=e,r._f=t,r._strict=n,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},G(r).utc()},te.unix=function(e){return te(1e3*e)},te.duration=function(e,t){var i,n,r,o,a=e,s=null;return te.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=ye.exec(e))?(i="-"===s[1]?-1:1,a={y:0,d:S(s[ce])*i,h:S(s[de])*i,m:S(s[ue])*i,s:S(s[he])*i,ms:S(s[pe])*i}):(s=be.exec(e))?(i="-"===s[1]?-1:1,a={y:(r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i})(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var i;return t=D(t,e),e.isBefore(t)?i=f(e,t):((i=f(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i}(te(a.from),te(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),n=new u(a),te.isDuration(e)&&d(e,"_locale")&&(n._locale=e._locale),n},te.version="2.9.0",te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",te.ISO_8601=function(){},te.momentProperties=me,te.updateOffset=function(){},te.relativeTimeThreshold=function(e,t){return qe[e]!==c&&(t===c?qe[e]:(qe[e]=t,!0))},te.lang=t("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return te.locale(e,t)}),te.locale=function(e,t){var i;return e&&((i=void 0!==t?te.defineLocale(e,t):te.localeData(e))&&(te.duration._locale=te._locale=i)),te._locale._abbr},te.defineLocale=function(e,t){return null!==t?(t.abbr=e,fe[e]||(fe[e]=new n),fe[e].set(t),te.locale(e),fe[e]):(delete fe[e],null)},te.langData=t("moment.langData is deprecated. Use moment.localeData instead.",function(e){return te.localeData(e)}),te.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return te._locale;if(!v(e)){if(t=P(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=A(e[o]).split("-")).length,i=(i=A(e[o+1]))?i.split("-"):null;0<t;){if(n=P(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&b(r,i,!0)>=t-1)break;t--}o++}return null}(e)},te.isMoment=function(e){return e instanceof r||null!=e&&d(e,"_isAMomentObject")},te.isDuration=function(e){return e instanceof u},ne=Xe.length-1;0<=ne;--ne)w(Xe[ne]);for(ne in te.normalizeUnits=function(e){return _(e)},te.invalid=function(e){var t=te.utc(NaN);return null!=e?a(t._pf,e):t._pf.userInvalidated=!0,t},te.parseZone=function(){return te.apply(null,arguments).parseZone()},te.parseTwoDigitYear=function(e){return S(e)+(68<S(e)?1900:2e3)},te.isDate=y,a(te.fn=r.prototype,{clone:function(){return te(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=te(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<b(this._a,(this._isUTC?te.utc(this._a):te(this._a)).toArray()))},parsingFlags:function(){return a({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=N(this,e||te.defaultFormat);return this.localeData().postformat(t)},add:m(1,"add"),subtract:m(-1,"subtract"),diff:function(e,t,i){var n,r,o=D(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return"year"===(t=_(t))||"month"===t||"quarter"===t?(r=function(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(1+i,"months")-n)))}(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(n=this-o,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-a)/864e5:"week"===t?(n-a)/6048e5:n),i?r:h(r)},from:function(e,t){return te.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(te(),e)},calendar:function(e){var t=e||te(),i=D(t,this).startOf("day"),n=this.diff(i,"days",!0),r=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,te(t)))},isLeapYear:function(){return T(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}(e,this.localeData()),this.add(e-t,"d")):t},month:K("Month",!0),startOf:function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return(e=_(e))===c||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return"millisecond"===(t=_(void 0!==t?t:"millisecond"))?+(e=te.isMoment(e)?e:te(e))<+this:(te.isMoment(e)?+e:+te(e))<+this.clone().startOf(t)},isBefore:function(e,t){var i;return"millisecond"===(t=_(void 0!==t?t:"millisecond"))?+this<+(e=te.isMoment(e)?e:te(e)):(i=te.isMoment(e)?+e:+te(e),+this.clone().endOf(t)<i)},isBetween:function(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)},isSame:function(e,t){var i;return"millisecond"===(t=_(t||"millisecond"))?+this==+(e=te.isMoment(e)?e:te(e)):(i=+te(e),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))},min:t("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return(e=te.apply(null,arguments))<this?this:e}),max:t("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return this<(e=te.apply(null,arguments))?this:e}),zone:t("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var i,n=this._offset||0;return null!=e?("string"==typeof e&&(e=R(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?g(this,te.duration(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,te.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(R(this._i)),this},hasAlignedHourOffset:function(e){return e=e?te(e).utcOffset():0,(this.utcOffset()-e)%60==0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(e){var t=oe((te(this).startOf("day")-te(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=W(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=W(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=W(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return I(this.year(),e.dow,e.doy)},get:function(e){return this[e=_(e)]()},set:function(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else"function"==typeof this[e=_(e)]&&this[e](t);return this},locale:function(e){var t;return e===c?this._locale._abbr:(null!=(t=te.localeData(e))&&(this._locale=t),this)},lang:t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===c?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),te.fn.millisecond=te.fn.milliseconds=K("Milliseconds",!1),te.fn.second=te.fn.seconds=K("Seconds",!1),te.fn.minute=te.fn.minutes=K("Minutes",!1),te.fn.hour=te.fn.hours=K("Hours",!0),te.fn.date=K("Date",!0),te.fn.dates=t("dates accessor is deprecated. Use date instead.",K("Date",!0)),te.fn.year=K("FullYear",!0),te.fn.years=t("years accessor is deprecated. Use year instead.",K("FullYear",!0)),te.fn.days=te.fn.day,te.fn.months=te.fn.month,te.fn.weeks=te.fn.week,te.fn.isoWeeks=te.fn.isoWeek,te.fn.quarters=te.fn.quarter,te.fn.toJSON=te.fn.toISOString,te.fn.isUTC=te.fn.isUtc,a(te.duration.fn=u.prototype,{_bubble:function(){var e,t,i,n=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=n%1e3,e=h(n/1e3),a.seconds=e%60,t=h(e/60),a.minutes=t%60,i=h(t/60),a.hours=i%24,r+=h(i/24),o+=h((r-=h(J(s=h(X(r)))))/30),r%=30,s+=h(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=function(e,t,i){var n=te.duration(e).abs(),r=oe(n.as("s")),o=oe(n.as("m")),a=oe(n.as("h")),s=oe(n.as("d")),l=oe(n.as("M")),c=oe(n.as("y")),d=r<qe.s&&["s",r]||1===o&&["m"]||o<qe.m&&["mm",o]||1===a&&["h"]||a<qe.h&&["hh",a]||1===s&&["d"]||s<qe.d&&["dd",s]||1===l&&["M"]||l<qe.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=t,d[3]=0<+e,d[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply({},d)}(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var i=te.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=te.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return this[(e=_(e)).toLowerCase()+"s"]()},as:function(e){var t,i;if("month"===(e=_(e))||"year"===e)return t=this._days+this._milliseconds/864e5,i=this._months+12*X(t),"month"===e?i:i/12;switch(t=this._days+Math.round(J(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:te.fn.lang,locale:te.fn.locale,toIsoString:t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||r||o?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),te.duration.fn.toString=te.duration.fn.toISOString,Fe)d(Fe,ne)&&Z(ne.toLowerCase());te.duration.fn.asMilliseconds=function(){return this.as("ms")},te.duration.fn.asSeconds=function(){return this.as("s")},te.duration.fn.asMinutes=function(){return this.as("m")},te.duration.fn.asHours=function(){return this.as("h")},te.duration.fn.asDays=function(){return this.as("d")},te.duration.fn.asWeeks=function(){return this.as("weeks")},te.duration.fn.asMonths=function(){return this.as("M")},te.duration.fn.asYears=function(){return this.as("y")},te.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),ge?module.exports=te:"function"==typeof define&&define.amd?(define(function(e,t,i){return i.config&&i.config()&&!0===i.config().noGlobal&&(re.moment=ie),te}),ee(!0)):ee()}.call(this),function(M,T){function O(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var e=new Date;return O(e.getFullYear(),e.getMonth(),e.getDate())}function e(e){return function(){return this[e].apply(this,arguments)}}function y(e,t){this._process_options(t),this.dates=new r,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=M(e),this.isInline=!1,this.doubleCalendar=t.doubleCalendar&&1==t.doubleCalendar,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=M(A.template),this.doubleCalendar&&(this.picker=M(A.templateDouble),this.picker.addClass("double")),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.doubleCalendar?0:this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()}var t,i,u,c,x,A,n,r=(n={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(M.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new r;return e.replace(this),e}},function(){var e=[];return e.push.apply(e,arguments),M.extend(e,n),e});y.prototype={constructor:y,_process_options:function(e){var t,i,n,r,o,a;switch(this._o=M.extend({},this._o,e),i=(t=this.o=M.extend({},this._o)).language,x[i]||(i=i.split("-")[0],x[i]||(i=u.language)),t.language=i,t.startView){case 2:case"decade":t.startView=2;break;case 1:case"year":t.startView=1;break;default:t.startView=0}switch(t.minViewMode){case 1:case"months":t.minViewMode=1;break;case 2:case"years":t.minViewMode=2;break;default:t.minViewMode=0}if(t.startView=Math.max(t.startView,t.minViewMode),!0!==t.multidate&&(t.multidate=Number(t.multidate)||!1,!1!==t.multidate&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7,n=A.parseFormat(t.format),t.startDate!==-1/0&&(t.startDate=t.startDate?t.startDate instanceof Date?this._local_to_utc(this._zero_time(t.startDate)):A.parseDate(t.startDate,n,t.language):-1/0),t.endDate!==1/0&&(t.endDate=t.endDate?t.endDate instanceof Date?this._local_to_utc(this._zero_time(t.endDate)):A.parseDate(t.endDate,n,t.language):1/0),t.daysOfWeekDisabled=t.daysOfWeekDisabled||[],M.isArray(t.daysOfWeekDisabled)||(t.daysOfWeekDisabled=t.daysOfWeekDisabled.split(/[,\s]*/)),t.daysOfWeekDisabled=M.map(t.daysOfWeekDisabled,function(e){return parseInt(e,10)}),t.datesDisabled=t.datesDisabled||[],M.isArray(t.datesDisabled)||((r=[]).push(A.parseDate(t.datesDisabled,n,t.language)),t.datesDisabled=r),t.datesDisabled=M.map(t.datesDisabled,function(e){return A.parseDate(e,n,t.language)}),o=String(t.orientation).toLowerCase().split(/\s+/g),a=t.orientation.toLowerCase(),o=M.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),t.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===o.length)switch(o[0]){case"top":case"bottom":t.orientation.y=o[0];break;case"left":case"right":t.orientation.x=o[0]}else a=M.grep(o,function(e){return/^left|right$/.test(e)}),t.orientation.x=a[0]||"auto",a=M.grep(o,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=a[0]||"auto";if(t.defaultViewDate){var s=t.defaultViewDate.year||(new Date).getFullYear(),l=t.defaultViewDate.month||0,c=t.defaultViewDate.day||1;t.defaultViewDate=O(s,l,c)}else t.defaultViewDate=d();t.showOnFocus=t.showOnFocus===T||t.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(i=T,n=e[r][1]):3===e[r].length&&(i=e[r][1],n=e[r][2]),t.on(n,i)},_unapplyEvents:function(e){for(var t,i,n,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(n=T,i=e[r][1]):3===e[r].length&&(n=e[r][1],i=e[r][2]),t.off(i,n)},_buildEvents:function(){var e={keyup:M.proxy(function(e){-1===M.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:M.proxy(this.keydown,this)};!0===this.o.showOnFocus&&(e.focus=M.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:M.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:M.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:M.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:M.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:M.proxy(this.click,this)}],[M(window),{resize:M.proxy(this.place,this)}],[M(document),{"mousedown touchstart":M.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var i=t||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:e,date:n,dates:M.map(this.dates,this._utc_to_local),format:M.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return A.formatDate(i,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||!1!==this.o.enableOnReadonly)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&M(this.element).blur(),this},hide:function(){return this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")),this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return M.map(this.dates,this._utc_to_local)},getUTCDates:function(){return M.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return void 0!==e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=M.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=M.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,M.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(t){t===T&&(t=this.o.format);var i=this.o.language;return M.map(this.dates,function(e){return A.formatDate(e,t,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){var e,t,i,n;if(this.isInline)return this;var r=this.picker.outerWidth(),o=this.picker.outerHeight(),a=M(this.o.container).width(),s=M(this.o.container).height(),l=M(this.o.container).scrollTop(),c=M(this.o.container).offset(),d=[];this.element.parents().each(function(){var e=M(this).css("z-index");"auto"!==e&&0!==e&&d.push(parseInt(e))});var u=Math.max.apply(Math,d)+10,h=this.component?this.component.parent().offset():this.element.offset(),p=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),f=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=h.left-c.left,g=h.top-c.top;return this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=r-f)):h.left<0?(this.picker.addClass("datepicker-orient-left"),m-=h.left-10):a<m+r?(this.picker.addClass("datepicker-orient-right"),m=h.left+f-r):this.picker.addClass("datepicker-orient-left"),"auto"===(e=this.o.orientation.y)&&(t=-l+g-o,i=l+s-(g+p+o),e=Math.max(t,i)===i?"top":"bottom"),this.picker.addClass("datepicker-orient-"+e),"top"===e?g+=p:g-=o+parseInt(this.picker.css("padding-top")),this.o.rtl?(n=a-(m+f),this.picker.css({top:g,right:n,zIndex:u})):this.picker.css({top:g,left:m,zIndex:u}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],t=!1;return arguments.length?(M.each(arguments,M.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),t=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=M.map(i,M.proxy(function(e){return A.parseDate(e,this.o.format,this.o.language)},this)),i=M.grep(i,M.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),t?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow">'+x[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+x[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=M.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===r.getFullYear()&&t.getUTCMonth()===r.getMonth()&&t.getUTCDate()===r.getDate()&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==M.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),0<this.o.datesDisabled.length&&0<M.grep(this.o.datesDisabled,function(e){return function(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}(t,e)}).length&&e.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==M.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var u,e,t,i,n,r,o,a,s,l,c,d,h,p,f,m,g,v=new Date(this.viewDate),y=v.getUTCFullYear(),b=v.getUTCMonth(),_=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,C=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,w=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,S=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,k=x[this.o.language].today||x.en.today||"",I=x[this.o.language].clear||x.en.clear||"";if(!isNaN(y)&&!isNaN(b)){for(this.picker.find(".datepicker-days.first thead .datepicker-switch").text(x[this.o.language].months[b]+" "+y),this.doubleCalendar&&(t=11==b?(e=0,y+1):(e=b+1,y),this.picker.find(".datepicker-days.second thead .datepicker-switch").text(x[this.o.language].months[e]+" "+t)),this.picker.find("tfoot .today").text(k).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(I).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths(),i=O(y,b-1,28),n=A.getDaysInMonth(i.getUTCFullYear(),i.getUTCMonth()),i.setUTCDate(n),i.setUTCDate(n-(i.getUTCDay()-this.o.weekStart+7)%7),this.doubleCalendar&&(r=O(t,e-1,28),n=A.getDaysInMonth(r.getUTCFullYear(),r.getUTCMonth()),r.setUTCDate(n),r.setUTCDate(n-(r.getUTCDay()-this.o.weekStart+7)%7)),(o=new Date(i)).setUTCDate(o.getUTCDate()+42),o=o.valueOf(),this.doubleCalendar&&((a=new Date(r)).setUTCDate(a.getUTCDate()+42),a=a.valueOf()),l=(s=function(e,t,i,n){var r,o,a;for(n=n||!1,r=[];e.valueOf()<t;){if(e.getUTCDay()===i.o.weekStart&&(r.push("<tr>"),i.o.calendarWeeks)){var s=new Date(+e+(i.o.weekStart-e.getUTCDay()-7)%7*864e5),l=new Date(Number(s)+(11-s.getUTCDay())%7*864e5),c=new Date(Number(c=O(l.getUTCFullYear(),0,1))+(11-c.getUTCDay())%7*864e5),d=(l-c)/6048e5+1;r.push('<td class="cw">'+d+"</td>")}o=i.getClassNames(e),n&&(new Date(e.valueOf()).getMonth()==new Date(t).getMonth()&&(o=jQuery.grep(o,function(e){return"new"!=e})).push("new2")),o.push("day"),i.o.beforeShowDay!==M.noop&&((a=i.o.beforeShowDay(i._utc_to_local(e)))===T?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1===a.enabled&&o.push("disabled"),a.classes&&(o=o.concat(a.classes.split(/\s+/))),a.tooltip&&(u=a.tooltip)),o=M.unique(o),r.push('<td class="'+o.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+e.getUTCDate()+"</td>"),u=null,e.getUTCDay()===i.o.weekEnd&&r.push("</tr>"),e.setUTCDate(e.getUTCDate()+1)}return r})(i,o,this,!1),this.picker.find(".datepicker-days.first tbody").empty().append(l.join("")),this.doubleCalendar&&(c=s(r,a,this,!0),this.picker.find(".datepicker-days.second tbody").empty().append(c.join(""))),d=this.picker.find(".datepicker-months").find("th:eq(1)").text(y).end().find("span").removeClass("active"),M.each(this.dates,function(e,t){t.getUTCFullYear()===y&&d.eq(t.getUTCMonth()).addClass("active")}),(y<_||w<y)&&d.addClass("disabled"),y===_&&d.slice(0,C).addClass("disabled"),y===w&&d.slice(S+1).addClass("disabled"),this.o.beforeShowMonth!==M.noop&&(h=this,M.each(d,function(e,t){if(!M(t).hasClass("disabled")){var i=new Date(y,e,1);!1===h.o.beforeShowMonth(i)&&M(t).addClass("disabled")}})),l="",y=10*parseInt(y/10,10),p=this.picker.find(".datepicker-years").find("th:eq(1)").text(y+"-"+(y+9)).end().find("td"),y-=1,f=M.map(this.dates,function(e){return e.getUTCFullYear()}),g=-1;g<11;g++)m=["year"],-1===g?m.push("old"):10===g&&m.push("new"),-1!==M.inArray(y,f)&&m.push("active"),(y<_||w<y)&&m.push("disabled"),l+='<span class="'+m.join(" ")+'">'+y+"</span>",y+=1;p.html(l)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){var t,i,n,r,o,a,s;if(e.preventDefault(),1===(t=M(e.target).closest("span, td, th")).length)switch(t[0].nodeName.toLowerCase()){case"th":switch(t[0].className){case"prev":case"next":switch(o=A.modes[this.viewMode].navStep*("prev"===t[0].className?-1:1),this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":a=O((a=new Date).getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2),s="linked"===this.o.todayBtn?null:"view",this._setDate(a,s);break;case"clear":this.clearDates()}break;case"span":t.hasClass("disabled")||(this.viewDate.setUTCDate(1),t.hasClass("month")?(r=1,n=t.parent().find("span").index(t),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(O(i,n,r))):(r=1,n=0,i=parseInt(t.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(O(i,n,r))),this.showMode(-1),this.fill());break;case"td":t.hasClass("day")&&!t.hasClass("disabled")&&(r=parseInt(t.text(),10)||1,i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),t.hasClass("old")?0===n?(n=11,i-=1):n-=1:t.hasClass("new")&&(11===n?(n=0,i+=1):n+=1),this._setDate(O(i,n,r)),1==this.doubleCalendar&&this.hide())}this.picker.is(":visible")&&this._focused_from&&M(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){var i;t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){var i;if(!e)return T;if(!t)return e;var n,r,o=new Date(e.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(t);if(t=0<t?1:-1,1===l)r=-1===t?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==n},n=s+t,o.setUTCMonth(n),(n<0||11<n)&&(n=(n+12)%12);else{for(i=0;i<l;i++)o=this.moveMonth(o,t);n=o.getUTCMonth(),o.setUTCDate(a),r=function(){return n!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){var t,i,n,r,o,a;if(this.picker.is(":visible")){switch(t=!1,o=this.focusDate||this.viewDate,e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;i=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||d(),i),r=this.moveYear(o,i),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||d(),i),r=this.moveMonth(o,i),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||d())).setUTCDate(n.getUTCDate()+i),(r=new Date(o)).setUTCDate(o.getUTCDate()+i)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;i=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||d(),i),r=this.moveYear(o,i),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||d(),i),r=this.moveMonth(o,i),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||d())).setUTCDate(n.getUTCDate()+7*i),(r=new Date(o)).setUTCDate(o.getUTCDate()+7*i)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),t=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}t&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change())}else 27===e.keyCode&&this.show()},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+A.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},t=M.fn.datepicker,i=function(a){var s,l=Array.apply(null,arguments);return l.shift(),this.each(function(){var e=M(this),t=e.data("datepicker"),i="object"==typeof a&&a;if(!t){var n=function(e,t){function i(e,t){return t.toLowerCase()}var n,r=M(e).data(),o={},a=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(n in t=new RegExp("^"+t.toLowerCase()),r)t.test(n)&&(o[n.replace(a,i)]=r[n]);return o}(this,"date"),r=function(e){var i,n={};if(x[e]||(e=e.split("-")[0],x[e]))return i=x[e],M.each(c,function(e,t){t in i&&(n[t]=i[t])}),n}(M.extend({},u,n,i).language),o=M.extend({},u,r,n,i);e.data("datepicker",t=new y(this,o))}if("string"==typeof a&&"function"==typeof t[a]&&(s=t[a].apply(t,l))!==T)return!1}),s!==T?s:this},M.fn.datepicker=i,u=M.fn.datepicker.defaults={autoclose:!1,beforeShowDay:M.noop,beforeShowMonth:M.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",doubleCalendar:!1},c=M.fn.datepicker.locale_opts=["format","rtl","weekStart"],M.fn.datepicker.Constructor=y,x=M.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},(A={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,A.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,t,i){function n(){var e=this.slice(0,o[l].length),t=o[l].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}var r,o,a,s,l,c,d,u,h;if(!e)return T;if(e instanceof Date)return e;if("string"==typeof t&&(t=A.parseFormat(t)),r=/([\-+]\d+)([dmwy])/,o=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<o.length;l++)switch(a=r.exec(o[l]),s=parseInt(a[1]),a[2]){case"d":e.setUTCDate(e.getUTCDate()+s);break;case"m":e=y.prototype.moveMonth.call(y.prototype,e,s);break;case"w":e.setUTCDate(e.getUTCDate()+7*s);break;case"y":e=y.prototype.moveYear.call(y.prototype,e,s)}return O(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}o=e&&e.match(this.nonpunctuation)||[],e=new Date;var p,f,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};if(v.M=v.MM=v.mm=v.m,v.dd=v.d,e=O(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),c=t.parts.slice(),o.length!==c.length&&(c=M(c).filter(function(e,t){return-1!==M.inArray(t,g)}).toArray()),o.length===c.length){for(l=0,d=c.length;l<d;l++){if(p=parseInt(o[l],10),a=c[l],isNaN(p))switch(a){case"MM":f=M(x[i].months).filter(n),p=M.inArray(f[0],x[i].months)+1;break;case"M":f=M(x[i].monthsShort).filter(n),p=M.inArray(f[0],x[i].monthsShort)+1}m[a]=p}for(l=0;l<g.length;l++)(h=g[l])in m&&!isNaN(m[h])&&(u=new Date(e),v[h](u,m[h]),isNaN(u)||(e=u))}return e},formatDate:function(e,t,i){var n,r,o,a;if(!e)return"";for("string"==typeof t&&(t=A.parseFormat(t)),(n={d:e.getUTCDate(),D:x[i].daysShort[e.getUTCDay()],DD:x[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:x[i].monthsShort[e.getUTCMonth()],MM:x[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()}).dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[],r=M.extend([],t.separators),o=0,a=t.parts.length;o<=a;o++)r.length&&e.push(r.shift()),e.push(n[t.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'}).template='<div class="datepicker"><div class="datepicker-days first"><table class=" table-condensed">'+A.headTemplate+"<tbody></tbody>"+A.footTemplate+'</table></div><div class="datepicker-months first"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-years first"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+"</table></div></div>",A.templateDouble='<div class="datepicker"><div class="datepicker-days first"><table class=" table-condensed">'+A.headTemplate+"<tbody></tbody>"+A.footTemplate+'</table></div><div class="datepicker-months first"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-years first"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-days second"><table class=" table-condensed">'+A.headTemplate+"<tbody></tbody>"+A.footTemplate+'</table></div><div class="datepicker-months second"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-years second"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+"</table></div></div>",M.fn.datepicker.DPGlobal=A,M.fn.datepicker.noConflict=function(){return M.fn.datepicker=t,this},M.fn.datepicker.version="1.4.0",M(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=M(this);t.data("datepicker")||(e.preventDefault(),i.call(t,"show"))}),M(function(){i.call(M('[data-provide="datepicker-inline"]'))})}(window.jQuery),jQuery.fn.caret=function(e){var t=this[0],i="true"===t.contentEditable;if(0!=arguments.length)return-1==e&&(e=this[i?"text":"val"]().length),window.getSelection?i?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e):document.body.createTextRange&&(i?((o=document.body.createTextRange()).moveToElementText(t),o.moveStart("character",e),o.collapse(!0)):(o=t.createTextRange()).move("character",e),o.select()),i||t.focus(),e;if(window.getSelection)return i?(t.focus(),(r=(n=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(t),r.setEnd(n.endContainer,n.endOffset),r.toString().length):t.selectionStart;if(document.selection){if(t.focus(),i){var n=document.selection.createRange();return(r=document.body.createTextRange()).moveToElementText(t),r.setEndPoint("EndToEnd",n),r.text.length}e=0;var r,o=t.createTextRange(),a=(r=document.selection.createRange().duplicate()).getBookmark();for(o.moveToBookmark(a);0!==o.moveStart("character",-1);)e++;return e}return t.selectionStart?t.selectionStart:0},function(m){m.fn.tagEditorInput=function(){var t=" ",i=m(this),n=parseInt(i.css("fontSize")),r=m("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"});return r.insertAfter(i),i.bind("keyup keydown focus",function(){if(t!==(t=i.val())){r.html(t.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));var e=r.width()+n;e<20&&(e=20),e!=i.width()&&i.width(e)}})},m.fn.tagEditor=function(n,r,o){var p,a,f=m.extend({},m.fn.tagEditor.defaults,n);return f.dregex=new RegExp("["+f.delimiter.replace("-","-")+"]","g"),"string"==typeof n?(a=[],this.each(function(){var e=m(this),t=e.data("options"),i=e.next(".tag-editor");if("getTags"==n)a.push({field:e[0],editor:i,tags:i.data("tags")});else if("addTag"==n){if(t.maxTags&&i.data("tags").length>=t.maxTags)return!1;m('<li><div class="tag-editor-spacer">&nbsp;'+t.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(i).find(".tag-editor-tag").html('<input type="text" maxlength="'+t.maxLength+'">').addClass("active").find("input").val(r).blur(),o?m(".placeholder",i).remove():i.click()}else"removeTag"==n?(m(".tag-editor-tag",i).filter(function(){return m(this).html()==r}).closest("li").find(".tag-editor-delete").click(),o||i.click()):"destroy"==n&&e.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),"getTags"==n?a:this):(window.getSelection&&m(document).off("keydown.tag-editor").on("keydown.tag-editor",function(e){var t,n,r,o,a;if(8==e.which||46==e.which||e.ctrlKey&&88==e.which){try{t=getSelection(),n=m(t.getRangeAt(0).commonAncestorContainer)}catch(e){n=0}if(n&&n.hasClass("tag-editor")){for(r=[],o=t.toString().split(n.prev().data("options").dregex),i=0;i<o.length;i++)(a=m.trim(o[i]))&&r.push(a);m(".tag-editor-tag",n).each(function(){~m.inArray(m(this).html(),r)&&m(this).closest("li").find(".tag-editor-delete").click()})}}}),this.each(function(){function n(){!f.placeholder||u.length||m(".deleted, .placeholder, input",h).length||h.append('<li class="placeholder"><div>'+f.placeholder+"</div></li>")}function s(e){var t=u.toString();u=m(".tag-editor-tag:not(.deleted)",h).map(function(e,t){var i=m.trim(m(this).hasClass("active")?m(this).find("input").val():m(t).text());if(i)return i}).get(),h.data("tags",u),d.val(u.join(f.delimiter[0])),e||t==u.toString()||f.onChange(d,h,u),n()}function r(e){for(var t=e.closest("li"),i=e.val().replace(/ +/," ").split(f.dregex),n=e.data("old_tag"),r=u.slice(0),o=!1,a=0;a<i.length;a++)if((l=m.trim(i[a]).slice(0,f.maxLength))&&(f.forceLowercase&&(l=l.toLowerCase()),l=f.beforeTagSave(d,h,r,n,l)||l,f.removeDuplicates&&~m.inArray(l,r)&&m(".tag-editor-tag",h).each(function(){m(this).html()==l&&m(this).closest("li").remove()}),r.push(l),t.before('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+l+'</div><div class="tag-editor-delete"><i></i></div></li>')),f.maxTags&&r.length>=f.maxTags){o=!0;break}e.attr("maxlength",f.maxLength).removeData("old_tag").val(""),o?e.blur():e.focus(),s()}var c,e,t,i,o,l,d=m(this),u=[],h=m("<ul "+(f.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(d);for(d.addClass("tag-editor-hidden-src").data("options",f).on("focus.tag-editor",function(){h.click()}),h.append('<li style="width:1px">&nbsp;</li>'),c='<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>',h.click(function(r,o){var a,s,l=99999;if(!window.getSelection||""==getSelection())return f.maxTags&&h.data("tags").length>=f.maxTags?(h.find("input").blur(),!1):(p=!0,m("input:focus",h).blur(),p&&(p=!0,m(".placeholder",h).remove(),o&&o.length?s="before":m(".tag-editor-tag",h).each(function(){var e=m(this),t=e.offset(),i=t.left,n=t.top;r.pageY>=n&&r.pageY<=n+e.height()&&((a=r.pageX<i?(s="before",i-r.pageX):(s="after",r.pageX-i-e.width()))<l&&(l=a,o=e))}),"before"==s?m(c).insertBefore(o.closest("li")).find(".tag-editor-tag").click():"after"==s?m(c).insertAfter(o.closest("li")).find(".tag-editor-tag").click():m(c).appendTo(h).find(".tag-editor-tag").click()),!1)}),h.on("click",".tag-editor-delete",function(){if(m(this).prev().hasClass("active"))return m(this).closest("li").find("input").caret(-1),!1;var e=m(this).closest("li"),t=e.find(".tag-editor-tag");return!1===f.beforeTagDelete(d,h,u,t.html())||(t.addClass("deleted").animate({width:0},f.animateDelete,function(){e.remove(),n()}),s()),!1}),f.clickDelete&&h.on("mousedown",".tag-editor-tag",function(e){if(e.ctrlKey||1<e.which){var t=m(this).closest("li"),i=t.find(".tag-editor-tag");return!1===f.beforeTagDelete(d,h,u,i.html())||(i.addClass("deleted").animate({width:0},f.animateDelete,function(){t.remove(),n()}),s()),!1}}),h.on("click",".tag-editor-tag",function(e){var t,i;if(f.clickDelete&&(e.ctrlKey||1<e.which))return!1;if(!m(this).hasClass("active")){var n=m(this).html(),r=Math.abs((m(this).offset().left-e.pageX)/m(this).width()),o=parseInt(n.length*r),a=m(this).html('<input type="text" maxlength="'+f.maxLength+'" value="'+n+'">').addClass("active").find("input");a.data("old_tag",n).tagEditorInput().focus().caret(o),f.autocomplete&&(t=m.extend({},f.autocomplete),i="select"in t?f.autocomplete.select:"",t.select=function(e,t){i&&i(e,t),setTimeout(function(){h.trigger("click",[m(".active",h).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},a.autocomplete(t))}return!1}),h.on("blur","input",function(){var e=m(this),t=e.data("old_tag"),i=m.trim(e.val().replace(/ +/," ").replace(f.dregex,f.delimiter[0]));if(i){if(0<=i.indexOf(f.delimiter[0]))return void r(e);i!=t&&(f.forceLowercase&&(i=i.toLowerCase()),i=f.beforeTagSave(d,h,u,t,i)||i,f.removeDuplicates&&m(".tag-editor-tag:not(.active)",h).each(function(){m(this).html()==i&&m(this).closest("li").remove()}))}else{if(t&&!1===f.beforeTagDelete(d,h,u,t))return e.val(t).focus(),p=!1,void s();try{e.closest("li").remove()}catch(e){}t&&s()}e.parent().html(i).removeClass("active"),i!=t&&s(),n()}),h.on("paste","input",function(){m(this).removeAttr("maxlength"),e=m(this),setTimeout(function(){r(e)},30)}),h.on("keypress","input",function(e){0<=f.delimiter.indexOf(String.fromCharCode(e.which))&&(t=m(this),setTimeout(function(){r(t)},20))}),h.on("keydown","input",function(e){var t,i,n=m(this);if((37==e.which||!f.autocomplete&&38==e.which)&&!n.caret()||8==e.which&&!n.val())return(t=n.closest("li").prev("li").find(".tag-editor-tag")).length?t.click().find("input").caret(-1):!n.val()||f.maxTags&&h.data("tags").length>=f.maxTags||m(c).insertBefore(n.closest("li")).find(".tag-editor-tag").click(),!1;if((39==e.which||!f.autocomplete&&40==e.which)&&n.caret()==n.val().length)return(i=n.closest("li").next("li").find(".tag-editor-tag")).length?i.click().find("input").caret(0):n.val()&&h.click(),!1;if(9==e.which){if(e.shiftKey){if((t=n.closest("li").prev("li").find(".tag-editor-tag")).length)t.click().find("input").caret(0);else{if(!n.val()||f.maxTags&&h.data("tags").length>=f.maxTags)return d.attr("disabled","disabled"),void setTimeout(function(){d.removeAttr("disabled")},30);m(c).insertBefore(n.closest("li")).find(".tag-editor-tag").click()}return!1}if((i=n.closest("li").next("li").find(".tag-editor-tag")).length)i.click().find("input").caret(0);else{if(!n.val())return;h.click()}return!1}if(!(46!=e.which||m.trim(n.val())&&n.caret()!=n.val().length))return(i=n.closest("li").next("li").find(".tag-editor-tag")).length?i.click().find("input").caret(0):n.val()&&h.click(),!1;if(13==e.which)return n.blur(),h.trigger("click",[n.closest("li").next("li").find(".tag-editor-tag")]),!1;if(36!=e.which||n.caret()){if(35==e.which&&n.caret()==n.val().length)h.find(".tag-editor-tag").last().click();else if(27==e.which)return n.val(n.data("old_tag")?n.data("old_tag"):"").blur(),!1}else h.find(".tag-editor-tag").first().click()}),i=f.initialTags.length?f.initialTags:d.val().split(f.dregex),o=0;o<i.length&&!(f.maxTags&&o>=f.maxTags);o++)(l=m.trim(i[o].replace(/ +/," ")))&&(f.forceLowercase&&(l=l.toLowerCase()),u.push(l),h.append('<li><div class="tag-editor-spacer">&nbsp;'+f.delimiter[0]+'</div><div class="tag-editor-tag">'+l+'</div><div class="tag-editor-delete"><i></i></div></li>'));s(!0),f.sortable&&m.fn.sortable&&h.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){s()}})}))},m.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery),"undefined"!=typeof jQuery&&function(l){"use strict";l.imgpreload=function(o,a){a=l.extend({},l.fn.imgpreload.defaults,a instanceof Function?{all:a}:a),"string"==typeof o&&(o=[o]);var s=[];l.each(o,function(e,t){var i=new Image,n=t,r=i;"string"!=typeof t&&(n=l(t).attr("src")||l(t).css("background-image").replace(/^url\((?:"|')?(.*)(?:'|")?\)$/gm,"$1"),r=t),l(i).bind("load error",function(e){s.push(r),l.data(r,"loaded","error"!=e.type),a.each instanceof Function&&a.each.call(r,s.slice(0)),s.length>=o.length&&a.all instanceof Function&&a.all.call(s),l(this).unbind("load error")}),i.src=n})},l.fn.imgpreload=function(e){return l.imgpreload(this,e),this},l.fn.imgpreload.defaults={each:null,all:null}}(jQuery);var CMP=CMP||{};!function(i){"use strict";CMP.input_radio_checkbox=function(){var e=i('input[type="radio"]');0<e.length&&e.find("+ label").keyup(function(e){switch(e.which){case 13:case 32:i(this).click()}});var t=i('input[type="checkbox"]');0<t.length&&t.find("+ label").keyup(function(e){switch(e.which){case 13:case 32:i(this).click()}})}}(jQuery);var CMP=CMP||{};!function(r){"use strict";CMP.paginator=function(e,n){n=n||{};var t={total:1,page:1,maxVisible:5,leaps:!0,onPageChange:r.noop,activeClass:"active"};if(n=r.extend(t,n),r.fn.bootpag){for(var i=0;i<=n.total;i++)r(".bootpag li:nth-child("+i+")").attr("aria-label",i);r(e).bootpag(n).on("page",function(e,t){var i=r(this).attr("data-content");i&&(r(i).find(".page:visible").hide(),r(i).find(".page"+t).show(),console.log(n,e,t)),n.onPageChange(t)})}}}(jQuery);var CMP=CMP||{};!function(o){"use strict";CMP.timepicker=function(e,t){if(o.fn.clockpicker){t=t||{};var i={autoclose:!0,default:"now",donetext:"Fatto",vibrate:!1,testMaskForIE:new RegExp(/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/)};t=o.extend(i,t);var n=o(e);if(!n)return;var r=n.find("input");if(!r)return;return("Explorer"==BrowserDetect.browser&&BrowserDetect.version<=11||isMobile.iOS())&&(r.removeClass("mask-time"),r.unbind().removeData(),t.testMaskForIE&&r.on("change",function(){var e=o(this).val();t.testMaskForIE.test(e)||5!=e.length||o(this).val("")})),n.clockpicker(t)}}}(jQuery);var CMP=CMP||{};!function(n){"use strict";CMP.notification=function(e,t){t=t||{};var i={ele:n(".cmp-notification"),type:null,align:"right",width:"auto",delay:3e3,allow_dismiss:!0,stackup_spacing:10};t=n.extend(i,t),n.bootstrapGrowl(e,t)}}(jQuery);var CMP=CMP||{};!function(r){"use strict";CMP.pwdStrength=function(e,t){if(r.fn.complexify){t=r({},{minimumChars:8,bannedPasswords:["12345678","password"]},t=t||{}),r(e).each(function(){var i=r(this),n=r(i.attr("data-complexify"));i.complexify(t,function(e,t){""===i.val()?(n.removeClass("state-weak"),n.removeClass("state-good"),n.removeClass("state-strong")):(n.toggleClass("state-weak",!e),n.toggleClass("state-good",e&&t<60),n.toggleClass("state-strong",e&&60<=t))})})}}}(jQuery);var CMP=CMP||{};!function(i){"use strict";CMP.lazy_images=function(e,t){if(i.fn.unveil){t=t||{};t=i.extend({threshold:400,callback:null},t),i(e).unveil(t.threshold,t.callback)}}}(jQuery);var CMP=CMP||{};!function(a){"use strict";CMP.rangeslider={_tmpRangeSliderBubblePosition:0,_RangeSliderBubblePosition:0,_getRulerRange:function(e,t,i){for(var n="",r=0;r<=t;)n+=r+" ",r+=i;return n},init:function(e,n){var r=this;r._tmpRangeSliderBubblePosition=r._RangeSliderBubblePosition=0,n=n||{};var i=0,o=a(e=e||"input.cmp-rangeslider-custom");if(o){1<o.length&&(o=o.first(),log("RangeSlider: Questo componente funziona solo a singolo elemento")),o.attr("value")&&(i=parseInt(o.attr("value")));var t={showRuler:!1,showBubble:!1,onSlide:a.noop,onSlideEnd:a.noop};return n=a.extend(t,n),a.fn.rangeslider&&o.rangeslider({polyfill:!1,onInit:function(){if(n.showRuler){var e=a('<div class="rangeslider__ruler" />'),t=parseInt(o.attr("step"));e[0].innerHTML=r._getRulerRange(this.min,this.max,t),this.$range.prepend(e)}if(n.showBubble){this.$range.append(a('<output class="rangeslider__value-bubble" />')),this.update()}this.$element[0].value=i,this.update(!0)},onSlide:function(e,t){if(a(this.$element).val(t),n.showBubble){var i=a(".rangeslider__value-bubble",this.$range);r._tmpRangeSliderBubblePosition=e+this.grabX,r._RangeSliderBubblePosition=r._tmpRangeSliderBubblePosition<=this.handleWidth?this.handleWidth:r._tmpRangeSliderBubblePosition>=this.maxHandleX?this.maxHandleX:r._tmpRangeSliderBubblePosition,i.length&&(i[0].style.left=Math.ceil(r._RangeSliderBubblePosition)+"px",i[0].innerHTML=t)}n.onSlide(e,t)},onSlideEnd:function(e,t){n.onSlideEnd(e,t)}}),a.extend(!0,{},r)}}}}(jQuery);var CMP=CMP||{};!function(s){"use strict";CMP.autocomplete={_data:null,_options:null,init:function(e,t,r){var o=this;if(o._data=o._options=null,s.fn.typeahead){var i=s(e);if(!i)return;o._data=t;var a=i.find(".typeahead");if(!a)return;r=r||{};var n={name:"suggestion",source:t,limit:(r=o._options=s.extend({hint:!0,highlight:!0,minLength:1,limit:5,clearValueIfnotMatchSuggestion:!1},r)).limit};a.typeahead(r,n),a.bind("typeahead:change",function(e,t){if(r.clearValueIfnotMatchSuggestion){for(var i=!1,n=0;n<o._data.length;n++)o._data[n].toLowerCase()==t.toLowerCase()&&(i=!0);i||s(this).val("")}a.trigger("OnTypeheadValueChange")})}return s.extend(!0,{},o)}}}(jQuery);var CMP=CMP||{};!function(n){"use strict";CMP.colorPalette=function(e,t){if(n.fn.colorPalette){var i=n(e=e||".cmp-colorpalette");t=t||{},t=n.extend(!0,{colors:[[]]},t),i.find(".cmp-colorpalette_palette").colorPalette(t).on("selectColor",function(e){var t=n(this).closest(".cmp-colorpalette").find(".cmp-colorpalette_input");t.val(e.color),t.trigger("OnColorSelected")})}}}(jQuery);var CMP=CMP||{};!function(s){"use strict";CMP.sortable={_values:null,_$el:null,_$sortable:null,_options:null,init:function(e,t,i){var n=this;if(n._values=n._$el=n._$sortable=n._options=null,n._$el=s(e),n._$el&&0!=n._$el.length){i=i||{};if(n._options=s.extend(!0,{forcePlaceholderSize:!0,row_template:'<li class="list-group-item cmp-sortable_item" draggable="true" data-value="{id}"><span class="handle"><i class="glyphicon glyphicon-th"></i></span> {name}</li>'},i),(t=t||null)&&0<t.length){n._$el.empty();for(var r=0;r<t.length;r++){var o=t[r],a=n._options.row_template.replace("{id}",o.id).replace("{name}",o.name);n._$el.append(a)}}return s.fn.sortable?(n._$sortable=n._$el.sortable(n._options),n._$sortable.bind("sortupdate",function(){s(this).data("sortable").val()}),n._$el.data("sortable",n),jQuery.extend(!0,{},n)):null}},val:function(){var r=this;return r._$el?(r._values={},r._$el.each(function(e){for(var t=s(r._$el[e]).find("li"),i=[],n=0;n<t.length;n++)i.push(s(t[n]).attr("data-value"));r._values[e]=i}),r._values):null},refresh:function(){var e=this;e._$sortable&&(e._$sortable.sortable("destroy"),e._$sortable=null,e._$sortable=e._$el.sortable(e._options),e._$el.data("sortable",e))}}}(jQuery);var CMP=CMP||{};!function(o){"use strict";o.fn.datepicker&&(CMP.datepicker={_options:null,_datepicker:[],init:function(e,t){var n=this;n._options=null,n._datepicker=[],e=e||".cmp-datepicker",t=t||{};n._options=o.extend({format:"dd/mm/yyyy",language:"it",weekStart:1,autoclose:!0},t);var i=o(e);if(i)return o.each(i,function(e,t){var i=o.extend({},n._options);switch(o(t).attr("data-datepicker-type").toLowerCase()){case"single":default:break;case"double":i.doubleCalendar=!0}n._datepicker[e]=o(t).datepicker(i)}),o.extend(!0,{},n)}},CMP.daterange={_options:null,_dateranges:[],init:function(e,t){var r=this;e=e||".cmp-daterange",t=t||{};r._options=null,r._dateranges=[];r._options=o.extend(!0,{format:"dd/mm/yyyy",language:"it",weekStart:1,autoclose:!(r._options=null),range:{automaticTO:!(r._dateranges=[]),TOminDate:0}},t);var i=o(e);if(i)return o.each(i,function(e,t){var i=o.extend({},r._options);switch(o(t).attr("data-datepicker-type").toLowerCase()){case"range":default:break;case"range-double":i.doubleCalendar=!0}var n=o(t).hasClass("from");r._dateranges[e]=o(t).datepicker(i),n?r._dateranges[e].on("changeDate, change",function(){var e=o(this),t=e.closest(".cmp-daterange-splitted").find("input.to"),i=e.data("datepicker").getDate();if(i){t.removeAttr("disabled");var n=new Date(i.setDate(i.getDate()+r._options.range.TOminDate));t.datepicker("setStartDate",n),1==r._options.range.automaticTO&&t.datepicker("update",n)}else t.attr("disabled","disabled"),t.val("")}):o(t).attr("disabled","disabled")}),o.extend(!0,{},r)}})}(jQuery);var CMP=CMP||{};!function(o){"use strict";CMP.inputTags=function(e,t){if(o.fn.tagEditor){var n=(t=t||{}).onChange||o.noop,i={onChange:function(e,t,i){o(e).first().attr("value",i.join()),o(e).trigger("tagsListUpdated"),n()}};t=o.extend(i,t);var r=o(e).tagEditor(t);return r.each(function(){var e=o(this),t=e.next("ul");"Explorer"==BrowserDetect.browser&&(e.addClass("ie"),t.addClass("ie")),t.addClass("cmp-inputTags-editor");var i=e.attr("id")||e.attr("name")||"";""!=i?t.addClass(i):log("InputTags requires an ID or NAME attribute!")}),r}}}(jQuery),function(){"use strict";jQuery('[data-toggle="tooltip"]').tooltip()}(),function(i){"use strict";i('[data-toggle="popover"]').not("[data-content-html]").popover(),isMobile.iOS()&&i('[data-toggle="popover"]').removeAttr("data-trigger"),i('[data-toggle="popover"][data-content-html]').popover({html:!0,content:function(){var e=i(this).attr("data-content-html"),t=i(e);return t?t.html():""}})}(jQuery);var CMP=CMP||{};!function(i){"use strict";CMP.megamenu=function(e,t){t=t||{};return"hover"!==(t=i.extend({openOn:"click"},t)).openOn||isMobile.any()||(i("a.dropdown-toggle").keydown(function(e){13===e.which?i(this).closest(".dropdown").addClass("open"):27===e.which?i(this).closest(".dropdown").removeClass("open"):9===e.which&&i(this).toggleClass("focussed")}),i(e).hover(function(){i(".main-drop",this).stop(!0,!0).fadeIn(),i(this).toggleClass("open")},function(){i(".main-drop",this).stop(!0,!0).fadeOut(),i(this).toggleClass("open")}),i(e).on("click",".dropdown-toggle",function(e){e.stopPropagation()})),i(document).on("click",".yamm .dropdown-menu",function(e){e.stopPropagation()}),this}}(jQuery);var CMP=CMP||{};function shareFacebook(e){var t=$(e).attr("data-link");""==t&&(t=window.location.href);var i="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t);window.open(i,"_blank")}function shareTwitter(e){var t=$(e),i=t.attr("data-title"),n=t.attr("data-link");""==n&&(n=window.location.href);var r=t.attr("data-hashtags"),o=t.attr("data-via"),a="https://www.twitter.com/share?url="+encodeURIComponent(n)+"&hashtags="+encodeURIComponent(r)+"&via="+encodeURIComponent(o)+"&text="+encodeURIComponent(i);window.open(a,"_blank")}function sharePinterest(e){var t=$(e),i=t.attr("data-link");""==i&&(i=window.location.href);var n=t.attr("data-picture"),r=t.attr("data-title"),o="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(i)+"&media="+encodeURIComponent(n)+"&description="+encodeURIComponent(r);window.open(o,"_blank")}function shareGPlus(e){var t=$(e).attr("data-link");""==t&&(t=window.location.href);var i="https://plus.google.com/share?url="+t;window.open(i,"_blank")}function shareEmail(e){var t=$(e),i=t.attr("data-link");""==i&&(i=window.location.href);var n=t.attr("data-subject");window.open("mailto:?subject="+encodeURIComponent(n)+"&body="+encodeURIComponent(i),"_blank")}function shareLinkedin(e){var t=$(e),i=t.attr("data-title"),n=t.attr("data-link");""==n&&(n=window.location.href);var r="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(n)+"&title="+encodeURIComponent(i);window.open(r,"_blank")}!function(s){"use strict";CMP.sidemenu=function(){var e=s(window),t=s(".cmp-sidemenu"),i=t.find(".side_menu")[0],n=t.find(".menu-trigger")[0],r=document.body,o=t.find(".menu-trigger"),a=t.find("a.icon_close");t.find(".side_menu"),t.find(".main_menu"),e.height();s("body").addClass("side_menu-push"),isTouch()?s(".cmp-sidemenu.navbar-default .navbar-nav > li.dropdown").click(function(){s("ul.dropdown-menu",this).stop(!1,!1).slideToggle(350),s(this).toggleClass("open")}):s(".cmp-sidemenu.navbar-default .navbar-nav > li.dropdown").hover(function(){s("ul.dropdown-menu",this).stop(!1,!1).slideDown(350),s(this).addClass("open")},function(){s("ul.dropdown-menu",this).stop(!1,!1).slideUp(350),s(this).removeClass("open")}),s(i).addClass("side_menu-close"),n.onclick=function(){s(this).toggleClass("active"),s(r).toggleClass("side_menu-push-toleft"),s(i).toggleClass("side_menu-open"),s(i).toggleClass("side_menu-close"),setTimeout(function(){s(i).removeClass("side_menu-close_2"),s(i).toggleClass("side_menu-open_2")},500),function(e){e!==o&&s(n).toggleClass("disabled")}(o)},a.click(function(){s(this).toggleClass("active"),s(r).toggleClass("side_menu-push-toleft"),s(i).toggleClass("side_menu-open"),setTimeout(function(){s(i).toggleClass("side_menu-open_2"),s(i).addClass("side_menu-close_2")},500),setTimeout(function(){s(i).toggleClass("side_menu-close")},1e3)})}}(jQuery),function(t){"use strict";t(".cmp-social-share .cmp-socialshare-dropdown li").on("click",function(){var e=t(this);if(e.attr("data-social"))switch(e.attr("data-social")){case"facebook":shareFacebook(this);break;case"twitter":shareTwitter(this);break;case"google-plus":shareGPlus(this);break;case"pinterest":sharePinterest(this);break;case"linkedin":shareLinkedin(this);break;case"email":shareEmail(this)}})}(jQuery);var CMP=CMP||{};!function(o){"use strict";CMP.gmap={_map:null,_options:null,_markers:[],_getMapStyle:function(){return[{featureType:"administrative",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#eaeaea"}]},{featureType:"landscape",elementType:"geometry.stroke",stylers:[{color:"#808080"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#414141"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"all",stylers:[{color:"#ffffff"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}]},init:function(e,t){var i=this;i._map=i._options=null,i._markers=[];var n=o(e=e||".cmp-gmap");n&&1<n.length&&(n=n.first(),log("GMap: Questo componente funziona solo a singolo elemento"));var r={center:new google.maps.LatLng(40.85631,14.24641),zoom:17,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!0,draggable:!0,customIcon:null,customIconHover:null,onIconClick:o.noop,styles:i._getMapStyle()};return i._options=o.extend(r,t),"undefined"!=typeof google&&n&&(i._map=new google.maps.Map(n[0],i._options)),o.extend(!0,{},i)},addMarker:function(e){var n=this;if(n._map&&"undefined"!=typeof google){var t={position:e=e||n._options.center,map:n._map};!n._options.customIcon||"function"!=typeof n._options.customIcon&&"string"!=typeof n._options.customIcon||(t.icon=n._options.customIcon);var r=new google.maps.Marker(t);n._markers.push(r),google.maps.event.addListener(r,"click",function(){var e=!!n._options.customIcon,t=!!n._options.customIconHover;if(e)for(var i=0;i<n._markers.length;i++)n._markers[i].setIcon(n._options.customIcon);t&&r.setIcon(n._options.customIconHover),n._options.onIconClick&&o.isFunction(n._options.onIconClick)&&n._options.onIconClick()})}return n},refresh:function(){var e=this._map.getCenter();return google.maps.event.trigger(this._map,"resize"),this._map.setCenter(e),this}}}(jQuery);var CMP=CMP||{};!function(o){"use strict";CMP.modal={alert:function(e){var t=o("#modalAlert_tpl").text();if(t){o(document.body).append(t);var i=o(".cmp-modal-alert");i.one("hidden.bs.modal",function(){0<o(".modal.in").length&&o("body").addClass("modal-open"),i.remove()}),i.find(".modal-body .text-content").html(e),i.modal()}else console.error("Error modal template not found")},error:function(e){var t=o("#modalError_tpl").text();if(t){o(document.body).append(t);var i=o(".cmp-modal-error");i.one("hidden.bs.modal",function(){0<o(".modal.in").length&&o("body").addClass("modal-open"),i.remove()}),i.find(".modal-body .text-content").html(e),i.modal()}else console.error("Error modal template not found")},info:function(e){var t=o("#modalInfo_tpl").text();if(t){o(document.body).append(t);var i=o(".cmp-modal-info");i.one("hidden.bs.modal",function(){0<o(".modal.in").length&&o("body").addClass("modal-open"),i.remove()}),i.find(".modal-body .text-content").html(e),i.modal()}else console.error("Error modal template not found")},confirm:function(e,t,i){var n=o("#modalConfirm_tpl").text();if(n){o(document.body).append(n);var r=o(".cmp-modal-confirm");r.one("hidden.bs.modal",function(){0<o(".modal.in").length&&o("body").addClass("modal-open"),r.remove()}),r.find(".modal-body .text-content").html(e),i=i||o.noop,r.find(".modal-footer .no").unbind("click").on("click",function(e){e.stopPropagation(),e.preventDefault(),i(),r.modal("hide")}),t=t||o.noop,r.find(".modal-footer .yes").unbind("click").on("click",function(e){e.stopPropagation(),e.preventDefault(),t(),r.modal("hide")}),r.modal()}else console.error("Error modal template not found")}}}(jQuery);var CMP=CMP||{};!function(i){"use strict";CMP.pageloader={setVisibility:function(e){var t=i(".cmp-page-loader");t&&(e?t.fadeIn().css("display","table"):t.fadeOut())}}}(jQuery);var CMP=CMP||{};!function(i){"use strict";CMP.imgPreloader=function(r,e,t){if(t=t||{},t=i.extend({suffix:"@2x.",enableRetina:!1},t),0<r.length&&i.imgpreload){if(e="function"==typeof e?e:i.noop,1==t.enableRetina&&isRetina()){for(var o=[],a=0;a<r.length;a++){var s=r[a].replace(/\.(?=[^.]*$)/,t.suffix);i.ajax({type:"HEAD",url:s,async:!1}).done(function(e,t,i){if(200<=i.status&&i.status<=399){var n=i.getResponseHeader("Content-Type");n&&n.match(/^image/i)&&(r[a]=s,o.push(s))}})}for(a=0;a<o.length;a++)log("Replace image with 2X: "+o[a]),i('img[src="'+o[a].replace(t.suffix,".")+'"]').attr("src",o[a])}i.imgpreload(r,function(){e(this)})}}}(jQuery);var CMP=CMP||{};!function(u){"use strict";CMP.places={_places:[],_options:null,_$this:null,init:function(e,r){var o=this;o._options=o._$this=null,o._places=[],e=e||".cmp-places-autocomplete",r=r||{};var t={mode:"tags",map:null,tags_area:".cmp-places-tags",placeChangedCallback:u.noop};if(o._options=u.extend(!0,t,r),o._$this=u(e),o._$this){1<o._$this.length&&(o._$this=o._$this.first(),log("Places Autocomplete: Questo componente funziona solo a singolo elemento"));var a=o._$this.find(".cmp-input").get(0);if(!a)return!1;if("undefined"==typeof google)return!1;var i=u(o._options.tags_area),n=o._$this.find(".cmp-places-tags-input"),s=function(e){if(i&&n){e=u.isNumeric(e)?e:o._places.length-1;var t=o._places[e];i.append('<li data-index="'+e+'">'+t.address+' <i class="glyphicon glyphicon-remove remove-place"></i></li>'),n.val(JSON.stringify(o._places)),n.trigger("placeAutocompleteAdd"),i.find("i.remove-place").unbind("click"),i.find("i.remove-place").on("click",function(){var e=parseInt(u(this).closest("li").attr("data-index"));o._places.splice(e,1),0<o._places.length?n.val(JSON.stringify(o._places)):n.val(""),c(),n.trigger("placeAutocompleteRemove")})}else log("CMP Places Autocomplete: no tag-area or no tag-hidden-input")},l=function(){if(o._options.map&&"object"==typeof o._options.map){var e=o._places.length-1,t=o._places[e];o._options.map.setCenter(new google.maps.LatLng(t.latitude,t.longitude))}},c=function(){i.empty();for(var e=0;e<o._places.length;e++)s(e)};o._$this.bind("placesFirstLoad",function(){c()});var d=new google.maps.places.Autocomplete(a,{types:["geocode"]});return google.maps.event.addListener(d,"place_changed",function(){var e=d.getPlace(),t=e.formatted_address,i=e.geometry.location.lat(),n=e.geometry.location.lng();switch(o._places.push({latitude:i,longitude:n,address:t}),r.mode){case"tags":default:s();break;case"map":l();break;case"both":s(),l()}o._options.placeChangedCallback(i,n,t),setTimeout(function(){u(a).val("")},800)}),n.data("placesAutocomplete",o),u.extend(!0,{},o)}},load:function(e){e&&("object"==typeof e&&(this._places=e,this._$this.trigger("placesFirstLoad")),"string"==typeof e&&isJson(e)&&(this._places=JSON.parse(e)),this._$this.trigger("placesFirstLoad"))}}}(jQuery),function(){function i(){}var e=this,t=e._,n=Array.prototype,a=Object.prototype,r=Function.prototype,o=n.push,l=n.slice,u=a.toString,s=a.hasOwnProperty,c=Array.isArray,d=Object.keys,h=r.bind,p=Object.create,f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):e._=f,f.VERSION="1.8.3";var m=function(r,o,e){if(void 0===o)return r;switch(null==e?3:e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,i){return r.call(o,e,t,i)};case 4:return function(e,t,i,n){return r.call(o,e,t,i,n)}}return function(){return r.apply(o,arguments)}},g=function(e,t,i){return null==e?f.identity:f.isFunction(e)?m(e,t,i):f.isObject(e)?f.matcher(e):f.property(e)};f.iteratee=function(e,t){return g(e,t,1/0)};function v(l,c){return function(e){var t=arguments.length;if(t<2||null==e)return e;for(var i=1;i<t;i++)for(var n=arguments[i],r=l(n),o=r.length,a=0;a<o;a++){var s=r[a];c&&void 0!==e[s]||(e[s]=n[s])}return e}}function y(e){if(!f.isObject(e))return{};if(p)return p(e);i.prototype=e;var t=new i;return i.prototype=null,t}function b(t){return function(e){return null==e?void 0:e[t]}}var _=Math.pow(2,53)-1,C=b("length"),w=function(e){var t=C(e);return"number"==typeof t&&0<=t&&t<=_};function S(s){return function(e,t,i,n){t=m(t,n,4);var r=!w(e)&&f.keys(e),o=(r||e).length,a=0<s?0:o-1;return arguments.length<3&&(i=e[r?r[a]:a],a+=s),function(e,t,i,n,r,o){for(;0<=r&&r<o;r+=s){var a=n?n[r]:r;i=t(i,e[a],a,e)}return i}(e,t,i,r,a,o)}}f.each=f.forEach=function(e,t,i){var n,r;if(t=m(t,i),w(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var o=f.keys(e);for(n=0,r=o.length;n<r;n++)t(e[o[n]],o[n],e)}return e},f.map=f.collect=function(e,t,i){t=g(t,i);for(var n=!w(e)&&f.keys(e),r=(n||e).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o},f.reduce=f.foldl=f.inject=S(1),f.reduceRight=f.foldr=S(-1),f.find=f.detect=function(e,t,i){var n;if(void 0!==(n=w(e)?f.findIndex(e,t,i):f.findKey(e,t,i))&&-1!==n)return e[n]},f.filter=f.select=function(e,n,t){var r=[];return n=g(n,t),f.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},f.reject=function(e,t,i){return f.filter(e,f.negate(g(t)),i)},f.every=f.all=function(e,t,i){t=g(t,i);for(var n=!w(e)&&f.keys(e),r=(n||e).length,o=0;o<r;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0},f.some=f.any=function(e,t,i){t=g(t,i);for(var n=!w(e)&&f.keys(e),r=(n||e).length,o=0;o<r;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,i,n){return w(e)||(e=f.values(e)),"number"==typeof i&&!n||(i=0),0<=f.indexOf(e,t,i)},f.invoke=function(e,i){var n=l.call(arguments,2),r=f.isFunction(i);return f.map(e,function(e){var t=r?i:e[i];return null==t?t:t.apply(e,n)})},f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,n,t){var i,r,o=-1/0,a=-1/0;if(null==n&&null!=e)for(var s=0,l=(e=w(e)?e:f.values(e)).length;s<l;s++)i=e[s],o<i&&(o=i);else n=g(n,t),f.each(e,function(e,t,i){r=n(e,t,i),(a<r||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},f.min=function(e,n,t){var i,r,o=1/0,a=1/0;if(null==n&&null!=e)for(var s=0,l=(e=w(e)?e:f.values(e)).length;s<l;s++)(i=e[s])<o&&(o=i);else n=g(n,t),f.each(e,function(e,t,i){((r=n(e,t,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},f.shuffle=function(e){for(var t,i=w(e)?e:f.values(e),n=i.length,r=Array(n),o=0;o<n;o++)(t=f.random(0,o))!==o&&(r[o]=r[t]),r[t]=i[o];return r},f.sample=function(e,t,i){return null==t||i?(w(e)||(e=f.values(e)),e[f.random(e.length-1)]):f.shuffle(e).slice(0,Math.max(0,t))},f.sortBy=function(e,n,t){return n=g(n,t),f.pluck(f.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};function k(a){return function(n,r,e){var o={};return r=g(r,e),f.each(n,function(e,t){var i=r(e,t,n);a(o,e,i)}),o}}f.groupBy=k(function(e,t,i){f.has(e,i)?e[i].push(t):e[i]=[t]}),f.indexBy=k(function(e,t,i){e[i]=t}),f.countBy=k(function(e,t,i){f.has(e,i)?e[i]++:e[i]=1}),f.toArray=function(e){return e?f.isArray(e)?l.call(e):w(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:w(e)?e.length:f.keys(e).length},f.partition=function(e,n,t){n=g(n,t);var r=[],o=[];return f.each(e,function(e,t,i){(n(e,t,i)?r:o).push(e)}),[r,o]},f.first=f.head=f.take=function(e,t,i){if(null!=e)return null==t||i?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,i){return l.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},f.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},f.compact=function(e){return f.filter(e,f.identity)};var I=function(e,t,i,n){for(var r=[],o=0,a=n||0,s=C(e);a<s;a++){var l=e[a];if(w(l)&&(f.isArray(l)||f.isArguments(l))){t||(l=I(l,t,i));var c=0,d=l.length;for(r.length+=d;c<d;)r[o++]=l[c++]}else i||(r[o++]=l)}return r};function M(o){return function(e,t,i){t=g(t,i);for(var n=C(e),r=0<o?0:n-1;0<=r&&r<n;r+=o)if(t(e[r],r,e))return r;return-1}}function T(o,a,s){return function(e,t,i){var n=0,r=C(e);if("number"==typeof i)0<o?n=0<=i?i:Math.max(i+r,n):r=0<=i?Math.min(i+1,r):i+r+1;else if(s&&i&&r)return e[i=s(e,t)]===t?i:-1;if(t!=t)return 0<=(i=a(l.call(e,n,r),f.isNaN))?i+n:-1;for(i=0<o?n:r-1;0<=i&&i<r;i+=o)if(e[i]===t)return i;return-1}}f.flatten=function(e,t){return I(e,t,!1)},f.without=function(e){return f.difference(e,l.call(arguments,1))},f.uniq=f.unique=function(e,t,i,n){f.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=g(i,n));for(var r=[],o=[],a=0,s=C(e);a<s;a++){var l=e[a],c=i?i(l,a,e):l;t?(a&&o===c||r.push(l),o=c):i?f.contains(o,c)||(o.push(c),r.push(l)):f.contains(r,l)||r.push(l)}return r},f.union=function(){return f.uniq(I(arguments,!0,!0))},f.intersection=function(e){for(var t=[],i=arguments.length,n=0,r=C(e);n<r;n++){var o=e[n];if(!f.contains(t,o)){for(var a=1;a<i&&f.contains(arguments[a],o);a++);a===i&&t.push(o)}}return t},f.difference=function(e){var t=I(arguments,!0,!0,1);return f.filter(e,function(e){return!f.contains(t,e)})},f.zip=function(){return f.unzip(arguments)},f.unzip=function(e){for(var t=e&&f.max(e,C).length||0,i=Array(t),n=0;n<t;n++)i[n]=f.pluck(e,n);return i},f.object=function(e,t){for(var i={},n=0,r=C(e);n<r;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},f.findIndex=M(1),f.findLastIndex=M(-1),f.sortedIndex=function(e,t,i,n){for(var r=(i=g(i,n,1))(t),o=0,a=C(e);o<a;){var s=Math.floor((o+a)/2);i(e[s])<r?o=s+1:a=s}return o},f.indexOf=T(1,f.findIndex,f.sortedIndex),f.lastIndexOf=T(-1,f.findLastIndex),f.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=Array(n),o=0;o<n;o++,e+=i)r[o]=e;return r};function O(e,t,i,n,r){if(!(n instanceof t))return e.apply(i,r);var o=y(e.prototype),a=e.apply(o,r);return f.isObject(a)?a:o}f.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,l.call(arguments,1));if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var i=l.call(arguments,2),n=function(){return O(e,n,t,this,i.concat(l.call(arguments)))};return n},f.partial=function(r){var o=l.call(arguments,1),a=function(){for(var e=0,t=o.length,i=Array(t),n=0;n<t;n++)i[n]=o[n]===f?arguments[e++]:o[n];for(;e<arguments.length;)i.push(arguments[e++]);return O(r,a,this,this,i)};return a},f.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[i=arguments[t]]=f.bind(e[i],e);return e},f.memoize=function(n,r){var o=function(e){var t=o.cache,i=""+(r?r.apply(this,arguments):e);return f.has(t,i)||(t[i]=n.apply(this,arguments)),t[i]};return o.cache={},o},f.delay=function(e,t){var i=l.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},f.defer=f.partial(f.delay,f,1),f.throttle=function(i,n,r){var o,a,s,l=null,c=0;r=r||{};function d(){c=!1===r.leading?0:f.now(),l=null,s=i.apply(o,a),l||(o=a=null)}return function(){var e=f.now();c||!1!==r.leading||(c=e);var t=n-(e-c);return o=this,a=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),c=e,s=i.apply(o,a),l||(o=a=null)):l||!1===r.trailing||(l=setTimeout(d,t)),s}},f.debounce=function(t,i,n){var r,o,a,s,l,c=function(){var e=f.now()-s;e<i&&0<=e?r=setTimeout(c,i-e):(r=null,n||(l=t.apply(a,o),r||(a=o=null)))};return function(){a=this,o=arguments,s=f.now();var e=n&&!r;return r=r||setTimeout(c,i),e&&(l=t.apply(a,o),a=o=null),l}},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},f.once=f.partial(f.before,2);var x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function P(e,t){var i=A.length,n=e.constructor,r=f.isFunction(n)&&n.prototype||a,o="constructor";for(f.has(e,o)&&!f.contains(t,o)&&t.push(o);i--;)(o=A[i])in e&&e[o]!==r[o]&&!f.contains(t,o)&&t.push(o)}f.keys=function(e){if(!f.isObject(e))return[];if(d)return d(e);var t=[];for(var i in e)f.has(e,i)&&t.push(i);return x&&P(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var i in e)t.push(i);return x&&P(e,t),t},f.values=function(e){for(var t=f.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},f.mapObject=function(e,t,i){t=g(t,i);for(var n,r=f.keys(e),o=r.length,a={},s=0;s<o;s++)a[n=r[s]]=t(e[n],n,e);return a},f.pairs=function(e){for(var t=f.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},f.invert=function(e){for(var t={},i=f.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},f.functions=f.methods=function(e){var t=[];for(var i in e)f.isFunction(e[i])&&t.push(i);return t.sort()},f.extend=v(f.allKeys),f.extendOwn=f.assign=v(f.keys),f.findKey=function(e,t,i){t=g(t,i);for(var n,r=f.keys(e),o=0,a=r.length;o<a;o++)if(t(e[n=r[o]],n,e))return n},f.pick=function(e,t,i){var n,r,o={},a=e;if(null==a)return o;f.isFunction(t)?(r=f.allKeys(a),n=m(t,i)):(r=I(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a));for(var s=0,l=r.length;s<l;s++){var c=r[s],d=a[c];n(d,c,a)&&(o[c]=d)}return o},f.omit=function(e,t,i){if(f.isFunction(t))t=f.negate(t);else{var n=f.map(I(arguments,!1,!1,1),String);t=function(e,t){return!f.contains(n,t)}}return f.pick(e,t,i)},f.defaults=v(f.allKeys,!0),f.create=function(e,t){var i=y(e);return t&&f.extendOwn(i,t),i},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var i=f.keys(t),n=i.length;if(null==e)return!n;for(var r=Object(e),o=0;o<n;o++){var a=i[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var D=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(f.isFunction(a)&&a instanceof a&&f.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!D(e[l],t[l],i,n))return!1}else{var c,d=f.keys(e);if(l=d.length,f.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!f.has(t,c)||!D(e[c],t[c],i,n))return!1}return i.pop(),n.pop(),!0};f.isEqual=function(e,t){return D(e,t)},f.isEmpty=function(e){return null==e||(w(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=c||function(e){return"[object Array]"===u.call(e)},f.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){f["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return f.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&e!==+e},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){return null!=e&&s.call(e,t)},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=b,f.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},f.matcher=f.matches=function(t){return t=f.extendOwn({},t),function(e){return f.isMatch(e,t)}},f.times=function(e,t,i){var n=Array(Math.max(0,e));t=m(t,i,1);for(var r=0;r<e;r++)n[r]=t(r);return n},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};function N(t){function i(e){return t[e]}var e="(?:"+f.keys(t).join("|")+")",n=RegExp(e),r=RegExp(e,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,i):e}}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=f.invert(E);f.escape=N(E),f.unescape=N($),f.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),f.isFunction(n)?n.call(e):n};var R=0;f.uniqueId=function(e){var t=++R+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function L(e){return"\\"+H[e]}var B=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g;f.template=function(o,e,t){!e&&t&&(e=t),e=f.defaults({},e,f.templateSettings);var i=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),a=0,s="__p+='";o&&o.replace(i,function(e,t,i,n,r){return s+=o.slice(a,r).replace(j,L),a=r+e.length,t?s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(s+="';\n"+n+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var n=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}function r(e){return n.call(this,e,f)}var l=e.variable||"obj";return r.source="function("+l+"){\n"+s+"}",r},f.chain=function(e){var t=f(e);return t._chain=!0,t};function z(e,t){return e._chain?f(t).chain():t}f.mixin=function(i){f.each(f.functions(i),function(e){var t=f[e]=i[e];f.prototype[e]=function(){var e=[this._wrapped];return o.apply(e,arguments),z(this,t.apply(f,e))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=n[t];f.prototype[t]=function(){var e=this._wrapped;return i.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],z(this,e)}}),f.each(["concat","join","slice"],function(e){var t=n[e];f.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}.call(this),_.templateSettings={interpolate:/\{\{=([^-][\S\s]+?)\}\}/g,evaluate:/\{\{([^-=][\S\s]+?)\}\}/g,escape:/\{\{-([^=][\S\s]+?)\}\}/g};var UTILS=UTILS||{};jQuery,(UTILS={init:function(){UTILS.getProtocolAndDomainUrl()},showAjaxErrorMessage:function(e){var t="";if(e.responseText){var i=e.responseJSON.errors;if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=UTILS.timeoutPageURL,!1;t=i&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText}else t=e;console.error(t.errorMessage),CMP.modal.error(t.errorMessage)},getProtocolAndDomainUrl:function(){var e=window.location.href.split("/");e[0],e[2],UTILS.protocolAndDomainUrl=e[0]+"//"+e[2],UTILS.urlDomain=e[2]}}).init(),function(e,t,i){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.jRespond=i,"function"==typeof define&&define.amd&&define("jRespond",[],function(e){return i}))}(this,0,function(e,t,f){"use strict";return function(e){function n(){for(var e=[],t=[],i=0;i<c.length;i++){var n=c[i].breakpoint,r=c[i].enter||f,o=c[i].exit||f;"*"===n?(r!==f&&e.push(r),o!==f&&t.push(o)):p(n)?(r===f||d[i]||e.push(r),d[i]=!0):(o!==f&&d[i]&&t.push(o),d[i]=!1)}for(var a={entering:u,exiting:h},s=0;s<t.length;s++)t[s].call(null,a);for(var l=0;l<e.length;l++)e[l].call(null,a)}var c=[],d=[],r=e,u="",h="",t=0,i=500,o=function(){return"number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},a=function(e){var t=e.breakpoint,i=e.enter||f;c.push(e),d.push(!1),p(t)&&(i!==f&&i.call(null,{entering:u,exiting:h}),d[c.length-1]=!0)},p=function(e){if("object"==typeof e){if(0<=e.join().indexOf(u))return!0}else{if("*"===e)return!0;if("string"==typeof e&&u===e)return!0}},s=function(){var e="undefined"!=typeof verge?verge.viewportW():o();e!==t?(i=100,function(e){for(var t=!1,i=0;i<r.length;i++)if(e>=r[i].enter&&e<=r[i].exit){t=!0;break}t&&u!==r[i].label?(h=u,u=r[i].label,n()):t||""===u||(u="",n())}(e)):i=500,t=e,setTimeout(s,i)};return s(),{addFunc:function(e){!function(e){if(e.length===f)a(e);else for(var t=0;t<e.length;t++)a(e[t])}(e)},getBreakpoint:function(){return u}}}}(0,this.document)),function(s){var n="relocate_data",l="relocate_data_target",c='<span style="display:none;" />',t={init:function(e){},after:function(i){return this.each(function(){var e=s(this),t=(r(e),o(i));0<t.target_after_ph.length&&t.target_after_ph.after(e.detach())})},before:function(i){return this.each(function(){var e=s(this),t=(r(e),o(i));0<t.target_before_ph.length&&t.target_before_ph.after(e.detach())})},append:function(i){return this.each(function(){var e=s(this),t=(r(e),o(i));0<t.target_append_ph.length&&t.target_append_ph.after(e.detach())})},prepend:function(i){return this.each(function(){var e=s(this),t=(r(e),o(i));0<t.target_prepend_ph.length&&t.target_prepend_ph.after(e.detach())})},origin:function(){return this.each(function(){var e=s(this),t=r(e);0<t.original_ph.length&&t.original_ph.after(e.detach())})}},r=function(e){var t=e.data(n);if(!t){var i=s(c);e.after(i),t={original_ph:i},e.data(n,t)}return t},o=function(e){var t=s(e),i=t.data(l);if(!i){var n=s(c);t.after(n);var r=s(c);t.before(r);var o=s(c);t.append(o);var a=s(c);t.prepend(a),i={target_after_ph:n,target_before_ph:r,target_append_ph:o,target_prepend_ph:a},t.data(l,i)}return i};s.fn.relocate=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void s.error("Method "+e+" does not exist on jQuery.relocate"):t.init.apply(this,arguments)}}(jQuery),window.debug=function(){for(var n,r,o=this,a=Array.prototype.slice,s=o.console,t={},l=9,c=["error","warn","info","debug","log"],e="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),i=e.length,d=[];0<=--i;)!function(e){t[e]=function(){0!==l&&s&&s[e]&&s[e].apply(s,arguments)}}(e[i]);for(i=c.length;0<=--i;)!function(n,r){t[r]=function(){var e,t=a.call(arguments),i=[r].concat(t);d.push(i),u(i),s&&(e=n,0<l?e<l:c.length+l<=e)&&(s.firebug?s[r].apply(o,t):s[r]?s[r](t):s.log(t))}}(i,c[i]);function u(e){!n||!r&&s&&s.log||n.apply(o,e)}return t.setLevel=function(e){l="number"==typeof e?e:9},t.setCallback=function(){var e=a.call(arguments),t=d.length,i=t;for(n=e.shift()||null,r="boolean"==typeof e[0]&&e.shift(),i-="number"==typeof e[0]?e.shift():t;i<t;)u(d[i++])},t}(),jQuery.fn.detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var n=e.indexOf("Edge/");return 0<n&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)},function(o){var a="passwordInput",t={init:function(r){return this.each(function(){var e={fieldSelector:".form-control",buttonSelector:".btn"};r&&o.extend(e,r);var t=o(this),i=(t.find(e.fieldSelector),t.find(e.buttonSelector)),n=t.data(a);n||(n={settings:e},i.on("click."+a,s),t.data(a,n))})}},s=function(e){var t=o(this).closest(".cmp-input-group"),i=t.find(".form-control");"password"===i.attr("type")?(i.attr("type","text"),t.addClass("input-group--password-visible")):(i.attr("type","password"),t.removeClass("input-group--password-visible")),i.focus()};o.fn.passwordInput=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void o.error("Method "+e+" does not exist on jQuery."+a):t.init.apply(this,arguments)}}(jQuery),function(o){var a="floatingInputLabels",t={init:function(r){return this.each(function(){var e={fieldSelector:".form-control",labelSelector:".cmp-input-label"};r&&o.extend(e,r);var t=o(this),i=t.find(e.fieldSelector),n=t.data(a);n||(n={settings:e},i.on("blur."+a,l),i.on("focus."+a,c),t.data(a,n),s(i))})},refresh:function(){return this.each(function(){var e=o(this),t=e.data(a);if(t){var i=e.find(t.settings.fieldSelector);s(i)}})}},s=function(e){var t=!1;try{t=e.is(":-webkit-autofill")}catch(e){}""!==e.val()||t?e.closest(".cmp-input-group").addClass("cmp-input-group--focus"):e.closest(".cmp-input-group").removeClass("cmp-input-group--focus")},l=function(e){var t=o(this);s(t)},c=function(e){o(this).closest(".cmp-input-group").addClass("cmp-input-group--focus")};o.fn.floatingInputLabels=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void o.error("Method "+e+" does not exist on jQuery."+a):t.init.apply(this,arguments)}}(jQuery),function(o){var a="floatingSelectLabels",t={init:function(r){return this.each(function(){var e={fieldSelector:"select.cmp-select",labelSelector:".cmp-select-label"};r&&o.extend(e,r);var t=o(this),i=t.find(e.fieldSelector),n=t.data(a);n||(n={settings:e},o(e.fieldSelector).on("changed.bs.select",function(e){s(i)}),t.data(a,n),s(i))})},refresh:function(){return this.each(function(){var e=o(this),t=e.data(a);if(t){var i=e.find(t.settings.fieldSelector);s(i)}})}},s=function(e){""===e.val()?e.closest(".cmp-select-group").removeClass("cmp-select-group--focus"):e.closest(".cmp-select-group").addClass("cmp-select-group--focus")};o.fn.floatingSelectLabels=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void o.error("Method "+e+" does not exist on jQuery."+a):t.init.apply(this,arguments)}}(jQuery),$.fn.sortChildren=function(t){return this.each(function(){var e=$(this).children().get();e.sort(t),$(this).append(e)})},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){function c(e){return parseFloat(e)||0}function d(e){var t=l(e),n=null,r=[];return t.each(function(){var e=l(this),t=e.offset().top-c(e.css("margin-top")),i=0<r.length?r[r.length-1]:null;null===i?r.push(e):Math.floor(Math.abs(n-t))<=1?r[r.length-1]=i.add(e):r.push(e),n=t}),r}function u(e){var t={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?l.extend(t,e):("boolean"==typeof e?t.byRow=e:"remove"===e&&(t.remove=!0),t)}var n=-1,r=-1,h=l.fn.matchHeight=function(e){var t=u(e);if(t.remove){var i=this;return this.css(t.property,""),l.each(h._groups,function(e,t){t.elements=t.elements.not(i)}),this}return this.length<=1&&!t.target||(h._groups.push({elements:this,options:t}),h._apply(this,t)),this};h.version="master",h._groups=[],h._throttle=80,h._maintainScroll=!1,h._beforeUpdate=null,h._afterUpdate=null,h._rows=d,h._parse=c,h._parseOptions=u,h._apply=function(e,t){var o=u(t),i=l(e),n=[i],r=l(window).scrollTop(),a=l("html").outerHeight(!0),s=i.parents().filter(":hidden");return s.each(function(){var e=l(this);e.data("style-cache",e.attr("style"))}),s.css("display","block"),o.byRow&&!o.target&&(i.each(function(){var e=l(this),t=e.css("display");"inline-block"!==t&&"flex"!==t&&"inline-flex"!==t&&(t="block"),e.data("style-cache",e.attr("style")),e.css({display:t,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),n=d(i),i.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||"")})),l.each(n,function(e,t){var i=l(t),r=0;if(o.target)r=o.target.outerHeight(!1);else{if(o.byRow&&i.length<=1)return void i.css(o.property,"");i.each(function(){var e=l(this),t=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var n={display:i};n[o.property]="",e.css(n),e.outerHeight(!1)>r&&(r=e.outerHeight(!1)),t?e.attr("style",t):e.css("display","")})}i.each(function(){var e=l(this),t=0;o.target&&e.is(o.target)||("border-box"!==e.css("box-sizing")&&(t+=c(e.css("border-top-width"))+c(e.css("border-bottom-width")),t+=c(e.css("padding-top"))+c(e.css("padding-bottom"))),e.css(o.property,r-t+"px"))})}),s.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||null)}),h._maintainScroll&&l(window).scrollTop(r/a*l("html").outerHeight(!0)),this},h._applyDataApi=function(){var i={};l("[data-match-height], [data-mh]").each(function(){var e=l(this),t=e.attr("data-mh")||e.attr("data-match-height");i[t]=t in i?i[t].add(e):e}),l.each(i,function(){this.matchHeight(!0)})};function o(e){h._beforeUpdate&&h._beforeUpdate(e,h._groups),l.each(h._groups,function(){h._apply(this.elements,this.options)}),h._afterUpdate&&h._afterUpdate(e,h._groups)}h._update=function(e,t){if(t&&"resize"===t.type){var i=l(window).width();if(i===n)return;n=i}e?-1===r&&(r=setTimeout(function(){o(t),r=-1},h._throttle)):o(t)},l(h._applyDataApi);var e=l.fn.on?"on":"bind";l(window)[e]("load",function(e){h._update(!1,e)}),l(window)[e]("resize orientationchange",function(e){h._update(!0,e)})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){d.extend(d.fn,{validate:function(e){if(this.length){var n=d.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new d.validator(e,this[0]),d.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),d(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return!n.settings.submitHandler||(n.submitButton&&(e=d("<input type='hidden'/>").attr("name",n.submitButton.name).val(d(n.submitButton).val()).appendTo(n.currentForm)),t=n.settings.submitHandler.call(n,n.currentForm,i),n.submitButton&&e.remove(),void 0!==t&&t)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,e()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):e():(n.focusInvalid(),!1)})),n)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return d(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=d(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){if(this.length){var i,n,r,o,a,s,l=this[0];if(e)switch(n=(i=d.data(l.form,"validator").settings).rules,r=d.validator.staticRules(l),e){case"add":d.extend(r,d.validator.normalizeRule(t)),delete r.messages,n[l.name]=r,t.messages&&(i.messages[l.name]=d.extend(i.messages[l.name],t.messages));break;case"remove":return t?(s={},d.each(t.split(/\s/),function(e,t){s[t]=r[t],delete r[t],"required"===t&&d(l).removeAttr("aria-required")}),s):(delete n[l.name],r)}return(o=d.validator.normalizeRules(d.extend({},d.validator.classRules(l),d.validator.attributeRules(l),d.validator.dataRules(l),d.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=d.extend({required:a},o),d(l).attr("aria-required","true")),o.remote&&(a=o.remote,delete o.remote,o=d.extend(o,{remote:a})),o}}}),d.extend(d.expr[":"],{blank:function(e){return!d.trim(""+d(e).val())},filled:function(e){var t=d(e).val();return null!==t&&!!d.trim(""+t)},unchecked:function(e){return!d(e).prop("checked")}}),d.validator=function(e,t){this.settings=d.extend(!0,{},d.validator.defaults,e),this.currentForm=t,this.init()},d.validator.format=function(i,e){return 1===arguments.length?function(){var e=d.makeArray(arguments);return e.unshift(i),d.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=d.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),d.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==d.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):d(e).addClass(t).removeClass(i)},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):d(e).removeClass(t).addClass(i)}},setDefaults:function(e){d.extend(d.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}."),step:d.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};function e(e){var t=d.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),n=t.settings;n[i]&&!d(this).is(n.ignore)&&n[i].call(t,this,e)}d.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),d.each(e,function(e,t){n[t]=i})}),i=this.settings.rules,d.each(i,function(e,t){i[e]=d.validator.normalizeRule(t)}),d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),d(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,n=this.clean(e),r=this.validationTargetFor(n),o=this,a=!0;return void 0===r?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=d(r),(i=this.groups[r.name])&&d.each(this.groups,function(e,t){t===i&&e!==r.name&&(n=o.validationTargetFor(o.clean(o.findByName(e))))&&n.name in o.invalid&&(o.currentElements.push(n),a=a&&o.check(n))}),t=!1!==this.check(r),a=a&&t,this.invalid[r.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(e).attr("aria-invalid",!t)),a},showErrors:function(t){if(t){var i=this;d.extend(this.errorMap,t),this.errorList=d.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=d.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===d.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||d(this).attr("name");return!e&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=d(this).closest("form")[0]),!(e in i||!t.objectLength(d(this).rules()))&&(i[e]=!0)})},clean:function(e){return d(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([])},reset:function(){this.resetInternals(),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,i,n=d(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&void 0!==e.validity?e.validity.badInput?"NaN":n.val():(t=e.hasAttribute("contenteditable")?n.text():n.val(),"file"===r?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))?t.substr(i+1):0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n,r=d(t).rules(),o=d.map(r,function(e,t){return t}).length,a=!1,s=this.elementValue(t);if("function"==typeof r.normalizer){if("string"!=typeof(s=r.normalizer.call(t,s)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(i in r){n={method:i,parameters:r[i]};try{if("dependency-mismatch"===(e=d.validator.methods[i].call(this,s,t,n.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!a)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(e,t){return d(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||d(e).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var i=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,d.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=d.validator.format(i.replace(n,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,n,r,o,a=this.errorsFor(e),s=this.idOrName(e),l=d(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(t)):(i=a=d("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,d(e)):i.insertAfter(e),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(r=a.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(l+=" "+r):l=r,d(e).attr("aria-describedby",l),(n=this.groups[e.name])&&(o=this,d.each(o.groups,function(e,t){t===n&&d("[name='"+o.escapeCssMeta(e)+"']",o.currentForm).attr("aria-describedby",a.attr("id"))})))),!t&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),i=d(e).attr("aria-describedby"),n="label[for='"+t+"'], label[for='"+t+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),d(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return d(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return d("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!d(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!d.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,d(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],d(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return d.data(e,"previousValue")||d.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),d(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:d.extend(this.classRuleSettings,e)},classRules:function(e){var t={},i=d(e).attr("class");return i&&d.each(i.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(t,d.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,n={},r=d(e),o=e.getAttribute("type");for(t in d.validator.methods)i="required"===t?(""===(i=e.getAttribute(t))&&(i=!0),!!i):r.attr(t),this.normalizeAttributeRule(n,o,t,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var t,i,n={},r=d(e),o=e.getAttribute("type");for(t in d.validator.methods)i=r.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(n,o,t,i);return n},staticRules:function(e){var t={},i=d.data(e.form,"validator");return i.settings.rules&&(t=d.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(n,r){return d.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!d(t.depends,r.form).length;break;case"function":i=t.depends.call(r,r)}i?n[e]=void 0===t.param||t.param:(d.data(r.form,"validator").resetElements(d(r)),delete n[e])}}else delete n[e]}),d.each(n,function(e,t){n[e]=d.isFunction(t)&&"normalizer"!==e?t(r):t}),d.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),d.each(["rangelength","range"],function(){var e;n[this]&&(d.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),d.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){if("string"==typeof e){var t={};d.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,i){d.validator.methods[e]=t,d.validator.messages[e]=void 0!==i?i:d.validator.messages[e],t.length<3&&d.validator.addClassRules(e,d.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):0<e.length;var n=d(t).val();return n&&0<n.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=n},maxlength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=i},rangelength:function(e,t,i){var n=d.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n>=i[0]&&n<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){var n=d(t).attr("type"),r="Step attribute on input type "+n+" is not supported.",o=new RegExp("\\b"+n+"\\b");if(n&&!o.test(["text","number","range"].join()))throw new Error(r);return this.optional(t)||e%i==0},equalTo:function(e,t,i){var n=d(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){d(t).valid()}),e===n.val()},remote:function(o,a,e,s){if(this.optional(a))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var l,t,i,c=this.previousValue(a,s);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),c.originalMessage=c.originalMessage||this.settings.messages[a.name][s],this.settings.messages[a.name][s]=c.message,e="string"==typeof e&&{url:e}||e,i=d.param(d.extend({data:o},e.data)),c.old===i?c.valid:(c.old=i,(l=this).startRequest(a),(t={})[a.name]=o,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:t,context:l.currentForm,success:function(e){var t,i,n,r=!0===e||"true"===e;l.settings.messages[a.name][s]=c.originalMessage,r?(n=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(a),l.formSubmitted=n,l.successList.push(a),l.invalid[a.name]=!1,l.showErrors()):(t={},i=e||l.defaultMessage(a,{method:s,parameters:o}),t[a.name]=c.message=i,l.invalid[a.name]=!0,l.showErrors(t)),c.valid=r,l.stopRequest(a,r)}},e)),"pending")}}});var n,r={};d.ajaxPrefilter?d.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(r[n]&&r[n].abort(),r[n]=i)}):(n=d.ajax,d.ajax=function(e){var t=("mode"in e?e:d.ajaxSettings).mode,i=("port"in e?e:d.ajaxSettings).port;return"abort"===t?(r[i]&&r[i].abort(),r[i]=n.apply(this,arguments),r[i]):n.apply(this,arguments)})}),$.validator.messages={required:errorJQMsg.JQ_REQUIRED_FIELD,remote:errorJQMsg.JQ_REMOTE_FIELD,email:errorJQMsg.JQ_INVALID_EMAIL,url:errorJQMsg.JQ_INVALID_URL,date:errorJQMsg.JQ_INVALID_DATE,dateISO:errorJQMsg.JQ_INVALID_ISO_DATE,number:errorJQMsg.JQ_INVALID_NUMBER,digits:errorJQMsg.JQ_ONLY_DIGITS,equalTo:errorJQMsg.JQ_EQUAL_TO,maxlength:$.validator.format(errorJQMsg.JQ_MAX_ALLOWED_CHAR),minlength:$.validator.format(errorJQMsg.JQ_MIN_ALLOWED_CHAR),rangelength:$.validator.format(errorJQMsg.JQ_RANGE_LENGTH_ALLOWED_CHAR),range:$.validator.format(errorJQMsg.JQ_RANGE_ALLOWED_CHAR),max:$.validator.format(errorJQMsg.JQ_MAX_VALUE),min:$.validator.format(errorJQMsg.JQ_MIN_VALUE),step:$.validator.format(errorJQMsg.JQ_MULTIPLE)},function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(f){function o(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}f.validator.addMethod("maxWords",function(e,t,i){return this.optional(t)||o(e).match(/\b\w+\b/g).length<=i},f.validator.format("Please enter {0} words or less.")),f.validator.addMethod("minWords",function(e,t,i){return this.optional(t)||o(e).match(/\b\w+\b/g).length>=i},f.validator.format("Please enter at least {0} words.")),f.validator.addMethod("rangeWords",function(e,t,i){var n=o(e),r=/\b\w+\b/g;return this.optional(t)||n.match(r).length>=i[0]&&n.match(r).length<=i[1]},f.validator.format("Please enter between {0} and {1} words.")),f.validator.addMethod("accept",function(e,t,i){var n,r,o="string"==typeof i?i.replace(/\s/g,""):"image/*",a=this.optional(t);if(a)return a;if("file"===f(t).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*"),t.files&&t.files.length))for(r=new RegExp(".?("+o+")$","i"),n=0;n<t.files.length;n++)if(!t.files[n].type.match(r))return!1;return!0},f.validator.format("Please enter a value with a valid mimetype.")),f.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),f.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,n=e.replace(/ /g,""),r=0,o=n.length;for(i=0;i<o;i++)r+=(o-i)*n.substring(i,i+1);return r%11==0},"Please specify a valid bank account number"),f.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||f.validator.methods.bankaccountNL.call(this,e,t)||f.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),f.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),f.validator.addMethod("cifES",function(e){"use strict";var t,i,n,r,o,a,s=[];if(!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(n=0;n<9;n++)s[n]=parseInt(e.charAt(n),10);for(i=s[2]+s[4]+s[6],r=1;r<8;r+=2)a=(o=(2*s[r]).toString()).charAt(1),i+=parseInt(o.charAt(0),10)+(""===a?0:parseInt(a,10));return!!/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)&&(i+="",e+=t=10-parseInt(i.charAt(i.length-1),10),s[8].toString()===String.fromCharCode(64+t)||s[8].toString()===e.charAt(e.length-1))},"Please specify a valid CIF number."),f.validator.addMethod("cpfBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,n,r,o=0;if(t=parseInt(e.substring(9,10),10),i=parseInt(e.substring(10,11),10),n=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(r=1;r<=9;r++)o+=parseInt(e.substring(r-1,r),10)*(11-r);if(n(o,t)){for(o=0,r=1;r<=10;r++)o+=parseInt(e.substring(r-1,r),10)*(12-r);return n(o,i)}return!1},"Please specify a valid CPF number"),f.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,r=0,o=0,a=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)n=e.charAt(i),o=parseInt(n,10),a&&9<(o*=2)&&(o-=9),r+=o,a=!a;return r%10==0},"Please enter a valid credit card number."),f.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(e)?16===e.length:2&n&&/^(4)/.test(e)?16===e.length:4&n&&/^(3[47])/.test(e)?15===e.length:8&n&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&n&&/^(2(014|149))/.test(e)?15===e.length:32&n&&/^(6011)/.test(e)?16===e.length:64&n&&/^(3)/.test(e)?16===e.length:64&n&&/^(2131|1800)/.test(e)?15===e.length:!!(128&n)},"Please enter a valid credit card number."),f.validator.addMethod("currency",function(e,t,i){var n,r="string"==typeof i,o=r?i:i[0],a=r||i[1];return o=o.replace(/,/g,""),n="^["+(o=a?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(t)||n.test(e)},"Please specify a valid currency"),f.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},f.validator.messages.date),f.validator.addMethod("dateITA",function(e,t){var i,n,r,o,a,s=!1;return s=!!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)&&(i=e.split("/"),n=parseInt(i[0],10),r=parseInt(i[1],10),o=parseInt(i[2],10),(a=new Date(Date.UTC(o,r-1,n,12,0,0,0))).getUTCFullYear()===o&&a.getUTCMonth()===r-1&&a.getUTCDate()===n),this.optional(t)||s},f.validator.messages.date),f.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},f.validator.messages.date),f.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},f.validator.format("Please enter a value with a valid extension.")),f.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),f.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,n,r,o,a,s=e.replace(/ /g,"").toUpperCase(),l="",c=!0,d="";if(void 0!==(r={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[s.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+r+"$","").test(s))return!1;for(i=s.substring(4,s.length)+s.substring(0,4),o=0;o<i.length;o++)"0"!==(n=i.charAt(o))&&(c=!1),c||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(a=0;a<l.length;a++)d=(""+d+l.charAt(a))%97;return 1===d},"Please specify a valid IBAN"),f.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),f.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),f.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),f.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),f.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),f.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),f.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),f.validator.addMethod("nieES",function(e){"use strict";return!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[T]{1}/.test(e)?e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e):!!/^[XYZ]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23))},"Please specify a valid NIE number."),f.validator.addMethod("nifES",function(e){"use strict";return!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),jQuery.validator.addMethod("notEqualTo",function(e,t,i){return this.optional(t)||!f.validator.methods.equalTo.call(this,e,t,i)},"Please enter a different value, values must not be the same."),f.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),f.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),f.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},errorJQMsg.JQ_INVALID_PHONE),f.validator.addMethod("phone",function(e,t){var i=(e=e.replace(/\(|\)|\s+|-/g,""))+" ";if(!this.optional(t)&&1==i.length)return!1;if(i.length=i.length-1,1<i.length){if(isNaN(i))return!1;if(32<i.length)return!1}return!0},errorJQMsg.JQ_INVALID_PHONE),f.validator.addMethod("phoneJP",function(e,t){return this.optional(t)||/^\d{6,15}$/.test(e)},errorJQMsg.JQ_INVALID_PHONE),f.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||9<e.length&&e.match(/^(0?\+?1-?)?[-. ]?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)},errorJQMsg.JQ_INVALID_PHONE),f.validator.addMethod("customemail",function(e,t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},errorJQMsg.JQ_CUSTOM_EMAIL),f.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},errorJQMsg.JQ_INVALID_PHONE),f.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},errorJQMsg.JQ_INVALID_POSTAL_CODE),f.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP vlido."),f.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},errorJQMsg.JQ_INVALID_POSTAL_CODE),f.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),f.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},errorJQMsg.JQ_INVALID_POSTAL_CODE),f.validator.addMethod("require_from_group",function(e,t,i){var n=f(i[1],t.form),r=n.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):f.extend({},this),a=n.filter(function(){return o.elementValue(this)}).length>=i[0];return r.data("valid_req_grp",o),f(t).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),a},f.validator.format("Please fill at least {0} of these fields.")),f.validator.addMethod("skip_or_fill_minimum",function(e,t,i){var n=f(i[1],t.form),r=n.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):f.extend({},this),a=n.filter(function(){return o.elementValue(this)}).length,s=0===a||a>=i[0];return r.data("valid_skip",o),f(t).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),s},f.validator.format("Please either skip these fields or fill at least {0} of them.")),f.validator.addMethod("stateUS",function(e,t,i){var n,r=void 0===i,o=!r&&void 0!==i.caseSensitive&&i.caseSensitive,a=!r&&void 0!==i.includeTerritories&&i.includeTerritories,s=!r&&void 0!==i.includeMilitary&&i.includeMilitary;return n=a||s?a&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":a?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=o?new RegExp(n):new RegExp(n,"i"),this.optional(t)||n.test(e)},"Please specify a valid state"),f.validator.addMethod("strippedminlength",function(e,t,i){return f(e).text().length>=i},f.validator.format("Please enter at least {0} characters")),f.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),f.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),f.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},f.validator.messages.url),f.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,n,r,o,a,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],d=0;for(t=0;t<17;t++){if(r=c[t],n=e.slice(t,t+1),8===t&&(a=n),isNaN(n)){for(i=0;i<s.length;i++)if(n.toUpperCase()===s[i]){n=l[i],n*=r,isNaN(a)&&8===i&&(a=s[i]);break}}else n*=r;d+=n}return 10===(o=d%11)&&(o="X"),o===a},"The specified vehicle identification number (VIN) is invalid."),f.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),f.validator.addMethod("zipcodeCA",function(e,t){return this.optional(t)||/[^DFIOQU0-9][0-9][^DFIOQU0-9] [0-9][^DFIOQU0-9][0-9]/.test(e)},"The specified CA ZIP Code is invalid"),f.validator.addMethod("zipcodeKR",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},errorJQMsg.JQ_FRG_ZIPCODE_INVALID_KR),f.validator.addMethod("zipcodeJP",function(e,t){return this.optional(t)||/^\d{3}(-?)\d{4}$/.test(e)},errorJQMsg.JQ_INVALID_POSTAL_CODE),f.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),f.validator.addMethod("addressMX",function(e,t){return this.optional(t)||0<e.length&&e.length<=100},f.validator.format(errorJQMsg.JQ_MAX_ALLOWED_CHAR,"100")),f.validator.addMethod("valueNotEquals",function(e,t,i){return""!=e},errorJQMsg.JQ_REQUIRED_FIELD),f.validator.addMethod("fiscalCode",function(e,t){if(""==e)return!0;var i="",n="",r=f("#formMpiMyContacts");if("billingCode"===f(t).attr("name")&&"Register"==f(t).closest("form").attr("name"))i=f("input[name=firstName]").val(),n=f("input[name=lastName]").val();else if(COMMON.isUserLogged)if(COMMON.isUserLogged&&0===r.length)if("step1_shipto_fiscal_code"===f(t).attr("name")){a=f("select[name=step1_shipto_country] option:selected").val();i=f("input[name=step1_shipto_name]").val(),n=f("input[name=step1_shipto_surname]").val()}else if("modal_addresses_fiscal_code"===f(t).attr("name")){a=f("select[name=modal_addresses_country_edit] option:selected").val();i=f("input[name=modal_firstname]").val(),n=f("input[name=modal_lastname]").val()}else{var o=f(t).closest("fieldset").attr("name");a=f("select[name="+o+"_country] option:selected").val();i=f("input[name="+o+"_name]").val(),n=f("input[name="+o+"_surname]").val()}else i=f("input[name=modal_myaccount_name]").val(),n=f("input[name=modal_myaccount_surname]").val();else if(f("#step1_billto_enable").is(":checked")){var a=f("#billto select[name=step1_billto_country] option:selected").val();i=f("#billto input[name=step1_billto_name]").val(),n=f("#billto input[name=step1_billto_surname]").val()}else{var a=f("#shipto select[name=step1_shipto_country] option:selected").val();i=f("#shipto input[name=step1_shipto_name]").val(),n=f("#shipto input[name=step1_shipto_surname]").val()}if(COMMON.frgStoreIdentifier===COMMON.storeIdMX)return this.optional(t)||0==e.length||0<e.length&&(12==e.length||13==e.length);if(COMMON.frgStoreIdentifier===COMMON.storeIdIT)return f.fn.validateTaxCode(e,i,n);if(COMMON.frgStoreIdentifier!==COMMON.storeIdES)return COMMON.frgStoreIdentifier===COMMON.storeIdOE&&"RO"==a?null!=(s=e.match(/[0-9]{13}/))&&13==e.length:void 0;var s=e.match(/[yYxXzZ0-9]{1}[0-9]{7}[^IOUiou0-9]{1}/),l=e.charAt(0),c=e.substring(1,8),d=e.charAt(8),u=0,h=!1;if(null!=s){u="X"==l||"x"==l?0:"Y"==l||"y"==l?1:"Z"==l||"z"==l?2:l;var p="TRWAGMYFPDXBNJZSQVHLCKE".slice((u+=c)%23,u%23+1);""!=u&&isFinite(u)&&p.toUpperCase()==d.toUpperCase()&&(h=!0)}return!(null==s||9!=e.length||!h)&&(f("#step1_shipto_fiscal_code").val(e.toUpperCase()),!0)},errorJQMsg.JQ_VALID_FISCAL_CODE),f.validator.addMethod("lastname_firstname_validate",function(e,t){return"-"!==e&&0<e.length},errorJQMsg.JQ_REQUIRED_FIELD),f.validator.addMethod("checkboxKr",function(e,t,i){return null!=e},errorJQMsg.JQ_FRG_PRIVACY_POLICY_INFORMATION),f.validator.addMethod("creditcardexpireddate",function(e,t,i){return!Number.isNaN(Date.parse("01/"+e))},"Please enter a valid exipration date"),f.validator.addMethod("orderid",function(e,t,i){var n=e.toLowerCase().indexOf("e00"),r=e;return!(0<n)&&(0==n&&(r=e.substring(3)),!isNaN(r))},"Please enter a valid order ID")}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){"use strict";var r,o=window.Slick||{};r=0,(o=function(e,t){var i,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.hidden="hidden",n.paused=!1,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=c(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,i=c(e).data("slick")||{},n.options=c.extend({},n.defaults,i,t),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=c.proxy(n.autoPlay,n),n.autoPlayClear=c.proxy(n.autoPlayClear,n),n.changeSlide=c.proxy(n.changeSlide,n),n.clickHandler=c.proxy(n.clickHandler,n),n.selectHandler=c.proxy(n.selectHandler,n),n.setPosition=c.proxy(n.setPosition,n),n.swipeHandler=c.proxy(n.swipeHandler,n),n.dragHandler=c.proxy(n.dragHandler,n),n.keyHandler=c.proxy(n.keyHandler,n),n.autoPlayIterator=c.proxy(n.autoPlayIterator,n),n.instanceUid=r++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0),n.checkResponsive(!0)}).prototype.addSlide=o.prototype.slickAdd=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?c(e).appendTo(n.$slideTrack):i?c(e).insertBefore(n.$slides.eq(t)):c(e).insertAfter(n.$slides.eq(t)):!0===i?c(e).prependTo(n.$slideTrack):c(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){c(t).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},o.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:e},this.options.speed)}},o.prototype.animateSlide=function(e,t){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),c({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},o.prototype.asNavFor=function(t){var e=this.options.asNavFor;e&&null!==e&&(e=c(e).not(this.$slider)),null!==e&&"object"==typeof e&&e.each(function(){var e=c(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},o.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},o.prototype.autoPlay=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer),this.slideCount>this.options.slidesToShow&&!0!==this.paused&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},o.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=c(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=c(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=c(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},o.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("data-slick-index",e).data("originalStyling",c(t).attr("style")||"")}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},o.prototype.buildRows=function(){var e,t,i,n,r,o,a,s=this;if(n=document.createDocumentFragment(),o=s.$slider.children(),1<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),e=0;e<r;e++){var l=document.createElement("div");for(t=0;t<s.options.rows;t++){var c=document.createElement("div");for(i=0;i<s.options.slidesPerRow;i++){var d=e*a+(t*s.options.slidesPerRow+i);o.get(d)&&c.appendChild(o.get(d))}l.appendChild(c)}n.appendChild(l)}s.$slider.html(n),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(e,t){var i,n,r,o=this,a=!1,s=o.$slider.width(),l=window.innerWidth||c(window).width();if("window"===o.respondTo?r=l:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(l,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(i in n=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[i]&&(n=o.breakpoints[i]):r>o.breakpoints[i]&&(n=o.breakpoints[i]));null!==n?null!==o.activeBreakpoint&&n===o.activeBreakpoint&&!t||(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[n]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=n):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),a=n),e||!1===a||o.$slider.trigger("breakpoint",[o,a])}},o.prototype.changeSlide=function(e,t){var i,n,r=this,o=c(e.target);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),i=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":n=0==i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-n,!1,t);break;case"next":n=0==i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+n,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,t),o.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(e){var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},o.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(c("li",e.$dots).off("click.slick",e.changeSlide),!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&c("li",e.$dots).off("mouseenter.slick",c.proxy(e.setPaused,e,!0)).off("mouseleave.slick",c.proxy(e.setPaused,e,!1))),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),c(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",c.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",c.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().off("click.slick",e.selectHandler),c(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),c(window).off("resize.slick.slick-"+e.instanceUid,e.resize),c("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),c(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),c(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.html(e))},o.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},o.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),c(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},o.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},o.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},o.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(e){null!==e&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},o.prototype.getLeft=function(e){var t,i,n,r=this,o=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=i*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(o=e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,o=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(o=r.slideOffset=0),!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+o,!0===r.options.variableWidth&&(t=(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(t=(n=!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},o.prototype.getOption=o.prototype.slickGetOption=function(e){return this.options[e]},o.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,r=[];for(e=!1===t.options.infinite?t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,2*t.slideCount);i<e;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return r},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var i,n,r=this;return n=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-n+c(t).outerWidth()/2>-1*r.swipeLeft)return i=t,!1}),Math.abs(c(i).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},o.prototype.init=function(e){var t=this;c(t.$slider).hasClass("slick-initialized")||(c(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA()},o.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.on("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.on("click.slick",{message:"next"},this.changeSlide))},o.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&c("li",e.$dots).on("mouseenter.slick",c.proxy(e.setPaused,e,!0)).on("mouseleave.slick",c.proxy(e.setPaused,e,!1))},o.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),c(document).on(e.visibilityChange,c.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",c.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",c.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,c.proxy(e.orientationChange,e)),c(window).on("resize.slick.slick-"+e.instanceUid,c.proxy(e.resize,e)),c("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},o.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}}))},o.prototype.lazyLoad=function(){var e,t,i=this;function n(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy");e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading"),i.$slider.trigger("lazyLoaded",[i,e,t])})})})}!0===i.options.centerMode?t=!0===i.options.infinite?(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),n(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?n(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?n(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&n(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},o.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay(),!0===t.options.accessibility&&t.initADA()},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(e){e.preventDefault()},o.prototype.progressiveLazyLoad=function(){var e,t=this;0<c("img[data-lazy]",t.$slider).length&&(e=c("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").on("load",function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition()}).on("error",function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()})},o.prototype.refresh=function(e){var t=this.currentSlide;this.destroy(!0),c.extend(this,this.initials,{currentSlide:t}),this.init(),e||this.changeSlide({data:{message:"index",index:t}},!1)},o.prototype.registerBreakpoints=function(){var e,t,i,n=this,r=n.options.responsive||null;if("array"===c.type(r)&&r.length){for(e in n.respondTo=n.options.respondTo||"window",r)if(i=n.breakpoints.length-1,t=r[e].breakpoint,r.hasOwnProperty(e)){for(;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===t&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(t),n.breakpointSettings[t]=r[e].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},o.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),!0===e.options.autoplay&&e.focusHandler()},o.prototype.resize=function(){var e=this;c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},o.prototype.setCSS=function(e){var t,i,n=this,r={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,!1===n.transformsEnabled||(!(r={})===n.cssTransitions?r[n.animType]="translate("+t+", "+i+")":r[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(r)},o.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},o.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?c(t).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):c(t).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}},o.prototype.setOption=o.prototype.slickSetOption=function(e,t,i){var n,r;if("responsive"===e&&"array"===c.type(t))for(r in t)if("array"!==c.type(this.options.responsive))this.options.responsive=[t[r]];else{for(n=this.options.responsive.length-1;0<=n;)this.options.responsive[n].breakpoint===t[r].breakpoint&&this.options.responsive.splice(n,1),n--;this.options.responsive.push(t[r])}else this.options[e]=t;!0===i&&(this.unload(),this.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},o.prototype.setSlideClasses=function(e){var t,i,n,r,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t<=e&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,n=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},o.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,c(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,c(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},o.prototype.setPaused=function(e){!0===this.options.autoplay&&!0===this.options.pauseOnHover&&((this.paused=e)?this.autoPlayClear():this.autoPlay())},o.prototype.selectHandler=function(e){var t=c(e.target).is(".slick-slide")?c(e.target):c(e.target).parents(".slick-slide"),i=parseInt(t.attr("data-slick-index"));if(i=i||0,this.slideCount<=this.options.slidesToShow)return this.setSlideClasses(i),void this.asNavFor(i);this.slideHandler(i)},o.prototype.slideHandler=function(e,t,i){var n,r,o,a,s,l=this;if(t=t||!1,(!0!==l.animating||!0!==l.options.waitForAnimate)&&!(!0===l.options.fade&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow))if(!1===t&&l.asNavFor(e),n=e,s=l.getLeft(n),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(e<0||e>l.getDotCount()*l.options.slidesToScroll))!1===l.options.fade&&(n=l.currentSlide,!0!==i?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n));else if(!1===l.options.infinite&&!0===l.options.centerMode&&(e<0||e>l.slideCount-l.options.slidesToScroll))!1===l.options.fade&&(n=l.currentSlide,!0!==i?l.animateSlide(a,function(){l.postSlide(n)}):l.postSlide(n));else{if(!0===l.options.autoplay&&clearInterval(l.autoPlayTimer),r=n<0?l.slideCount%l.options.slidesToScroll!=0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?l.slideCount%l.options.slidesToScroll!=0?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,r]),o=l.currentSlide,l.currentSlide=r,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),!0===l.options.fade)return!0!==i?(l.fadeSlideOut(o),l.fadeSlide(r,function(){l.postSlide(r)})):l.postSlide(r),void l.animateHeight();!0!==i?l.animateSlide(s,function(){l.postSlide(r)}):l.postSlide(r)}},o.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var e,t,i,n;return e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n?!1===this.options.rtl?"left":"right":n<=360&&315<=n?!1===this.options.rtl?"left":"right":135<=n&&n<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=n&&n<=135?"left":"right":"vertical"},o.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},o.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},o.prototype.swipeMove=function(e){var t,i,n,r,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||o&&1!==o.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(i=a.swipeDirection())?(0!==a.options.edgeFriction||!1!==a.options.infinite||!1!==a.options.variableWidth||!1!==a.options.centerMode||!0!==a.options.verticalSwiping||!0!==a.options.verticalSwiping||!("right"===i&&0===a.getCurrent()||"left"===i&&a.getCurrent()>=a.$slides.length-a.options.slidesToShow))&&(void 0!==e.originalEvent&&4<a.touchObject.swipeLength&&e.preventDefault(),r=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(r=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*r:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*r,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*r),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},o.prototype.swipeStart=function(e){var t;if(1!==this.touchObject.fingerCount||this.slideCount<=this.options.slidesToShow)return!(this.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),this.touchObject.startX=this.touchObject.curX=void 0!==t?t.pageX:e.clientX,this.touchObject.startY=this.touchObject.curY=void 0!==t?t.pageY:e.clientY,this.dragging=!0},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},o.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},o.prototype.visibility=function(){document[this.hidden]?(this.paused=!0,this.autoPlayClear()):!0===this.options.autoplay&&(this.paused=!1,this.autoPlay())},o.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),r=i.getNavigableIndexes().filter(function(e){return 0<=e&&e<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(e){var t=r.indexOf(e);c(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+e,tabindex:-1}),-1!==t&&c(this).attr({"aria-describedby":"slick-slide-control"+i.instanceUid+t})}),i.$dots.attr("role","tablist").find("li").each(function(e){var t=r[e];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+e,"aria-controls":"slick-slide"+i.instanceUid+t,"aria-label":e+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=i.currentSlide,t=e+i.options.slidesToShow;e<t;e++)i.$slides.eq(e).attr("tabindex",0);i.activateADA()},o.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.focusHandler=function(){var i=this;i.$slider.on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=c(this);setTimeout(function(){i.isPlay&&(t.is(":focus")?(i.autoPlayClear(),i.paused=!0):(i.paused=!1,i.autoPlay()))},0)})},c.fn.slick=function(){for(var e,t=arguments[0],i=Array.prototype.slice.call(arguments,1),n=this.length,r=0;r<n;r++)if("object"==typeof t||void 0===t?this[r].slick=new o(this[r],t):e=this[r].slick[t].apply(this[r].slick,i),void 0!==e)return e;return this}}),function(a){function t(e){var t=e||window.event,i=[].slice.call(arguments,1),n=0,r=0,o=0;return(e=a.event.fix(t)).type="mousewheel",t.wheelDelta&&(n=t.wheelDelta/120),t.detail&&(n=-t.detail/3),o=n,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(o=0,r=-1*n),void 0!==t.wheelDeltaY&&(o=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(r=-1*t.wheelDeltaX/120),i.unshift(e,n,r,o),(a.event.dispatch||a.event.handle).apply(this,i)}var i=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var e=i.length;e;)a.event.fixHooks[i[--e]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(L){var B,p,H,n,r,s,o,g,j,C,f,c,l,d,u,h,m,v,y,b,_,w,M,S,k,I,T,O,z,a,x,A,P,D,F,N,E,$,R,U,W,G,q,Q,Y,V,K,X,J,Z,i,ee,te,ie,ne,re,oe,e,t,ae;e="function"==typeof define&&define.amd,t="undefined"!=typeof module&&module.exports,ae=jsAssetsDir+"r17/lib/jquery.mousewheel-3.0.6.min.js",e||(t?require("jquery-mousewheel")(L):L.event.special.mousewheel||(isMobile.any()?L("head").append("\x3c!--No mousewheel plugin needed--\x3e"):L("head").append(decodeURI("%3Cscript src='"+ae+"'async defer%3E%3C/script%3E")))),p="mCustomScrollbar",H="mCS",n=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,o={},g=window.attachEvent&&!window.addEventListener?1:0,j=!1,C=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(a){a=L.extend(!0,{},r,a);var e=c.call(this);if(a.live){var t=a.liveSelector||this.selector||n,i=L(t);if("off"===a.live)return void d(t);o[t]=setTimeout(function(){i.mCustomScrollbar(a),"once"===a.live&&i.length&&d(t)},500)}else d(t);return a.setWidth=a.set_width?a.set_width:a.setWidth,a.setHeight=a.set_height?a.set_height:a.setHeight,a.axis=a.horizontalScroll?"x":u(a.axis),a.scrollInertia=0<a.scrollInertia&&a.scrollInertia<17?17:a.scrollInertia,"object"!=typeof a.mouseWheel&&1==a.mouseWheel&&(a.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),a.mouseWheel.scrollAmount=a.mouseWheelPixels?a.mouseWheelPixels:a.mouseWheel.scrollAmount,a.mouseWheel.normalizeDelta=a.advanced.normalizeMouseWheelDelta?a.advanced.normalizeMouseWheelDelta:a.mouseWheel.normalizeDelta,a.scrollButtons.scrollType=h(a.scrollButtons.scrollType),l(a),L(e).each(function(){var e=L(this);if(!e.data(H)){e.data(H,{idx:++s,opt:a,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:e.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var t=e.data(H),i=t.opt,n=e.data("mcs-axis"),r=e.data("mcs-scrollbar-position"),o=e.data("mcs-theme");n&&(i.axis=n),r&&(i.scrollbarPosition=r),o&&(i.theme=o,l(i)),m.call(this),t&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),L("#mCSB_"+t.idx+"_container img:not(."+C[2]+")").addClass(C[2]),f.update.call(null,e)}})},update:function(e,s){var t=e||c.call(this);return L(t).each(function(){var e=L(this);if(e.data(H)){var t=e.data(H),i=t.opt,n=L("#mCSB_"+t.idx+"_container"),r=L("#mCSB_"+t.idx),o=[L("#mCSB_"+t.idx+"_dragger_vertical"),L("#mCSB_"+t.idx+"_dragger_horizontal")];if(!n.length)return;t.tweenRunning&&K(e),s&&t&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),e.hasClass(C[3])&&e.removeClass(C[3]),e.hasClass(C[4])&&e.removeClass(C[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),y.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||n.css("width",v(n)),t.overflowed=S.call(this),O.call(this),i.autoDraggerLength&&_.call(this),w.call(this),I.call(this);var a=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)];"x"!==i.axis&&(t.overflowed[0]?o[0].height()>o[0].parent().height()?k.call(this):(X(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}),t.contentReset.y=null):(k.call(this),"y"===i.axis?T.call(this):"yx"===i.axis&&t.overflowed[1]&&X(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(t.overflowed[1]?o[1].width()>o[1].parent().width()?k.call(this):(X(e,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}),t.contentReset.x=null):(k.call(this),"x"===i.axis?T.call(this):"yx"===i.axis&&t.overflowed[0]&&X(e,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),s&&t&&(2===s&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===s&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(s,l){if(void 0!==s&&null!=s){var e=c.call(this);return L(e).each(function(){var e=L(this);if(e.data(H)){var t=e.data(H),i=t.opt,n={trigger:"external",scrollInertia:i.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=L.extend(!0,{},n,l),o=Q.call(this,s),a=0<r.scrollInertia&&r.scrollInertia<17?17:r.scrollInertia;o[0]=Y.call(this,o[0],"y"),o[1]=Y.call(this,o[1],"x"),r.moveDragger&&(o[0]*=t.scrollRatio.y,o[1]*=t.scrollRatio.x),r.dur=oe()?0:a,setTimeout(function(){null!==o[0]&&void 0!==o[0]&&"x"!==i.axis&&t.overflowed[0]&&(r.dir="y",r.overwrite="all",X(e,o[0].toString(),r)),null!==o[1]&&void 0!==o[1]&&"y"!==i.axis&&t.overflowed[1]&&(r.dir="x",r.overwrite="none",X(e,o[1].toString(),r))},r.timeout)}})}},stop:function(){var e=c.call(this);return L(e).each(function(){var e=L(this);e.data(H)&&K(e)})},disable:function(t){var e=c.call(this);return L(e).each(function(){var e=L(this);e.data(H)&&(e.data(H),V.call(this,"remove"),T.call(this),t&&k.call(this),O.call(this,!0),e.addClass(C[3]))})},destroy:function(){var a=c.call(this);return L(a).each(function(){var e=L(this);if(e.data(H)){var t=e.data(H),i=t.opt,n=L("#mCSB_"+t.idx),r=L("#mCSB_"+t.idx+"_container"),o=L(".mCSB_"+t.idx+"_scrollbar");i.live&&d(i.liveSelector||L(a).selector),V.call(this,"remove"),T.call(this),k.call(this),e.removeData(H),ee(this,"mcs"),o.remove(),r.find("img."+C[2]).removeClass(C[2]),n.replaceWith(r.contents()),e.removeClass(p+" _"+H+"_"+t.idx+" "+C[6]+" "+C[7]+" "+C[5]+" "+C[3]).addClass(C[4])}})}},c=function(){return"object"!=typeof L(this)||L(this).length<1?n:this},l=function(e){e.autoDraggerLength=!(-1<L.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&e.autoDraggerLength,e.autoExpandScrollbar=!(-1<L.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&e.autoExpandScrollbar,e.scrollButtons.enable=!(-1<L.inArray(e.theme,["minimal","minimal-dark"]))&&e.scrollButtons.enable,e.autoHideScrollbar=-1<L.inArray(e.theme,["minimal","minimal-dark"])||e.autoHideScrollbar,e.scrollbarPosition=-1<L.inArray(e.theme,["minimal","minimal-dark"])?"outside":e.scrollbarPosition},d=function(e){o[e]&&(clearTimeout(o[e]),ee(o,e))},u=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},h=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},m=function(){var e=L(this),t=e.data(H),i=t.opt,n=i.autoExpandScrollbar?" "+C[1]+"_expand":"",r=["<div id='mCSB_"+t.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+C[12]+"'><div id='mCSB_"+t.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+t.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+C[12]+"'><div id='mCSB_"+t.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],o="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===i.axis?r[0]+r[1]:"x"===i.axis?r[1]:r[0],s="yx"===i.axis?"<div id='mCSB_"+t.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=i.autoHideScrollbar?" "+C[6]:"",c="x"!==i.axis&&"rtl"===t.langDir?" "+C[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===t.langDir?"989999px":i.setLeft,e.addClass(p+" _"+H+"_"+t.idx+l+c).wrapInner("<div id='mCSB_"+t.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+o+"'><div id='mCSB_"+t.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+t.langDir+"' /></div>");var d=L("#mCSB_"+t.idx),u=L("#mCSB_"+t.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||u.css("width",v(u)),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),d.addClass("mCSB_outside").after(a)):(d.addClass("mCSB_inside").append(a),u.wrap(s)),b.call(this);var h=[L("#mCSB_"+t.idx+"_dragger_vertical"),L("#mCSB_"+t.idx+"_dragger_horizontal")];h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},v=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return L(this).outerWidth(!0)}).get())],i=e.parent().width();return i<t[0]?t[0]:i<t[1]?t[1]:"100%"},y=function(){var e=L(this).data(H),t=e.opt,i=L("#mCSB_"+e.idx+"_container");if(t.advanced.autoExpandHorizontalScroll&&"y"!==t.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var n=Math.ceil(i[0].scrollWidth);3===t.advanced.autoExpandHorizontalScroll||2!==t.advanced.autoExpandHorizontalScroll&&n>i.parent().width()?i.css({width:n,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var e=L(this).data(H),t=e.opt,i=L(".mCSB_"+e.idx+"_scrollbar:first"),n=ne(t.scrollButtons.tabindex)?"tabindex='"+t.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+C[13]+"' "+n+" />","<a href='#' class='"+C[14]+"' "+n+" />","<a href='#' class='"+C[15]+"' "+n+" />","<a href='#' class='"+C[16]+"' "+n+" />"],o=["x"===t.axis?r[2]:r[0],"x"===t.axis?r[3]:r[1],r[2],r[3]];t.scrollButtons.enable&&i.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])},_=function(){var e=L(this).data(H),t=L("#mCSB_"+e.idx),i=L("#mCSB_"+e.idx+"_container"),n=[L("#mCSB_"+e.idx+"_dragger_vertical"),L("#mCSB_"+e.idx+"_dragger_horizontal")],r=[t.height()/i.outerHeight(!1),t.width()/i.outerWidth(!1)],o=[parseInt(n[0].css("min-height")),Math.round(r[0]*n[0].parent().height()),parseInt(n[1].css("min-width")),Math.round(r[1]*n[1].parent().width())],a=g&&o[1]<o[0]?o[0]:o[1],s=g&&o[3]<o[2]?o[2]:o[3];n[0].css({height:a,"max-height":n[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":o[0]+"px"}),n[1].css({width:s,"max-width":n[1].parent().width()-10})},w=function(){var e=L(this).data(H),t=L("#mCSB_"+e.idx),i=L("#mCSB_"+e.idx+"_container"),n=[L("#mCSB_"+e.idx+"_dragger_vertical"),L("#mCSB_"+e.idx+"_dragger_horizontal")],r=[i.outerHeight(!1)-t.height(),i.outerWidth(!1)-t.width()],o=[r[0]/(n[0].parent().height()-n[0].height()),r[1]/(n[1].parent().width()-n[1].width())];e.scrollRatio={y:o[0],x:o[1]}},M=function(e,t,i){var n=i?C[0]+"_expanded":"",r=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(C[0]+" "+n),r.toggleClass(C[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(C[0]),r.removeClass(C[1])):(e.addClass(C[0]),r.addClass(C[1])))},S=function(){var e=L(this).data(H),t=L("#mCSB_"+e.idx),i=L("#mCSB_"+e.idx+"_container"),n=null==e.overflowed?i.height():i.outerHeight(!1),r=null==e.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,a=i[0].scrollWidth;return n<o&&(n=o),r<a&&(r=a),[n>t.height(),r>t.width()]},k=function(){var e=L(this),t=e.data(H),i=t.opt,n=L("#mCSB_"+t.idx),r=L("#mCSB_"+t.idx+"_container"),o=[L("#mCSB_"+t.idx+"_dragger_vertical"),L("#mCSB_"+t.idx+"_dragger_horizontal")];if(K(e),("x"!==i.axis&&!t.overflowed[0]||"y"===i.axis&&t.overflowed[0])&&(o[0].add(r).css("top",0),X(e,"_resetY")),"y"!==i.axis&&!t.overflowed[1]||"x"===i.axis&&t.overflowed[1]){var a=dx=0;"rtl"===t.langDir&&(a=n.width()-r.outerWidth(!1),dx=Math.abs(a/t.scrollRatio.x)),r.css("left",a),o[1].css("left",dx),X(e,"_resetX")}},I=function(){var t,i=L(this),e=i.data(H),n=e.opt;e.onEvents||(a.call(this),n.contentTouchScroll&&x.call(this),A.call(this),n.mouseWheel.enable&&function e(){t=setTimeout(function(){L.event.special.mousewheel?(clearTimeout(t),P.call(i[0])):e()},100)}(),$.call(this),U.call(this),n.advanced.autoScrollOnFocus&&R.call(this),n.scrollButtons.enable&&W.call(this),n.keyboard.enable&&G.call(this),e.onEvents=!0)},T=function(){var e=L(this),t=e.data(H),i=t.opt,n="mCS_"+t.idx,r=".mCSB_"+t.idx+"_scrollbar",o=L("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+r+" ."+C[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+r+">a"),a=L("#mCSB_"+t.idx+"_container");i.advanced.releaseDraggableSelectors&&o.add(L(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&o.add(L(i.advanced.extraDraggableSelectors)),t.onEvents&&(L(document).add(L(!F()||top.document)).off("."+n),o.each(function(){L(this).off("."+n)}),clearTimeout(e[0]._focusTimeout),ee(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),ee(t.sequential,"step"),clearTimeout(a[0].onCompleteTimeout),ee(a[0],"onCompleteTimeout"),t.onEvents=!1)},O=function(e){var t=L(this),i=t.data(H),n=i.opt,r=L("#mCSB_"+i.idx+"_container_wrapper"),o=r.length?r:L("#mCSB_"+i.idx+"_container"),a=[L("#mCSB_"+i.idx+"_scrollbar_vertical"),L("#mCSB_"+i.idx+"_scrollbar_horizontal")],s=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==n.axis&&(i.overflowed[0]&&!e?(a[0].add(s[0]).add(a[0].children("a")).css("display","block"),o.removeClass(C[8]+" "+C[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&s[0].css("display","none"),o.removeClass(C[10])):(a[0].css("display","none"),o.addClass(C[10])),o.addClass(C[8]))),"y"!==n.axis&&(i.overflowed[1]&&!e?(a[1].add(s[1]).add(a[1].children("a")).css("display","block"),o.removeClass(C[9]+" "+C[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&s[1].css("display","none"),o.removeClass(C[11])):(a[1].css("display","none"),o.addClass(C[11])),o.addClass(C[9]))),i.overflowed[0]||i.overflowed[1]?t.removeClass(C[5]):t.addClass(C[5])},z=function(e){var t=e.type,i=e.target.ownerDocument!==document&&null!==frameElement?[L(frameElement).offset().top,L(frameElement).offset().left]:null,n=F()&&e.target.ownerDocument!==top.document&&null!==frameElement?[L(e.view.frameElement).offset().top,L(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[e.originalEvent.pageY-i[0]+n[0],e.originalEvent.pageX-i[1]+n[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[r.screenY,r.screenX,1<o]:[r.pageY,r.pageX,1<o];default:return i?[e.pageY-i[0]+n[0],e.pageX-i[1]+n[1],!1]:[e.pageY,e.pageX,!1]}},a=function(){function r(e,t,i,n){if(p[0].idleTimer=u.scrollInertia<233?250:0,a.attr("id")===h[1])var r="x",o=(a[0].offsetLeft-t+n)*d.scrollRatio.x;else r="y",o=(a[0].offsetTop-e+i)*d.scrollRatio.y;X(c,o.toString(),{dir:r,drag:!0})}var a,s,l,c=L(this),d=c.data(H),u=d.opt,e="mCS_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],p=L("#mCSB_"+d.idx+"_container"),t=L("#"+h[0]+",#"+h[1]),i=u.advanced.releaseDraggableSelectors?t.add(L(u.advanced.releaseDraggableSelectors)):t,n=u.advanced.extraDraggableSelectors?L(!F()||top.document).add(L(u.advanced.extraDraggableSelectors)):L(!F()||top.document);t.on("contextmenu."+e,function(e){e.preventDefault()}).on("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),te(e)){j=!0,g&&(document.onselectstart=function(){return!1}),N.call(p,!1),K(c);var t=(a=L(this)).offset(),i=z(e)[0]-t.top,n=z(e)[1]-t.left,r=a.height()+t.top,o=a.width()+t.left;i<r&&0<i&&n<o&&0<n&&(s=i,l=n),M(a,"active",u.autoExpandScrollbar)}}).on("touchmove."+e,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),i=z(e)[0]-t.top,n=z(e)[1]-t.left;r(s,l,i,n)}),L(document).add(n).on("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(e){if(a){var t=a.offset(),i=z(e)[0]-t.top,n=z(e)[1]-t.left;if(s===i&&l===n)return;r(s,l,i,n)}}).add(i).on("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){a&&(M(a,"active",u.autoExpandScrollbar),a=null),j=!1,g&&(document.onselectstart=null),N.call(p,!0)})},x=function(){function t(e){if(!ie(e)||j||z(e)[2])B=0;else{k=S=0,h=B=1,I.removeClass("mCS_touch_action");var t=x.offset();c=z(e)[0]-t.top,p=z(e)[1]-t.left,$=[z(e)[0],z(e)[1]]}}function i(e){if(ie(e)&&!j&&!z(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!k||S)&&h)){v=Z();var t=O.offset(),i=z(e)[0]-t.top,n=z(e)[1]-t.left,r="mcsLinearOut";if(P.push(i),D.push(n),$[2]=Math.abs(z(e)[0]-$[0]),$[3]=Math.abs(z(e)[1]-$[1]),M.overflowed[0])var o=A[0].parent().height()-A[0].height(),a=0<c-i&&i-c>-o*M.scrollRatio.y&&(2*$[3]<$[2]||"yx"===T.axis);if(M.overflowed[1])var s=A[1].parent().width()-A[1].width(),l=0<p-n&&n-p>-s*M.scrollRatio.x&&(2*$[2]<$[3]||"yx"===T.axis);a||l?(R||e.preventDefault(),S=1):(k=1,I.addClass("mCS_touch_action")),R&&e.preventDefault(),C="yx"===T.axis?[c-i,p-n]:"x"===T.axis?[null,p-n]:[c-i,null],x[0].idleTimer=250,M.overflowed[0]&&u(C[0],N,r,"y","all",!0),M.overflowed[1]&&u(C[1],N,r,"x",E,!0)}}function n(e){if(!ie(e)||j||z(e)[2])B=0;else{B=1,e.stopImmediatePropagation(),K(I),g=Z();var t=O.offset();f=z(e)[0]-t.top,m=z(e)[1]-t.left,P=[],D=[]}}function r(e){if(ie(e)&&!j&&!z(e)[2]){h=0,e.stopImmediatePropagation(),k=S=0,y=Z();var t=O.offset(),i=z(e)[0]-t.top,n=z(e)[1]-t.left;if(!(30<y-v)){var r="mcsEaseOut",o=(_=1e3/(y-g))<2.5,a=o?[P[P.length-2],D[D.length-2]]:[0,0];b=o?[i-a[0],n-a[1]]:[i-f,n-m];var s=[Math.abs(b[0]),Math.abs(b[1])];_=o?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[_,_];var l=[Math.abs(x[0].offsetTop)-b[0]*d(s[0]/_[0],_[0]),Math.abs(x[0].offsetLeft)-b[1]*d(s[1]/_[1],_[1])];C="yx"===T.axis?[l[0],l[1]]:"x"===T.axis?[null,l[1]]:[l[0],null],w=[4*s[0]+T.scrollInertia,4*s[1]+T.scrollInertia];var c=parseInt(T.contentTouchScroll)||0;C[0]=c<s[0]?C[0]:0,C[1]=c<s[1]?C[1]:0,M.overflowed[0]&&u(C[0],w[0],r,"y",E,!1),M.overflowed[1]&&u(C[1],w[1],r,"x",E,!1)}}}function d(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?i[0]:i[3]:60<e?3<t?i[3]:i[2]:30<e?8<t?i[1]:6<t?i[0]:4<t?t:i[2]:8<t?t:i[3]}function u(e,t,i,n,r,o){e&&X(I,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:r,drag:o})}var h,c,p,f,m,g,v,y,b,_,C,w,S,k,I=L(this),M=I.data(H),T=M.opt,e="mCS_"+M.idx,O=L("#mCSB_"+M.idx),x=L("#mCSB_"+M.idx+"_container"),A=[L("#mCSB_"+M.idx+"_dragger_vertical"),L("#mCSB_"+M.idx+"_dragger_horizontal")],P=[],D=[],N=0,E="yx"===T.axis?"none":"all",$=[],o=x.find("iframe"),a=["touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,"touchmove."+e+" pointermove."+e+" MSPointerMove."+e,"touchend."+e+" pointerup."+e+" MSPointerUp."+e],R=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;x.on(a[0],function(e){t(e)}).on(a[1],function(e){i(e)}),O.on(a[0],function(e){n(e)}).on(a[2],function(e){r(e)}),o.length&&o.each(function(){L(this).on("load",function(){F(this)&&L(this.contentDocument||this.contentWindow.document).on(a[0],function(e){t(e),n(e)}).on(a[1],function(e){i(e)}).on(a[2],function(e){r(e)})})})},A=function(){function r(e,t,i){l.type=i&&o?"stepped":"stepless",l.scrollAmount=10,q(n,e,t,"mcsLinearOut",i?60:null)}var o,n=L(this),a=n.data(H),s=a.opt,l=a.sequential,e="mCS_"+a.idx,c=L("#mCSB_"+a.idx+"_container"),d=c.parent();c.on("mousedown."+e,function(){B||o||(o=1,j=!0)}).add(document).on("mousemove."+e,function(e){if(!B&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var t=c.offset(),i=z(e)[0]-t.top+c[0].offsetTop,n=z(e)[1]-t.left+c[0].offsetLeft;0<i&&i<d.height()&&0<n&&n<d.width()?l.step&&r("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(i<0?r("on",38):i>d.height()&&r("on",40)),"y"!==s.axis&&a.overflowed[1]&&(n<0?r("on",37):n>d.width()&&r("on",39)))}}).on("mouseup."+e+" dragend."+e,function(){B||(o&&(o=0,r("off",null)),j=!1)})},P=function(){function i(e,t){if(K(u),!E(u,e.target)){var i="auto"!==p.mouseWheel.deltaFactor?parseInt(p.mouseWheel.deltaFactor):g&&e.deltaFactor<100?100:e.deltaFactor||100,n=p.scrollInertia;if("x"===p.axis||"x"===p.mouseWheel.axis)var r="x",o=[Math.round(i*h.scrollRatio.x),parseInt(p.mouseWheel.scrollAmount)],a="auto"!==p.mouseWheel.scrollAmount?o[1]:o[0]>=f.width()?.9*f.width():o[0],s=Math.abs(L("#mCSB_"+h.idx+"_container")[0].offsetLeft),l=m[1][0].offsetLeft,c=m[1].parent().width()-m[1].width(),d="y"===p.mouseWheel.axis?e.deltaY||t:e.deltaX;else r="y",o=[Math.round(i*h.scrollRatio.y),parseInt(p.mouseWheel.scrollAmount)],a="auto"!==p.mouseWheel.scrollAmount?o[1]:o[0]>=f.height()?.9*f.height():o[0],s=Math.abs(L("#mCSB_"+h.idx+"_container")[0].offsetTop),l=m[0][0].offsetTop,c=m[0].parent().height()-m[0].height(),d=e.deltaY||t;"y"===r&&!h.overflowed[0]||"x"===r&&!h.overflowed[1]||((p.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(d=-d),p.mouseWheel.normalizeDelta&&(d=d<0?-1:1),(0<d&&0!==l||d<0&&l!==c||p.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!p.mouseWheel.normalizeDelta&&(a=e.deltaFactor,n=17),X(u,(s-d*a).toString(),{dir:r,dur:n}))}}if(L(this).data(H)){var u=L(this),h=u.data(H),p=h.opt,e="mCS_"+h.idx,f=L("#mCSB_"+h.idx),m=[L("#mCSB_"+h.idx+"_dragger_vertical"),L("#mCSB_"+h.idx+"_dragger_horizontal")],t=L("#mCSB_"+h.idx+"_container").find("iframe");t.length&&t.each(function(){L(this).on("load",function(){F(this)&&L(this.contentDocument||this.contentWindow.document).on("mousewheel."+e,function(e,t){i(e,t)})})}),f.on("mousewheel."+e,function(e,t){i(e,t)})}},D=new Object,F=function(e){var t=!1,i=!1,n=null;if(void 0===e?i="#empty":void 0!==L(e).attr("id")&&(i=L(e).attr("id")),!1!==i&&void 0!==D[i])return D[i];if(e){try{n=(e.contentDocument||e.contentWindow.document).body.innerHTML}catch(e){}t=null!==n}else{try{n=top.document.body.innerHTML}catch(e){}t=null!==n}return!1!==i&&(D[i]=t),t},N=function(e){var t=this.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}},E=function(e,t){var i=t.nodeName.toLowerCase(),n=e.data(H).opt.mouseWheel.disableOver;return-1<L.inArray(i,n)&&!(-1<L.inArray(i,["select","textarea"])&&!L(t).is(":focus"))},$=function(){var a,s=L(this),l=s.data(H),e="mCS_"+l.idx,c=L("#mCSB_"+l.idx+"_container"),d=c.parent();L(".mCSB_"+l.idx+"_scrollbar ."+C[12]).on("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){j=!0,L(e.target).hasClass("mCSB_dragger")||(a=1)}).on("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){j=!1}).on("click."+e,function(e){if(a&&(a=0,L(e.target).hasClass(C[12])||L(e.target).hasClass("mCSB_draggerRail"))){K(s);var t=L(this),i=t.find(".mCSB_dragger");if(0<t.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var n="x",r=e.pageX>i.offset().left?-1:1,o=Math.abs(c[0].offsetLeft)-r*(.9*d.width())}else{if(!l.overflowed[0])return;n="y",r=e.pageY>i.offset().top?-1:1,o=Math.abs(c[0].offsetTop)-r*(.9*d.height())}X(s,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}})},R=function(){var o=L(this),e=o.data(H),a=e.opt,t="mCS_"+e.idx,s=L("#mCSB_"+e.idx+"_container"),l=s.parent();s.on("focusin."+t,function(){var r=L(document.activeElement),e=s.find(".mCustomScrollBox").length;r.is(a.advanced.autoScrollOnFocus)&&(K(o),clearTimeout(o[0]._focusTimeout),o[0]._focusTimer=e?17*e:0,o[0]._focusTimeout=setTimeout(function(){var e=[re(r)[0],re(r)[1]],t=[s[0].offsetTop,s[0].offsetLeft],i=[0<=t[0]+e[0]&&t[0]+e[0]<l.height()-r.outerHeight(!1),0<=t[1]+e[1]&&t[0]+e[1]<l.width()-r.outerWidth(!1)],n="yx"!==a.axis||i[0]||i[1]?"all":"none";"x"===a.axis||i[0]||X(o,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0}),"y"===a.axis||i[1]||X(o,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0})},o[0]._focusTimer))})},U=function(){var e=L(this).data(H),t="mCS_"+e.idx,i=L("#mCSB_"+e.idx+"_container").parent();i.on("scroll."+t,function(){0===i.scrollTop()&&0===i.scrollLeft()||L(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},W=function(){var n=L(this),r=n.data(H),o=r.opt,a=r.sequential,e="mCS_"+r.idx,t=".mCSB_"+r.idx+"_scrollbar";L(t+">a").on("contextmenu."+e,function(e){e.preventDefault()}).on("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){function t(e,t){a.scrollAmount=o.scrollButtons.scrollAmount,q(n,e,t)}if(e.preventDefault(),te(e)){var i=L(this).attr("class");switch(a.type=o.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;j=!0,r.tweenRunning=!1,t("on",i);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;j=!1,a.dir&&t("off",i);break;case"click":if("stepped"!==a.type||r.tweenRunning)return;t("on",i)}}})},G=function(){function t(e){function t(e,t){d.type=c.keyboard.scrollType,d.scrollAmount=c.keyboard.scrollAmount,"stepped"===d.type&&l.tweenRunning||q(s,e,t)}switch(e.type){case"blur":l.tweenRunning&&d.dir&&t("off",null);break;case"keydown":case"keyup":var i=e.keyCode?e.keyCode:e.which,n="on";if("x"!==c.axis&&(38===i||40===i)||"y"!==c.axis&&(37===i||39===i)){if((38===i||40===i)&&!l.overflowed[0]||(37===i||39===i)&&!l.overflowed[1])return;"keyup"===e.type&&(n="off"),L(document.activeElement).is(p)||(e.preventDefault(),e.stopImmediatePropagation(),t(n,i))}else if(33===i||34===i){if((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){K(s);var r=34===i?-1:1;if("x"===c.axis||"yx"===c.axis&&l.overflowed[1]&&!l.overflowed[0])var o="x",a=Math.abs(u[0].offsetLeft)-r*(.9*h.width());else o="y",a=Math.abs(u[0].offsetTop)-r*(.9*h.height());X(s,a.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!L(document.activeElement).is(p)&&((l.overflowed[0]||l.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===c.axis||"yx"===c.axis&&l.overflowed[1]&&!l.overflowed[0])o="x",a=35===i?Math.abs(h.width()-u.outerWidth(!1)):0;else o="y",a=35===i?Math.abs(h.height()-u.outerHeight(!1)):0;X(s,a.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}}var s=L(this),l=s.data(H),c=l.opt,d=l.sequential,e="mCS_"+l.idx,i=L("#mCSB_"+l.idx),u=L("#mCSB_"+l.idx+"_container"),h=u.parent(),p="input,textarea,select,datalist,keygen,[contenteditable='true']",n=u.find("iframe"),r=["blur."+e+" keydown."+e+" keyup."+e];n.length&&n.each(function(){L(this).on("load",function(){F(this)&&L(this.contentDocument||this.contentWindow.document).on(r[0],function(e){t(e)})})}),i.attr("tabindex","0").on(r[0],function(e){t(e)})},q=function(u,e,t,h,p){function f(e){g.snapAmount&&(v.scrollAmount=g.snapAmount instanceof Array?"x"===v.dir[0]?g.snapAmount[1]:g.snapAmount[0]:g.snapAmount);var t="stepped"!==v.type,i=p||(e?t?b/1.5:_:1e3/60),n=e?t?7.5:40:2.5,r=[Math.abs(y[0].offsetTop),Math.abs(y[0].offsetLeft)],o=[10<m.scrollRatio.y?10:m.scrollRatio.y,10<m.scrollRatio.x?10:m.scrollRatio.x],a="x"===v.dir[0]?r[1]+v.dir[1]*(o[1]*n):r[0]+v.dir[1]*(o[0]*n),s="x"===v.dir[0]?r[1]+v.dir[1]*parseInt(v.scrollAmount):r[0]+v.dir[1]*parseInt(v.scrollAmount),l="auto"!==v.scrollAmount?s:a,c=h||(e?t?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),d=!!e;return e&&i<17&&(l="x"===v.dir[0]?r[1]:r[0]),X(u,l.toString(),{dir:v.dir[0],scrollEasing:c,dur:i,onComplete:d}),e?void(v.dir=!1):(clearTimeout(v.step),void(v.step=setTimeout(function(){f()},i)))}var m=u.data(H),g=m.opt,v=m.sequential,y=L("#mCSB_"+m.idx+"_container"),i="stepped"===v.type,b=g.scrollInertia<26?26:g.scrollInertia,_=g.scrollInertia<1?17:g.scrollInertia;switch(e){case"on":if(v.dir=[t===C[16]||t===C[15]||39===t||37===t?"x":"y",t===C[13]||t===C[15]||38===t||37===t?-1:1],K(u),ne(t)&&"stepped"===v.type)return;f(i);break;case"off":clearTimeout(v.step),ee(v,"step"),K(u),(i||m.tweenRunning&&v.dir)&&f(!0)}},Q=function(e){var t=L(this).data(H).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=1<e.length?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===t.axis?null:e,i[1]=e.x?e.x:e.y||"y"===t.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},Y=function(e,t){if(null!=e&&void 0!==e){var i=L(this),n=i.data(H),r=n.opt,o=L("#mCSB_"+n.idx+"_container"),a=o.parent(),s=typeof e,l="x"===(t=t||("x"===r.axis?"x":"y"))?o.outerWidth(!1)-a.width():o.outerHeight(!1)-a.height(),c="x"===t?o[0].offsetLeft:o[0].offsetTop,d="x"===t?"left":"top";switch(s){case"function":return e();case"object":if(!(h=e.jquery?e:L(e)).length)return;return"x"===t?re(h)[1]:re(h)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(l*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(c-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var u=c+parseInt(e.split("+=")[1]);return 0<=u?0:Math.abs(u)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(a.height()-o.outerHeight(!1));if("right"===e)return Math.abs(a.width()-o.outerWidth(!1));if("first"!==e&&"last"!==e)return L(e).length?"x"===t?re(L(e))[1]:re(L(e))[0]:(o.css(d,e),void f.update.call(null,i[0]));var h=o.find(":"+e);return"x"===t?re(h)[1]:re(h)[0]}}},V=function(e){function n(e){clearTimeout(o[0].autoUpdate),f.update.call(null,t[0],e)}var t=L(this),i=t.data(H),r=i.opt,o=L("#mCSB_"+i.idx+"_container");return e?(clearTimeout(o[0].autoUpdate),void ee(o[0],"autoUpdate")):void function e(){return clearTimeout(o[0].autoUpdate),0===t.parents("html").length?void(t=null):void(o[0].autoUpdate=setTimeout(function(){return r.advanced.updateOnSelectorChange&&(i.poll.change.n=function(){!0===r.advanced.updateOnSelectorChange&&(r.advanced.updateOnSelectorChange="*");var e=0,t=o.find(r.advanced.updateOnSelectorChange);return r.advanced.updateOnSelectorChange&&0<t.length&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void n(3)):r.advanced.updateOnContentResize&&(i.poll.size.n=t[0].scrollHeight+t[0].scrollWidth+o[0].offsetHeight+t[0].offsetHeight+t[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void n(1)):!r.advanced.updateOnImageLoad||"auto"===r.advanced.updateOnImageLoad&&"y"===r.axis||(i.poll.img.n=o.find("img").length,i.poll.img.n===i.poll.img.o)?void((r.advanced.updateOnSelectorChange||r.advanced.updateOnContentResize||r.advanced.updateOnImageLoad)&&e()):(i.poll.img.o=i.poll.img.n,void o.find("img").each(function(){!function(e){if(L(e).hasClass(C[2]))n();else{var t=new Image;t.onload=(i=t,function(){return function(){this.onload=null,L(e).addClass(C[2]),n(2)}.apply(i,arguments)}),t.src=e.src}var i}(this)}))},r.advanced.autoUpdateTimeout))}()},K=function(e){var t=e.data(H);L("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal").each(function(){i.call(this)})},X=function(r,e,o){function t(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function i(){var e=[p[0].offsetTop,p[0].offsetLeft],t=[v[0].offsetTop,v[0].offsetLeft],i=[p.outerHeight(!1),p.outerWidth(!1)],n=[h.height(),h.width()];r[0].mcs={content:p,top:e[0],left:e[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-n[1])),direction:o.dir}}var n,a,s,l=r.data(H),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=[(o=L.extend(d,o)).dur,o.drag?0:o.dur],h=L("#mCSB_"+l.idx),p=L("#mCSB_"+l.idx+"_container"),f=p.parent(),m=c.callbacks.onTotalScrollOffset?Q.call(r,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Q.call(r,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(L(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==e||l.contentReset.y||(t("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(r[0]),l.contentReset.y=1),"_resetX"!==e||l.contentReset.x||(t("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(r[0]),l.contentReset.x=1),"_resetY"!==e&&"_resetX"!==e){if(!l.contentReset.y&&r[0].mcs||!l.overflowed[0]||(t("onOverflowY")&&c.callbacks.onOverflowY.call(r[0]),l.contentReset.x=null),!l.contentReset.x&&r[0].mcs||!l.overflowed[1]||(t("onOverflowX")&&c.callbacks.onOverflowX.call(r[0]),l.contentReset.x=null),c.snapAmount)n=e,a=c.snapAmount instanceof Array?"x"===o.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount,s=c.snapOffset,e=Math.round(n/a)*a-s;switch(o.dir){case"x":var v=L("#mCSB_"+l.idx+"_dragger_horizontal"),y="left",b=p[0].offsetLeft,_=[h.width()-p.outerWidth(!1),v.parent().width()-v.width()],C=[e,0===e?0:e/l.scrollRatio.x],w=m[1],S=g[1],k=0<w?w/l.scrollRatio.x:0,I=0<S?S/l.scrollRatio.x:0;break;case"y":v=L("#mCSB_"+l.idx+"_dragger_vertical"),y="top",b=p[0].offsetTop,_=[h.height()-p.outerHeight(!1),v.parent().height()-v.height()],C=[e,0===e?0:e/l.scrollRatio.y],w=m[0],S=g[0],k=0<w?w/l.scrollRatio.y:0,I=0<S?S/l.scrollRatio.y:0}C[1]<0||0===C[0]&&0===C[1]?C=[0,0]:C[1]>=_[1]?C=[_[0],_[1]]:C[0]=-C[0],r[0].mcs||(i(),t("onInit")&&c.callbacks.onInit.call(r[0])),clearTimeout(p[0].onCompleteTimeout),J(v[0],y,Math.round(C[1]),u[1],o.scrollEasing),!l.tweenRunning&&(0===b&&0<=C[0]||b===_[0]&&C[0]<=_[0])||J(p[0],y,Math.round(C[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(t("onScrollStart")&&(i(),c.callbacks.onScrollStart.call(r[0])),l.tweenRunning=!0,M(v),l.cbOffsets=[c.callbacks.alwaysTriggerOffsets||b>=_[0]+w,c.callbacks.alwaysTriggerOffsets||b<=-S])},onUpdate:function(){o.callbacks&&o.onUpdate&&t("whileScrolling")&&(i(),c.callbacks.whileScrolling.call(r[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(p[0].onCompleteTimeout);var e=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){t("onScroll")&&(i(),c.callbacks.onScroll.call(r[0])),t("onTotalScroll")&&C[1]>=_[1]-k&&l.cbOffsets[0]&&(i(),c.callbacks.onTotalScroll.call(r[0])),t("onTotalScrollBack")&&C[1]<=I&&l.cbOffsets[1]&&(i(),c.callbacks.onTotalScrollBack.call(r[0])),l.tweenRunning=!1,p[0].idleTimer=0,M(v,"hide")},e)}}})}},J=function(e,t,i,n,a,r,o){function s(){0<n?(v.currVal=function(e,t,i,n){switch(a){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=n,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var r=(e/=n)*e,o=r*e;return t+i*(.499999999999997*o*r+-2.5*r*r+5.5*o+-6.5*r+4*e)}}(v.time,m,y,n),g[t]=Math.round(v.currVal)+"px"):g[t]=i+"px",u.call()}e._mTween||(e._mTween={top:{},left:{}});var l,c,d=(o=o||{}).onStart||function(){},u=o.onUpdate||function(){},h=o.onComplete||function(){},p=Z(),f=0,m=e.offsetTop,g=e.style,v=e._mTween[t];"left"===t&&(m=e.offsetLeft);var y=i-m;v.stop=0,"none"!==r&&null!=v.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(v.id):clearTimeout(v.id),v.id=null),l=1e3/60,v.time=f+l,c=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},v.id=c(function e(){v.stop||(f||d.call(),f=Z()-p,s(),f>=v.time&&(v.time=f>v.time?f+l-(f-v.time):f+l-1,v.time<f+1&&(v.time=f+1)),v.time<n?v.id=c(e):h.call())})},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},i=function(){this._mTween||(this._mTween={top:{},left:{}});for(var e=["top","left"],t=0;t<e.length;t++){var i=e[t];this._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(this._mTween[i].id):clearTimeout(this._mTween[i].id),this._mTween[i].id=null,this._mTween[i].stop=1)}},ee=function(t,i){try{delete t[i]}catch(e){t[i]=null}},te=function(e){return!(e.which&&1!==e.which)},ie=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},re=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},L.fn[p]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void L.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},L[p]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void L.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},L[p].defaults=r,window[p]=!0,L(window).on("load",function(){L(n)[p](),L.extend(L.expr[":"],{mcsInView:L.expr[":"].mcsInView||function(e){var t,i,n=L(e),r=n.parents(".mCSB_container");if(r.length)return t=r.parent(),0<=(i=[r[0].offsetTop,r[0].offsetLeft])[0]+re(n)[0]&&i[0]+re(n)[0]<t.height()-n.outerHeight(!1)&&0<=i[1]+re(n)[1]&&i[1]+re(n)[1]<t.width()-n.outerWidth(!1)},mcsInSight:L.expr[":"].mcsInSight||function(e,t,i){var n,r,o,a,s=L(e),l=s.parents(".mCSB_container"),c="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],o=[l[0].offsetTop+re(s)[0],l[0].offsetLeft+re(s)[1]],r=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],o[0]-r[0]*(a=[n[0]<r[0]?c[0]:c[1],n[1]<r[1]?c[0]:c[1]])[0][0]<0&&0<=o[0]+n[0]-r[0]*a[0][1]&&o[1]-r[1]*a[1][0]<0&&0<=o[1]+n[1]-r[1]*a[1][1]},mcsOverflow:L.expr[":"].mcsOverflow||function(e){var t=L(e).data(H);if(t)return t.overflowed[0]||t.overflowed[1]}})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(p){var n=/\+/g;function f(e){return g.raw?e:encodeURIComponent(e)}function m(e,t){var i=g.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),g.json?JSON.parse(e):e}catch(e){}}(e);return p.isFunction(t)?t(i):i}var g=p.cookie=function(e,t,i){if(void 0!==t&&!p.isFunction(t)){if("number"==typeof(i=p.extend({},g.defaults,i)).expires){var n=i.expires,r=i.expires=new Date;r.setTime(+r+864e5*n)}return document.cookie=[f(e),"=",function(e){return f(g.json?JSON.stringify(e):String(e))}(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var o,a=e?void 0:{},s=document.cookie?document.cookie.split("; "):[],l=0,c=s.length;l<c;l++){var d=s[l].split("="),u=(o=d.shift(),g.raw?o:decodeURIComponent(o)),h=d.join("=");if(e&&e===u){a=m(h,t);break}e||void 0===(h=m(h))||(a[u]=h)}return a};g.defaults={},p.removeCookie=function(e,t){return void 0!==p.cookie(e)&&(p.cookie(e,"",p.extend({},t,{expires:-1})),!p.cookie(e))}}),function(c,o){var i={label:"MENU",duplicate:!0,duration:200,easingOpen:"swing",easingClose:"swing",closedSymbol:"&#9658;",openedSymbol:"&#9660;",prependTo:"body",appendTo:"",parentTag:"a",closeOnClick:!1,allowParentLinks:!1,nestedParentLinks:!0,showChildren:!1,removeIds:!0,removeClasses:!1,removeStyles:!1,brand:"",init:function(){},beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){},afterClose:function(){}},r="slicknav",d="slicknav",a=40,u=13,h=27,p=37,f=39,m=32,g=38;function s(e,t){this.element=e,this.settings=c.extend({},i,t),this.settings.duplicate||t.hasOwnProperty("removeIds")||(this.settings.removeIds=!1),this._defaults=i,this._name=r,this.init()}s.prototype.init=function(){var e,t,s=this,i=c(this.element),l=this.settings;if(l.duplicate?s.mobileNav=i.clone():s.mobileNav=i,l.removeIds&&(s.mobileNav.removeAttr("id"),s.mobileNav.find("*").each(function(e,t){c(t).removeAttr("id")})),l.removeClasses&&(s.mobileNav.removeAttr("class"),s.mobileNav.find("*").each(function(e,t){c(t).removeAttr("class")})),l.removeStyles&&(s.mobileNav.removeAttr("style"),s.mobileNav.find("*").each(function(e,t){c(t).removeAttr("style")})),e=d+"_icon",""===l.label&&(e+=" "+d+"_no-text"),"a"==l.parentTag&&(l.parentTag='a href="#"'),s.mobileNav.attr("class",d+"_nav"),t=c('<div class="'+d+'_menu"></div>'),""!==l.brand){var n=c('<div class="'+d+'_brand">'+l.brand+"</div>");c(t).append(n)}s.btn=c(["<"+l.parentTag+' aria-haspopup="true" role="button" tabindex="0" class="'+d+"_btn "+d+'_collapsed">','<span class="'+d+'_menutxt">'+l.label+"</span>",'<span class="'+e+'">','<span class="'+d+'_icon-bar"></span>','<span class="'+d+'_icon-bar"></span>','<span class="'+d+'_icon-bar"></span>',"</span>","</"+l.parentTag+">"].join("")),c(t).append(s.btn),""!==l.appendTo?c(l.appendTo).append(t):c(l.prependTo).prepend(t),t.append(s.mobileNav);var r=s.mobileNav.find("li");c(r).each(function(){var e=c(this),t={};if(t.children=e.children("ul").attr("role","menu"),e.data("menu",t),0<t.children.length){var i=e.contents(),n=!1,r=[];c(i).each(function(){if(c(this).is("ul"))return!1;r.push(this),c(this).is("a")&&(n=!0)});var o=c("<"+l.parentTag+' role="menuitem" aria-haspopup="true" tabindex="-1" class="'+d+'_item"/>');if(l.allowParentLinks&&!l.nestedParentLinks&&n)c(r).wrapAll('<span class="'+d+"_parent-link "+d+'_row"/>').parent();else c(r).wrapAll(o).parent().addClass(d+"_row");l.showChildren?e.addClass(d+"_open"):e.addClass(d+"_collapsed"),e.addClass(d+"_parent");var a=c('<span class="'+d+'_arrow">'+(l.showChildren?l.openedSymbol:l.closedSymbol)+"</span>");l.allowParentLinks&&!l.nestedParentLinks&&n&&(a=a.wrap(o).parent()),c(r).last().after(a)}else 0===e.children().length&&e.addClass(d+"_txtnode");e.children("a").attr("role","menuitem").click(function(e){l.closeOnClick&&!c(e.target).parent().closest("li").hasClass(d+"_parent")&&c(s.btn).click()}),l.closeOnClick&&l.allowParentLinks&&(e.children("a").children("a").click(function(e){c(s.btn).click()}),e.find("."+d+"_parent-link a:not(."+d+"_item)").click(function(e){c(s.btn).click()}))}),c(r).each(function(){var e=c(this).data("menu");l.showChildren||s._visibilityToggle(e.children,null,!1,null,!0)}),s._visibilityToggle(s.mobileNav,null,!1,"init",!0),s.mobileNav.attr("role","menu"),c(o).mousedown(function(){s._outlines(!1)}),c(o).keyup(function(){s._outlines(!0)}),c(s.btn).click(function(e){e.preventDefault(),s._menuToggle()}),s.mobileNav.on("click","."+d+"_item",function(e){e.preventDefault(),s._itemClick(c(this))}),c(s.btn).keydown(function(e){var t=e||event;switch(t.keyCode){case u:case m:case a:e.preventDefault(),t.keyCode===a&&c(s.btn).hasClass(d+"_open")||s._menuToggle(),c(s.btn).next().find('[role="menuitem"]').first().focus()}}),s.mobileNav.on("keydown","."+d+"_item",function(e){switch((e||event).keyCode){case u:e.preventDefault(),s._itemClick(c(e.target));break;case f:e.preventDefault(),c(e.target).parent().hasClass(d+"_collapsed")&&s._itemClick(c(e.target)),c(e.target).next().find('[role="menuitem"]').first().focus()}}),s.mobileNav.on("keydown",'[role="menuitem"]',function(e){switch((e||event).keyCode){case a:e.preventDefault();var t=(n=(i=c(e.target).parent().parent().children().children('[role="menuitem"]:visible')).index(e.target))+1;i.length<=t&&(t=0),i.eq(t).focus();break;case g:e.preventDefault();var i,n=(i=c(e.target).parent().parent().children().children('[role="menuitem"]:visible')).index(e.target);i.eq(n-1).focus();break;case p:if(e.preventDefault(),c(e.target).parent().parent().parent().hasClass(d+"_open")){var r=c(e.target).parent().parent().prev();r.focus(),s._itemClick(r)}else c(e.target).parent().parent().hasClass(d+"_nav")&&(s._menuToggle(),c(s.btn).focus());break;case h:e.preventDefault(),s._menuToggle(),c(s.btn).focus()}}),l.allowParentLinks&&l.nestedParentLinks&&c("."+d+"_item a").click(function(e){e.stopImmediatePropagation()})},s.prototype._menuToggle=function(e){var t=this.btn,i=this.mobileNav;t.hasClass(d+"_collapsed")?(t.removeClass(d+"_collapsed"),t.addClass(d+"_open")):(t.removeClass(d+"_open"),t.addClass(d+"_collapsed")),t.addClass(d+"_animating"),this._visibilityToggle(i,t.parent(),!0,t)},s.prototype._itemClick=function(e){var t=this.settings,i=e.data("menu");i||((i={}).arrow=e.children("."+d+"_arrow"),i.ul=e.next("ul"),i.parent=e.parent(),i.parent.hasClass(d+"_parent-link")&&(i.parent=e.parent().parent(),i.ul=e.parent().next("ul")),e.data("menu",i)),i.parent.hasClass(d+"_collapsed")?(i.arrow.html(t.openedSymbol),i.parent.removeClass(d+"_collapsed"),i.parent.addClass(d+"_open")):(i.arrow.html(t.closedSymbol),i.parent.addClass(d+"_collapsed"),i.parent.removeClass(d+"_open")),i.parent.addClass(d+"_animating"),this._visibilityToggle(i.ul,i.parent,!0,e)},s.prototype._visibilityToggle=function(i,e,t,n,r){var o=this,a=o.settings,s=o._getActionItems(i),l=0;t&&(l=a.duration),i.hasClass(d+"_hidden")?(i.removeClass(d+"_hidden"),r||a.beforeOpen(n),i.stop(!0,!0).slideDown(l,a.easingOpen,function(){!function(e,t){c(e).removeClass(d+"_animating"),c(t).removeClass(d+"_animating"),r||a.afterOpen(e)}(n,e)}),i.attr("aria-hidden","false"),s.attr("tabindex","0"),o._setVisAttr(i,!1)):(i.addClass(d+"_hidden"),r||a.beforeClose(n),i.stop(!0,!0).slideUp(l,this.settings.easingClose,function(){!function(e,t){i.attr("aria-hidden","true"),s.attr("tabindex","-1"),o._setVisAttr(i,!0),i.hide(),c(e).removeClass(d+"_animating"),c(t).removeClass(d+"_animating"),r?"init"==e&&a.init():a.afterClose(e)}(n,e)}))},s.prototype._setVisAttr=function(e,t){var i=this,n=e.children("li").children("ul").not("."+d+"_hidden");t?n.each(function(){var e=c(this);e.attr("aria-hidden","true"),i._getActionItems(e).attr("tabindex","-1"),i._setVisAttr(e,t)}):n.each(function(){var e=c(this);e.attr("aria-hidden","false"),i._getActionItems(e).attr("tabindex","0"),i._setVisAttr(e,t)})},s.prototype._getActionItems=function(e){var t=e.data("menu");if(!t){t={};var i=e.children("li"),n=i.find("a");t.links=n.add(i.find("."+d+"_item")),e.data("menu",t)}return t.links},s.prototype._outlines=function(e){e?c("."+d+"_item, ."+d+"_btn").css("outline",""):c("."+d+"_item, ."+d+"_btn").css("outline","none")},s.prototype.toggle=function(){this._menuToggle()},s.prototype.open=function(){this.btn.hasClass(d+"_collapsed")&&this._menuToggle()},s.prototype.close=function(){this.btn.hasClass(d+"_open")&&this._menuToggle()},c.fn[r]=function(t){var i,n=arguments;return void 0===t||"object"==typeof t?this.each(function(){c.data(this,"plugin_"+r)||c.data(this,"plugin_"+r,new s(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each(function(){var e=c.data(this,"plugin_"+r);e instanceof s&&"function"==typeof e[t]&&(i=e[t].apply(e,Array.prototype.slice.call(n,1)))}),void 0!==i?i:this):void 0}}(jQuery,document,window),function(C,w,c){"use strict";var S,a,k,I,i,n,s,l,d,u,h,p,f,r,M,m,o="accessibleMegaMenu",g={uuidPrefix:"accessible-megamenu",menuClass:"accessible-megamenu",topNavItemClass:"accessible-megamenu-top-nav-item",panelClass:"accessible-megamenu-panel",panelGroupClass:"accessible-megamenu-panel-group",hoverClass:"hover",focusClass:"focus",openClass:"open"},T={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,keyMap:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",190:"."}};function O(e,t){this.element=e,this.settings=C.extend({},g,t),this._defaults=g,this._name=o,this.mouseTimeoutID=null,this.focusTimeoutID=null,this.mouseFocused=!1,this.justFocused=!1,this.init()}function v(e){return C.expr.filters.visible(e)&&!C(e).parents().addBack().filter(function(){return"hidden"===C.css(this,"visibility")}).length}function y(e,t){var i,n,r,o=e.nodeName.toLowerCase();return"area"===o?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(r=C("img[usemap=#"+n+"]")[0])&&v(r))):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o&&e.href||t)&&v(e)}O.prototype=(r=0,M="",m="function"==typeof w.hasOwnProperty&&!!w.hasOwnProperty("ontouchstart"),S=function(e){return C(e).closest(":data(plugin_"+o+")").data("plugin_"+o)},a=function(e){e=C(e);var t=this.settings;e.attr("id")||e.attr("id",t.uuidPrefix+"-"+(new Date).getTime()+"-"+ ++r)},k=function(e,t){var i,n=C(e.target),r=this,o=this.settings,a=this.menu,s=n.closest("."+o.topNavItemClass),l=n.hasClass(o.panelClass)?n:n.closest("."+o.panelClass);if(f.call(this,!0),t){if((s=a.find("."+o.topNavItemClass+" ."+o.openClass+":first").closest("."+o.topNavItemClass)).is(e.relatedTarget)||0<s.has(e.relatedTarget).length)0===s.length&&a.find("[aria-expanded=true]").attr("aria-expanded","false").removeClass(o.openClass).filter("."+o.panelClass).attr("aria-hidden","true");else{if(("mouseout"===e.type||"focusout"===e.type)&&0<s.has(c.activeElement).length)return;s.find("[aria-expanded]").attr("aria-expanded","false").removeClass(o.openClass).filter("."+o.panelClass).attr("aria-hidden","true"),("keydown"===e.type&&e.keyCode===T.ESCAPE||"DOMAttrModified"===e.type)&&(i=s.find(":tabbable:first"),setTimeout(function(){a.find("[aria-expanded]."+r.settings.panelClass).off("DOMAttrModified.accessible-megamenu"),i.focus(),r.justFocused=!1},99))}C(c).trigger("closed-accessibleMegaMenu")}else clearTimeout(r.focusTimeoutID),s.siblings().find("[aria-expanded]").attr("aria-expanded","false").removeClass(o.openClass).filter("."+o.panelClass).attr("aria-hidden","true"),s.find("[aria-expanded]").attr("aria-expanded","true").addClass(o.openClass).filter("."+o.panelClass).attr("aria-hidden","false"),"mouseover"===e.type&&n.is(":tabbable")&&1===s.length&&0===l.length&&0<a.has(c.activeElement).length&&(n.focus(),r.justFocused=!1),f.call(r),C(c).trigger("open-accessibleMegaMenu")},I=function(e){var t=C(e.currentTarget),i=t.closest("."+this.settings.topNavItemClass),n=t.closest("."+this.settings.panelClass);1===i.length&&0===n.length&&1===i.find("."+this.settings.panelClass).length&&(t.hasClass(this.settings.openClass)?this.justFocused?(e.preventDefault(),e.stopPropagation(),this.justFocused=!1):m&&isMobile.any()&&(e.preventDefault(),e.stopPropagation(),k.call(this,e,t.hasClass(this.settings.openClass))):(e.preventDefault(),e.stopPropagation(),k.call(this,e),this.justFocused=!1))},i=function(e){0===C(e.target).closest(this.menu).length&&(e.preventDefault(),e.stopPropagation(),k.call(this,e,!0))},n=function(e){"aria-expanded"===e.originalEvent.attrName&&"false"===e.originalEvent.newValue&&C(e.target).hasClass(this.settings.openClass)&&(e.preventDefault(),e.stopPropagation(),k.call(this,e,!0))},s=function(e){clearTimeout(this.focusTimeoutID);var t=C(e.target),i=t.closest("."+this.settings.panelClass);t.addClass(this.settings.focusClass).on("click.accessible-megamenu",C.proxy(I,this)),this.justFocused=!this.mouseFocused,this.mouseFocused=!1,this.panels.not(i).filter("."+this.settings.openClass).length&&k.call(this,e)},l=function(t){this.justFocused=!1;var i=this,e=C(t.target),n=e.closest("."+this.settings.topNavItemClass);e.removeClass(this.settings.focusClass).off("click.accessible-megamenu"),w.cvox?i.focusTimeoutID=setTimeout(function(){w.cvox.Api.getCurrentNode(function(e){n.has(e).length?clearTimeout(i.focusTimeoutID):i.focusTimeoutID=setTimeout(function(e,t,i){k.call(e,t,i)},275,i,t,!0)})},25):i.focusTimeoutID=setTimeout(function(){k.call(i,t,!0)},300)},d=function(e){var t,i,n,r,o,a,s=this.constructor===O?this:S(this),l=s.settings,c=C(C(this).is("."+l.hoverClass+":tabbable")?this:e.target),d=s.menu,u=s.topnavitems,h=c.closest("."+l.topNavItemClass),p=d.find(":tabbable"),f=c.hasClass(l.panelClass)?c:c.closest("."+l.panelClass),m=f.find("."+l.panelGroupClass),g=c.closest("."+l.panelGroupClass),v=e.keyCode||e.which,y=!1,b=T.keyMap[e.keyCode]||"",_=1===h.length&&0===f.length;if(!c.is("input:focus, select:focus, textarea:focus, button:focus")){switch(c.is("."+l.hoverClass+":tabbable")&&C("html").off("keydown.accessible-megamenu"),v){case T.ESCAPE:k.call(s,e,!0);break;case T.DOWN:e.preventDefault(),!(y=_?(k.call(s,e),1===h.find("."+l.panelClass+" :tabbable:first").focus().length):1===p.filter(":gt("+p.index(c)+"):first").focus().length)&&w.opera&&"[object Opera]"===opera.toString()&&(e.ctrlKey||e.metaKey)&&(n=(p=C(":tabbable")).index(c),y=1===C(":tabbable:gt("+C(":tabbable").index(c)+"):first").focus().length);break;case T.UP:e.preventDefault(),_&&c.hasClass(l.openClass)?(k.call(s,e,!0),(t=u.filter(":lt("+u.index(h)+"):last")).children("."+l.panelClass).length&&(y=1===t.children().attr("aria-expanded","true").addClass(l.openClass).filter("."+l.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())):_||(y=1===p.filter(":lt("+p.index(c)+"):last").focus().length),!y&&w.opera&&"[object Opera]"===opera.toString()&&(e.ctrlKey||e.metaKey)&&(n=(p=C(":tabbable")).index(c),y=1===C(":tabbable:lt("+C(":tabbable").index(c)+"):first").focus().length);break;case T.RIGHT:e.preventDefault(),y=_?1===u.filter(":gt("+u.index(h)+"):first").find(":tabbable:first").focus().length:(m.length&&g.length&&(y=1===m.filter(":gt("+m.index(g)+"):first").find(":tabbable:first").focus().length),y||1===h.find(":tabbable:first").focus().length);break;case T.LEFT:e.preventDefault(),y=_?1===u.filter(":lt("+u.index(h)+"):last").find(":tabbable:first").focus().length:(m.length&&g.length&&(y=1===m.filter(":lt("+m.index(g)+"):last").find(":tabbable:first").focus().length),y||1===h.find(":tabbable:first").focus().length);break;case T.TAB:n=p.index(c),e.shiftKey&&_&&c.hasClass(l.openClass)?(k.call(s,e,!0),(t=u.filter(":lt("+u.index(h)+"):last")).children("."+l.panelClass).length&&(y=t.children().attr("aria-expanded","true").addClass(l.openClass).filter("."+l.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())):e.shiftKey&&0<n?y=1===p.filter(":lt("+n+"):last").focus().length:!e.shiftKey&&n<p.length-1?y=1===p.filter(":gt("+n+"):first").focus().length:w.opera&&"[object Opera]"===opera.toString()&&(n=(p=C(":tabbable")).index(c),y=e.shiftKey?1===C(":tabbable:lt("+C(":tabbable").index(c)+"):last").focus().length:1===C(":tabbable:gt("+C(":tabbable").index(c)+"):first").focus().length),y&&e.preventDefault();break;case T.SPACE:if(!_)return!0;e.preventDefault(),I.call(s,e);break;case T.ENTER:return!0;default:if(clearTimeout(this.keydownTimeoutID),0===(M+=b!==M?b:"").length)return;for(this.keydownTimeoutID=setTimeout(function(){M=""},1e3),p=_&&!c.hasClass(l.openClass)?p.filter(":not(."+l.panelClass+" :tabbable)"):h.find(":tabbable"),e.shiftKey&&(p=C(p.get().reverse())),n=0;n<p.length;n++)if((r=p.eq(n)).is(c)){i=1===M.length?n+1:n;break}for(a=new RegExp("^"+M.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),"i"),n=i;n<p.length;n++)if(r=p.eq(n),o=C.trim(r.text()),a.test(o)){y=!0,r.focus();break}if(!y)for(n=0;n<i;n++)if(r=p.eq(n),o=C.trim(r.text()),a.test(o)){r.focus();break}}s.justFocused=!1}},u=function(e){(C(e.target).is(this.settings.panelClass)||C(e.target).closest(":focusable").length)&&(this.mouseFocused=!0),this.mouseTimeoutID=setTimeout(function(){clearTimeout(this.focusTimeoutID)},1)},h=function(e){clearTimeout(this.mouseTimeoutID),C(e.target).addClass(this.settings.hoverClass),k.call(this,e),C(e.target).is(":tabbable")&&C("html").on("keydown.accessible-megamenu",C.proxy(d,e.target))},p=function(e){var t=this;C(e.target).removeClass(t.settings.hoverClass),t.mouseTimeoutID=setTimeout(function(){k.call(t,e,!0)},250),C(e.target).is(":tabbable")&&C("html").off("keydown.accessible-megamenu")},f=function(e){var t=this.menu;e?(C("html").off("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu"),t.find("[aria-expanded]."+this.settings.panelClass).off("DOMAttrModified.accessible-megamenu")):(C("html").on("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu",C.proxy(i,this)),t.find("[aria-expanded=true]."+this.settings.panelClass).on("DOMAttrModified.accessible-megamenu",C.proxy(n,this)))},{constructor:O,init:function(){var e=this.settings,t=C(this.element),i=t.children().first(),n=i.children();this.start(e,t,i,n)},start:function(r,e,t,i){var o=this;this.settings=r,this.menu=t,this.topnavitems=i,e.attr("role","navigation"),t.addClass(r.menuClass),i.each(function(e,t){var i,n;(t=C(t)).addClass(r.topNavItemClass),i=t.find(":tabbable:first"),n=t.children(":not(:tabbable):last"),a.call(o,i),n.length&&(a.call(o,n),i.attr({"aria-haspopup":!0,"aria-controls":n.attr("id"),"aria-expanded":!1}),n.attr({role:"group","aria-expanded":!1,"aria-hidden":!0}).addClass(r.panelClass).not("[aria-labelledby]").attr("aria-labelledby",i.attr("id")))}),this.panels=t.find("."+r.panelClass),t.on("focusin.accessible-megamenu",":focusable, ."+r.panelClass,C.proxy(s,this)).on("focusout.accessible-megamenu",":focusable, ."+r.panelClass,C.proxy(l,this)).on("keydown.accessible-megamenu",C.proxy(d,this)).on("mouseover.accessible-megamenu",C.proxy(h,this)).on("mouseout.accessible-megamenu",C.proxy(p,this)).on("mousedown.accessible-megamenu",C.proxy(u,this)),m&&t.on("touchstart.accessible-megamenu",C.proxy(I,this)),t.find("hr").attr("role","separator"),C(c.activeElement).closest(t).length&&C(c.activeElement).trigger("focusin.accessible-megamenu")},getDefaults:function(){return this._defaults},getOption:function(e){return this.settings[e]},getAllOptions:function(){return this.settings},setOption:function(e,t,i){this.settings[e]=t,i&&this.init()}}),C.fn[o]=function(e){return this.each(function(){C.data(this,"plugin_"+o)||C.data(this,"plugin_"+o,new C.fn[o].AccessibleMegaMenu(this,e))})},C.fn[o].AccessibleMegaMenu=O,C.extend(C.expr[":"],{data:C.expr.createPseudo?C.expr.createPseudo(function(t){return function(e){return!!C.data(e,t)}}):function(e,t,i){return!!C.data(e,i[3])},focusable:function(e){return y(e,!isNaN(C.attr(e,"tabindex")))},tabbable:function(e){var t=C.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&y(e,!i)}})}(jQuery,window,document),function(d){var u="accessibleTabs",t={init:function(){var e=d("body");return e.data(u)||(e.data(u,{}),e.on("click",".js-tablist__link[aria-disabled='true']",function(){return!1}).on("click",".js-tablist__link:not([aria-disabled='true'])",function(e){var t=d(this),i=t.attr("aria-controls"),n=d("#"+t.attr("aria-controls")),r=t.closest(".js-tabs"),o=void 0!==r.data().tabsDisableFragment,a=r.find(".js-tablist__link"),s=r.find(".js-tabcontent");a.attr({tabindex:-1,"aria-selected":"false"}),t.attr({"aria-selected":"true",tabindex:0}),s.attr("aria-hidden","true"),n.removeAttr("aria-hidden"),!1==o&&setTimeout(function(){history.pushState(null,null,location.pathname+location.search+"#"+i)},1e3),e.preventDefault()}).on("keydown",".js-tablist",function(e){for(var t=d(this).closest(".js-tabs"),i=t.find('.js-tablist__link[aria-selected="true"]').parent(),n=t.find(".js-tablist__item:last-child .js-tablist__link"),r=t.find(".js-tablist__item:first-child .js-tablist__link"),o=!1,a=i,s=i;"true"===(a=a.is(".js-tablist__item:first-child")?n.parent():a.prev()).children(".js-tablist__link").attr("aria-disabled")&&a!==i;);for(;"true"===(s=s.is(".js-tablist__item:last-child")?r.parent():s.next()).children(".js-tablist__link").attr("aria-disabled")&&s!==i;);d(document.activeElement).is(t.find(".js-tablist__link"))&&(o=!0),o&&!e.ctrlKey&&(37==e.keyCode||38==e.keyCode?(a.children(".js-tablist__link").click().focus(),e.preventDefault()):40==e.keyCode||39==e.keyCode?(s.children(".js-tablist__link").click().focus(),e.preventDefault()):36==e.keyCode?(r.click().focus(),e.preventDefault()):35==e.keyCode&&(n.click().focus(),e.preventDefault()))}).on("keydown",".js-tabcontent",function(e){var t=d(this).attr("aria-labelledby"),i=d("#"+t),n=i.parent(),r=n.parent(),o=r.find(".js-tablist__item:first-child"),a=r.find(".js-tablist__item:last-child"),s=n,l=n;if(37!=e.keyCode&&38!=e.keyCode||!e.ctrlKey||(i.focus(),e.preventDefault()),33==e.keyCode&&e.ctrlKey){for(;"true"===(s=s.is(".js-tablist__item:first-child")?a:s.prev()).children(".js-tablist__link").attr("aria-disabled")&&s!==n;);s.children(".js-tablist__link").click().focus(),e.preventDefault()}if(34==e.keyCode&&e.ctrlKey){for(i.focus();"true"===(l=l.is(".js-tablist__item:last-child")?o:l.next()).children(".js-tablist__link").attr("aria-disabled")&&l!==n;);l.children(".js-tablist__link").click().focus(),e.preventDefault()}}).on("click",".js-link-to-tab",function(){var e=d(this),t=d(e.attr("href")),i=d("#"+t.attr("aria-labelledby"));"true"!==i.attr("aria-disabled")&&(i.click(),setTimeout(function(){i.focus()},10))})),this.each(function(){var e=d(this),t=e.data(u),i=window.location.hash.replace("#","");if(!t){if(e.find(".js-tablist").each(function(){var e=d(this),o=e.data(),t=void 0!==o.tabsPrefixClass?o.tabsPrefixClass+"-":"",a=void 0!==o.hx?o.hx:"",s=void 0!==o.existingHx?o.existingHx:"",i=e.children(".js-tablist__item"),n=e.find(".js-tablist__link");e.attr("role","tablist"),i.attr("role","presentation"),n.attr("role","tab"),e.addClass(t+"tabs__list"),i.addClass(t+"tabs__item"),n.addClass(t+"tabs__link"),n.each(function(){var e=d(this),t=void 0!==o.tabsGeneratedHxClass?o.tabsGeneratedHxClass:"invisible",i=e.attr("href"),n=d(i),r=e.text();""!==a&&n.prepend("<"+a+' class="'+t+'" tabindex="0">'+r+"</"+a+">"),""!==s&&n.find(s+":first-child").attr("tabindex",0),void 0!==i&&""!==i&&"#"!==i&&e.attr({"aria-controls":i.replace("#",""),tabindex:-1,"aria-selected":"false"}),e.removeAttr("href")})}),e.find(".js-tabcontent").attr({role:"tabpanel","aria-hidden":"true"}).each(function(){var e=d(this),t=e.attr("id"),i=d("#label_"+t).closest(".js-tablist").attr("data-tabs-prefix-class"),n=void 0!==i?i+"-":"";e.attr("aria-labelledby","label_"+t),e.addClass(n+"tabs__content")}),""!==i&&0!==d("#"+i+".js-tabcontent").length&&d("#label_"+i+".js-tablist__link:not([aria-disabled='true'])").length&&(d("#"+i+".js-tabcontent").removeAttr("aria-hidden"),d("#label_"+i+".js-tablist__link").attr({"aria-selected":"true",tabindex:0})),""!==i&&d("#"+i).parents(".js-tabcontent").length){var n=d("#"+i).parents(".js-tabcontent"),r=n.attr("id");d("#label_"+r+".js-tablist__link:not([aria-disabled='true'])").length&&(n.removeAttr("aria-hidden"),d("#label_"+r+".js-tablist__link").attr({"aria-selected":"true",tabindex:0}))}var o=e.find('.js-tablist__link[aria-selected="true"]'),a=e.find('.js-tablist__link[data-selected="1"]:not([aria-disabled="true"]):first'),s=d("#"+a.attr("aria-controls"));0===o.length&&0!==a.length&&(a.attr({"aria-selected":"true",tabindex:0}),s.removeAttr("aria-hidden"));o=e.find('.js-tablist__link[aria-selected="true"]');var l=e.find('.js-tablist__link:not([aria-disabled="true"]):first'),c=d("#"+l.attr("aria-controls"));0===o.length&&(l.attr({"aria-selected":"true",tabindex:0}),c.removeAttr("aria-hidden")),t={},e.data(u,t)}})}};d.fn.accessibleTabs=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void d.error("Method "+e+" does not exist on jQuery."+u):t.init.apply(this,arguments)}}(jQuery),jQuery(document).ready(function(e){e(".js-tabs").accessibleTabs()});var Hashtable=function(n){var c="function",i="string";if("undefined"==typeof encodeURIComponent||Array.prototype.splice===n||Object.prototype.hasOwnProperty===n)return null;function r(e){return typeof e==i?e:""+e}function o(e){var t;return typeof e==i?e:typeof e.hashCode==c?typeof(t=e.hashCode())==i?t:o(t):r(e)}function t(e,t){return e.equals(t)}function a(e,t){return typeof t.equals==c?t.equals(e):e===t}function e(t){return function(e){if(null===e)throw new Error("null is not a valid "+t);if(e===n)throw new Error(t+" must not be undefined")}}var u=e("key"),h=e("value");function p(e,t,i,n){this[0]=e,this.entries=[],this.addEntry(t,i),null!==n&&(this.getEqualityFunction=function(){return n})}function s(r){return function(e){for(var t,i=this.entries.length,n=this.getEqualityFunction(e);i--;)if(n(e,(t=this.entries[i])[0]))switch(r){case 0:return!0;case 1:return t;case 2:return[i,t[1]]}return!1}}function l(o){return function(e){for(var t=e.length,i=0,n=this.entries,r=n.length;i<r;++i)e[t+i]=n[i][o]}}function f(e,t){var i=e[t];return i&&i instanceof p?i:null}function d(){var a=[],s={},l={replaceDuplicateKey:!0,hashCode:o,equals:null},e=arguments[0],t=arguments[1];t!==n?(l.hashCode=e,l.equals=t):e!==n&&function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}(l,e);var c=l.hashCode,d=l.equals;this.properties=l,this.put=function(e,t){u(e),h(t);var i,n,r=c(e),o=null;return(i=f(s,r))?(n=i.getEntryForKey(e))?(l.replaceDuplicateKey&&(n[0]=e),o=n[1],n[1]=t):i.addEntry(e,t):(i=new p(r,e,t,d),a.push(i),s[r]=i),o},this.get=function(e){u(e);var t=c(e),i=f(s,t);if(i){var n=i.getEntryForKey(e);if(n)return n[1]}return null},this.containsKey=function(e){u(e);var t=c(e),i=f(s,t);return!!i&&i.containsKey(e)},this.containsValue=function(e){h(e);for(var t=a.length;t--;)if(a[t].containsValue(e))return!0;return!1},this.clear=function(){a.length=0,s={}},this.isEmpty=function(){return!a.length};function i(i){return function(){for(var e=[],t=a.length;t--;)a[t][i](e);return e}}this.keys=i("keys"),this.values=i("values"),this.entries=i("getEntries"),this.remove=function(e){u(e);var t,i=c(e),n=null,r=f(s,i);return r&&null!==(n=r.removeEntryForKey(e))&&0==r.entries.length&&(t=function(e,t){for(var i=e.length;i--;)if(t===e[i][0])return i;return null}(a,i),a.splice(t,1),delete s[i]),n},this.size=function(){for(var e=0,t=a.length;t--;)e+=a[t].entries.length;return e}}return p.prototype={getEqualityFunction:function(e){return typeof e.equals==c?t:a},getEntryForKey:s(1),getEntryAndIndexForKey:s(2),removeEntryForKey:function(e){var t=this.getEntryAndIndexForKey(e);return t?(this.entries.splice(t[0],1),t[1]):null},addEntry:function(e,t){this.entries.push([e,t])},keys:l(0),values:l(1),getEntries:function(e){for(var t=e.length,i=0,n=this.entries,r=n.length;i<r;++i)e[t+i]=n[i].slice(0)},containsKey:s(0),containsValue:function(e){for(var t=this.entries,i=t.length;i--;)if(e===t[i][1])return!0;return!1}},(d.prototype={each:function(e){for(var t,i=this.entries(),n=i.length;n--;)e((t=i[n])[0],t[1])},equals:function(e){var t,i,n,r=this.length;if(r!=e.length)return!1;for(t=this.keys();r--;)if(i=t[r],null===(n=e.get(i))||n!==this.get(i))return!1;return!0},putAll:function(e,t){for(var i,n,r,o,a=e.entries(),s=a.length,l=typeof t==c;s--;)n=(i=a[s])[0],r=i[1],l&&(o=this.get(n))&&(r=t(n,o,r)),this.put(n,r)},clone:function(){var e=new d(this.properties);return e.putAll(this),e}}).toQueryString=function(){for(var e,t=this.entries(),i=t.length,n=[];i--;)e=t[i],n[i]=encodeURIComponent(r(e[0]))+"="+encodeURIComponent(r(e[1]));return n.join("&")},d}();!function(M){var a=new Hashtable,s=[[".",","],[",","."],[","," "],[".","'"]],l=[["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],["bg","cz","fi","fr","no","pl","ru","se"],["ch"]];function c(e,t,i){this.dec=e,this.group=t,this.neg=i}function T(e,t){0==a.length&&function(){for(var e=0;e<l.length;e++)for(var t=l[e],i=0;i<t.length;i++)a.put(t[i],e)}();var i=".",n=",";0==t&&(-1!=e.indexOf("_")?e=e.split("_")[1].toLowerCase():-1!=e.indexOf("-")&&(e=e.split("-")[1].toLowerCase()));var r=a.get(e);if(r){var o=s[r];o&&(i=o[0],n=o[1])}return new c(i,n,"-")}M.fn.formatNumber=function(i,n,r){return this.each(function(){var e;null==n&&(n=!0),null==r&&(r=!0),e=M(this).is(":input")?new String(M(this).val()):new String(M(this).text());var t=M.formatNumber(e,i);if(n&&(M(this).is(":input")?M(this).val(t):M(this).text(t)),r)return t})},M.formatNumber=function(e,t){for(var i=T((t=M.extend({},M.fn.formatNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),n=(i.dec,i.group,i.neg,""),r=!1,o=0;o<t.format.length;o++)if(-1=="0#-,.".indexOf(t.format.charAt(o)))n+=t.format.charAt(o);else{if(0!=o||"-"!=t.format.charAt(o))break;r=!0}var a="";for(o=t.format.length-1;0<=o&&-1=="0#-,.".indexOf(t.format.charAt(o));o--)a=t.format.charAt(o)+a;t.format=t.format.substring(n.length),t.format=t.format.substring(0,t.format.length-a.length);var s=new Number(e);return M._formatNumber(s,t,a,n,r)},M._formatNumber=function(e,t,i,n,r){var o=T((t=M.extend({},M.fn.formatNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),a=o.dec,s=o.group,l=o.neg;null!=t.overrideGroupSep&&(s=t.overrideGroupSep),null!=t.overrideDecSep&&(a=t.overrideDecSep),null!=t.overrideNegSign&&(l=t.overrideNegSign);var c=!1;if(isNaN(e)){if(1!=t.nanForceZero)return"";c=!(e=0)}(1==t.isPercentage||t.autoDetectPercentage&&"%"==i.charAt(i.length-1))&&(e*=100);var d="";if(-1<t.format.indexOf(".")){var u=a,h=t.format.substring(t.format.lastIndexOf(".")+1);if(1==t.round)e=new Number(e.toFixed(h.length));else{var p=e.toString();0<p.lastIndexOf(".")&&(p=p.substring(0,p.lastIndexOf(".")+h.length+1)),e=new Number(p)}var f=new Number(e.toString().substring(e.toString().indexOf(".")));decimalString=new String(f.toFixed(h.length)),decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var m=0;m<h.length;m++)if("#"!=h.charAt(m)||"0"==decimalString.charAt(m)){if("#"==h.charAt(m)&&"0"==decimalString.charAt(m)){if(decimalString.substring(m).match("[1-9]")){u+=decimalString.charAt(m);continue}break}"0"==h.charAt(m)&&(u+=decimalString.charAt(m))}else u+=decimalString.charAt(m);d+=u}else e=Math.round(e);var g=Math.floor(e);e<0&&(g=Math.ceil(e));var v="";v=-1==t.format.indexOf(".")?t.format:t.format.substring(0,t.format.indexOf("."));var y="";if(0!=g||"#"!=v.substr(v.length-1)||c){var b=new String(Math.abs(g)),_=9999;-1!=v.lastIndexOf(",")&&(_=v.length-v.lastIndexOf(",")-1);var C=0;for(m=b.length-1;-1<m;m--)y=b.charAt(m)+y,++C==_&&0!=m&&(y=s+y,C=0);if(v.length>y.length){var w=v.indexOf("0");if(-1!=w)for(var S=v.length-w,k=v.length-y.length-1;y.length<S;){var I=v.charAt(k);","==I&&(I=s),y=I+y,k--}}}return y||-1===v.indexOf("0",v.length-1)||(y="0"),d=y+d,e<0&&r&&0<n.length?n=l+n:e<0&&(d=l+d),t.decimalSeparatorAlwaysShown||d.lastIndexOf(a)==d.length-1&&(d=d.substring(0,d.length-1)),d=n+d+i},M.fn.parseNumber=function(e,t,i){var n;null==t&&(t=!0),null==i&&(i=!0),n=M(this).is(":input")?new String(M(this).val()):new String(M(this).text());var r=M.parseNumber(n,e);if(r&&(t&&(M(this).is(":input")?M(this).val(r.toString()):M(this).text(r.toString())),i))return r},M.parseNumber=function(e,t){var i=T((t=M.extend({},M.fn.parseNumber.defaults,t)).locale.toLowerCase(),t.isFullLocale),n=i.dec,r=i.group,o=i.neg;null!=t.overrideGroupSep&&(r=t.overrideGroupSep),null!=t.overrideDecSep&&(n=t.overrideDecSep),null!=t.overrideNegSign&&(o=t.overrideNegSign);for(var a=".-",s=t.strict;-1<e.indexOf(r);)e=e.replace(r,"");e=e.replace(n,".").replace(o,"-");var l="",c=!1;(1==t.isPercentage||t.autoDetectPercentage&&"%"==e.charAt(e.length-1))&&(c=!0);for(var d=0;d<e.length;d++)if(-1<"1234567890".indexOf(e.charAt(d)))l+=e.charAt(d);else if(-1<a.indexOf(e.charAt(d)))l+=e.charAt(d),a=a.replace(e.charAt(d),"");else{if(t.allowPostfix)break;if(s){l="NaN";break}}var u=new Number(l);if(c){u/=100;var h=l.indexOf(".");if(-1!=h){var p=l.length-h-1;u=u.toFixed(2+p)}else u=u.toFixed(2)}return u},M.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,autoDetectPercentage:!0,isFullLocale:!1,strict:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:!1},M.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:!1,autoDetectPercentage:!0},Number.prototype.toFixed=function(e){return M._roundNumber(this,e)},M._roundNumber=function(e,t){var i=Math.pow(10,t||0),n=String(Math.round(e*i)/i);if(0<t){var r=n.indexOf(".");for(r=-1==r?(n+=".",0):n.length-(r+1);r<t;)n+="0",r++}return n}}(jQuery),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).s=e()}}(function(){return function o(a,s,l){function c(i,e){if(!s[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[i]={exports:{}};a[i][0].call(r.exports,function(e){var t=a[i][1][e];return c(t||e)},r,r.exports,o,a,s,l)}return s[i].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){var n=e("./trim"),r=e("./decapitalize");t.exports=function(e,t){return e=n(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),!0===t?r(e):e}},{"./decapitalize":10,"./trim":65}],2:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){e=n(e);var i=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+i}},{"./helper/makeString":20}],3:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return n(e).split("")}},{"./helper/makeString":20}],4:[function(e,t,i){t.exports=function(e,t){return null==e?[]:(e=String(e),0<(t=~~t)?e.match(new RegExp(".{1,"+t+"}","g")):[e])}},{}],5:[function(e,t,i){var n=e("./capitalize"),r=e("./camelize"),o=e("./helper/makeString");t.exports=function(e){return e=o(e),n(r(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(e,t,i){var n=e("./trim");t.exports=function(e){return n(e).replace(/\s\s+/g," ")}},{"./trim":65}],7:[function(e,t,i){var n=e("./helper/makeString"),r="",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";r+=r.toUpperCase(),o=(o+=o.toUpperCase()).split(""),r+="",o.push("ss"),t.exports=function(e){return n(e).replace(/.{1}/g,function(e){var t=r.indexOf(e);return-1===t?e:o[t]})}},{"./helper/makeString":20}],8:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){return e=n(e),t=n(t),0===e.length||0===t.length?0:e.split(t).length-1}},{"./helper/makeString":20}],9:[function(e,t,i){var n=e("./trim");t.exports=function(e){return n(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":65}],10:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return(e=n(e)).charAt(0).toLowerCase()+e.slice(1)}},{"./helper/makeString":20}],11:[function(e,t,i){var r=e("./helper/makeString");t.exports=function(e,t){var i,n=function(e){for(var t=e.match(/^[\s\\t]*/gm),i=t[0].length,n=1;n<t.length;n++)i=Math.min(t[n].length,i);return i}(e=r(e));return 0===n?e:(i="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+n+"}","gm"),e.replace(i,""))}},{"./helper/makeString":20}],12:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/toPositive");t.exports=function(e,t,i){return e=n(e),t=""+t,0<=(i=void 0===i?e.length-t.length:Math.min(r(i),e.length)-t.length)&&e.indexOf(t,i)===i}},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/escapeChars"),o="[";for(var a in r)o+=a;o+="]";var s=new RegExp(o,"g");t.exports=function(e){return n(e).replace(s,function(e){return"&"+r[e]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(e,t,i){t.exports=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(e[t]=this[t]);return e}},{}],15:[function(e,t,i){var n=e("./makeString");t.exports=function(e,t){return 0===(e=n(e)).length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+t)}},{"./makeString":20}],16:[function(e,t,i){var n=e("./escapeRegExp");t.exports=function(e){return null==e?"\\s":e.source?e.source:"["+n(e)+"]"}},{"./escapeRegExp":18}],17:[function(e,t,i){t.exports={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"}},{}],18:[function(e,t,i){var n=e("./makeString");t.exports=function(e){return n(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":20}],19:[function(e,t,i){t.exports={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"}},{}],20:[function(e,t,i){t.exports=function(e){return null==e?"":""+e}},{}],21:[function(e,t,i){t.exports=function(e,t){if(t<1)return"";for(var i="";0<t;)1&t&&(i+=e),t>>=1,e+=e;return i}},{}],22:[function(e,t,i){t.exports=function(e){return e<0?0:+e||0}},{}],23:[function(e,t,i){var n=e("./capitalize"),r=e("./underscored"),o=e("./trim");t.exports=function(e){return n(o(r(e).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){return""===t||-1!==n(e).indexOf(t)}},{"./helper/makeString":20}],25:[function(e,t,i){"use strict";function n(e){if(!(this instanceof n))return new n(e);this._wrapped=e}function r(e,i){"function"==typeof i&&(n.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),t=i.apply(null,e);return"string"==typeof t?new n(t):t})}for(var o in n.VERSION="3.3.4",n.isBlank=e("./isBlank"),n.stripTags=e("./stripTags"),n.capitalize=e("./capitalize"),n.decapitalize=e("./decapitalize"),n.chop=e("./chop"),n.trim=e("./trim"),n.clean=e("./clean"),n.cleanDiacritics=e("./cleanDiacritics"),n.count=e("./count"),n.chars=e("./chars"),n.swapCase=e("./swapCase"),n.escapeHTML=e("./escapeHTML"),n.unescapeHTML=e("./unescapeHTML"),n.splice=e("./splice"),n.insert=e("./insert"),n.replaceAll=e("./replaceAll"),n.include=e("./include"),n.join=e("./join"),n.lines=e("./lines"),n.dedent=e("./dedent"),n.reverse=e("./reverse"),n.startsWith=e("./startsWith"),n.endsWith=e("./endsWith"),n.pred=e("./pred"),n.succ=e("./succ"),n.titleize=e("./titleize"),n.camelize=e("./camelize"),n.underscored=e("./underscored"),n.dasherize=e("./dasherize"),n.classify=e("./classify"),n.humanize=e("./humanize"),n.ltrim=e("./ltrim"),n.rtrim=e("./rtrim"),n.truncate=e("./truncate"),n.prune=e("./prune"),n.words=e("./words"),n.pad=e("./pad"),n.lpad=e("./lpad"),n.rpad=e("./rpad"),n.lrpad=e("./lrpad"),n.sprintf=e("./sprintf"),n.vsprintf=e("./vsprintf"),n.toNumber=e("./toNumber"),n.numberFormat=e("./numberFormat"),n.strRight=e("./strRight"),n.strRightBack=e("./strRightBack"),n.strLeft=e("./strLeft"),n.strLeftBack=e("./strLeftBack"),n.toSentence=e("./toSentence"),n.toSentenceSerial=e("./toSentenceSerial"),n.slugify=e("./slugify"),n.surround=e("./surround"),n.quote=e("./quote"),n.unquote=e("./unquote"),n.repeat=e("./repeat"),n.naturalCmp=e("./naturalCmp"),n.levenshtein=e("./levenshtein"),n.toBoolean=e("./toBoolean"),n.exports=e("./exports"),n.escapeRegExp=e("./helper/escapeRegExp"),n.wrap=e("./wrap"),n.map=e("./map"),n.strip=n.trim,n.lstrip=n.ltrim,n.rstrip=n.rtrim,n.center=n.lrpad,n.rjust=n.lpad,n.ljust=n.rpad,n.contains=n.include,n.q=n.quote,n.toBool=n.toBoolean,n.camelcase=n.camelize,n.mapChars=n.map,n.prototype={value:function(){return this._wrapped}},n)r(o,n[o]);function a(i){r(i,function(e){var t=Array.prototype.slice.call(arguments,1);return String.prototype[i].apply(e,t)})}r("tap",function(e,t){return t(e)});var s=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var l in s)a(s[l]);t.exports=n},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(e,t,i){var n=e("./splice");t.exports=function(e,t,i){return n(e,t,0,i)}},{"./splice":49}],27:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return/^\s*$/.test(n(e))}},{"./helper/makeString":20}],28:[function(e,t,i){var n=e("./helper/makeString"),r=[].slice;t.exports=function(){var e=r.call(arguments),t=e.shift();return e.join(n(t))}},{"./helper/makeString":20}],29:[function(e,t,i){var l=e("./helper/makeString");t.exports=function(e,t){"use strict";if((e=l(e))===(t=l(t)))return 0;if(!e||!t)return Math.max(e.length,t.length);for(var i=new Array(t.length+1),n=0;n<i.length;++n)i[n]=n;for(n=0;n<e.length;++n){for(var r=n+1,o=0;o<t.length;++o){var a=r,s=a+1;s<(r=i[o]+(e.charAt(n)===t.charAt(o)?0:1))&&(r=s),(s=i[o+1]+1)<r&&(r=s),i[o]=a}i[o]=r}return r}},{"./helper/makeString":20}],30:[function(e,t,i){t.exports=function(e){return null==e?[]:String(e).split(/\r\n?|\n/)}},{}],31:[function(e,t,i){var n=e("./pad");t.exports=function(e,t,i){return n(e,t,i)}},{"./pad":39}],32:[function(e,t,i){var n=e("./pad");t.exports=function(e,t,i){return n(e,t,i,"both")}},{"./pad":39}],33:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/defaultToWhiteSpace"),o=String.prototype.trimLeft;t.exports=function(e,t){return e=n(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){return 0===(e=n(e)).length||"function"!=typeof t?e:e.replace(/./g,t)}},{"./helper/makeString":20}],35:[function(e,t,i){t.exports=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=/(\.\d+|\d+|\D+)/g,n=String(e).match(i),r=String(t).match(i),o=Math.min(n.length,r.length),a=0;a<o;a++){var s=n[a],l=r[a];if(s!==l){var c=+s,d=+l;return c==c&&d==d?d<c?1:-1:s<l?-1:1}}return n.length!=r.length?n.length-r.length:e<t?-1:1}},{}],36:[function(e,t,i){!function(e){var g={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function v(){var e=arguments[0],t=v.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=v.parse(e)),v.format.call(null,t[e],arguments)}v.format=function(e,t){var i,n,r,o,a,s,l,c,d=1,u=e.length,h="",p=[],f=!0,m="";for(n=0;n<u;n++)if("string"===(h=y(e[n])))p[p.length]=e[n];else if("array"===h){if((o=e[n])[2])for(i=t[d],r=0;r<o[2].length;r++){if(!i.hasOwnProperty(o[2][r]))throw new Error(v("[sprintf] property '%s' does not exist",o[2][r]));i=i[o[2][r]]}else i=o[1]?t[o[1]]:t[d++];if("function"==y(i)&&(i=i()),g.not_string.test(o[8])&&g.not_json.test(o[8])&&"number"!=y(i)&&isNaN(i))throw new TypeError(v("[sprintf] expecting number but found %s",y(i)));switch(g.number.test(o[8])&&(f=0<=i),o[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,o[6]?parseInt(o[6]):0);break;case"e":i=o[7]?i.toExponential(o[7]):i.toExponential();break;case"f":i=o[7]?parseFloat(i).toFixed(o[7]):parseFloat(i);break;case"g":i=o[7]?parseFloat(i).toPrecision(o[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&o[7]?i.substring(0,o[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}g.json.test(o[8])?p[p.length]=i:(!g.number.test(o[8])||f&&!o[3]?m="":(m=f?"+":"-",i=i.toString().replace(g.sign,"")),s=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",l=o[6]-(m+i).length,a=o[6]&&0<l?(c=s,Array(l+1).join(c)):"",p[p.length]=o[5]?m+i+a:"0"===s?m+a+i:a+m+i)}return p.join("")},v.cache={},v.parse=function(e){for(var t=e,i=[],n=[],r=0;t;){if(null!==(i=g.text.exec(t)))n[n.length]=i[0];else if(null!==(i=g.modulo.exec(t)))n[n.length]="%";else{if(null===(i=g.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){r|=1;var o=[],a=i[2],s=[];if(null===(s=g.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=s[1];""!==(a=a.substring(s[0].length));)if(null!==(s=g.key_access.exec(a)))o[o.length]=s[1];else{if(null===(s=g.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=s[1]}i[2]=o}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}t=t.substring(i[0].length)}return n};function t(e,t,i){return(i=(t||[]).slice(0)).splice(0,0,e),v.apply(null,i)}function y(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}void 0!==i?(i.sprintf=v,i.vsprintf=t):(e.sprintf=v,e.vsprintf=t)}("undefined"==typeof window?this:window)},{}],37:[function(e,t,i){(function(i){function n(e){try{if(!i.localStorage)return!1}catch(e){return!1}var t=i.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,i){t.exports=function(e,t,i,n){if(isNaN(e)||null==e)return"";n="string"==typeof n?n:",";var r=(e=e.toFixed(~~t)).split("."),o=r[0],a=r[1]?(i||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+a}},{}],39:[function(e,t,i){var o=e("./helper/makeString"),a=e("./helper/strRepeat");t.exports=function(e,t,i,n){e=o(e),t=~~t;var r=0;switch(i?1<i.length&&(i=i.charAt(0)):i=" ",n){case"right":return r=t-e.length,e+a(i,r);case"both":return r=t-e.length,a(i,Math.ceil(r/2))+e+a(i,Math.floor(r/2));default:return r=t-e.length,a(i,r)+e}}},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(e,t,i){var n=e("./helper/adjacent");t.exports=function(e){return n(e,-1)}},{"./helper/adjacent":15}],41:[function(e,t,i){var r=e("./helper/makeString"),o=e("./rtrim");t.exports=function(e,t,i){if(e=r(e),t=~~t,i=null!=i?String(i):"...",e.length<=t)return e;var n=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "});return((n=n.slice(n.length-2).match(/\w\w/)?n.replace(/\s*\S+$/,""):o(n.slice(0,n.length-1)))+i).length>e.length?e:e.slice(0,n.length)+i}},{"./helper/makeString":20,"./rtrim":47}],42:[function(e,t,i){var n=e("./surround");t.exports=function(e,t){return n(e,t||'"')}},{"./surround":58}],43:[function(e,t,i){var r=e("./helper/makeString"),o=e("./helper/strRepeat");t.exports=function(e,t,i){if(e=r(e),t=~~t,null==i)return o(e,t);for(var n=[];0<t;n[--t]=e);return n.join(i)}},{"./helper/makeString":20,"./helper/strRepeat":21}],44:[function(e,t,i){var o=e("./helper/makeString");t.exports=function(e,t,i,n){var r=new RegExp(t,!0===n?"gi":"g");return o(e).replace(r,i)}},{"./helper/makeString":20}],45:[function(e,t,i){var n=e("./chars");t.exports=function(e){return n(e).reverse().join("")}},{"./chars":3}],46:[function(e,t,i){var n=e("./pad");t.exports=function(e,t,i){return n(e,t,i,"right")}},{"./pad":39}],47:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/defaultToWhiteSpace"),o=String.prototype.trimRight;t.exports=function(e,t){return e=n(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp(t+"+$"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(e,t,i){var n=e("./trim"),r=e("./dasherize"),o=e("./cleanDiacritics");t.exports=function(e){return n(r(o(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(e,t,i){var o=e("./chars");t.exports=function(e,t,i,n){var r=o(e);return r.splice(~~t,~~i,n),r.join("")}},{"./chars":3}],50:[function(e,t,i){var n=e("util-deprecate");t.exports=n(e("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],51:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/toPositive");t.exports=function(e,t,i){return e=n(e),t=""+t,i=null==i?0:Math.min(r(i),e.length),e.lastIndexOf(t,i)===i}},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){e=n(e);var i=(t=n(t))?e.indexOf(t):-1;return~i?e.slice(0,i):e}},{"./helper/makeString":20}],53:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){e=n(e),t=n(t);var i=e.lastIndexOf(t);return~i?e.slice(0,i):e}},{"./helper/makeString":20}],54:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){e=n(e);var i=(t=n(t))?e.indexOf(t):-1;return~i?e.slice(i+t.length,e.length):e}},{"./helper/makeString":20}],55:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t){e=n(e);var i=(t=n(t))?e.lastIndexOf(t):-1;return~i?e.slice(i+t.length,e.length):e}},{"./helper/makeString":20}],56:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return n(e).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":20}],57:[function(e,t,i){var n=e("./helper/adjacent");t.exports=function(e){return n(e,1)}},{"./helper/adjacent":15}],58:[function(e,t,i){t.exports=function(e,t){return[t,e,t].join("")}},{}],59:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return n(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})}},{"./helper/makeString":20}],60:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e){return n(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},{"./helper/makeString":20}],61:[function(e,t,i){var n=e("./trim");function r(e,t){var i,n,r=e.toLowerCase();for(t=[].concat(t),i=0;i<t.length;i+=1)if(n=t[i]){if(n.test&&n.test(e))return!0;if(n.toLowerCase()===r)return!0}}t.exports=function(e,t,i){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:!!r(e=n(e),t||["true","1"])||!r(e,i||["false","0"])&&void 0}},{"./trim":65}],62:[function(e,t,i){t.exports=function(e,t){if(null==e)return 0;var i=Math.pow(10,isFinite(t)?t:0);return Math.round(e*i)/i}},{}],63:[function(e,t,i){var a=e("./rtrim");t.exports=function(e,t,i,n){t=t||", ",i=i||" and ";var r=e.slice(),o=r.pop();return 2<e.length&&n&&(i=a(t)+i),r.length?r.join(t)+i+o:o}},{"./rtrim":47}],64:[function(e,t,i){var n=e("./toSentence");t.exports=function(e,t,i){return n(e,t,i,!0)}},{"./toSentence":63}],65:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/defaultToWhiteSpace"),o=String.prototype.trim;t.exports=function(e,t){return e=n(e),!t&&o?o.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(e,t,i){var n=e("./helper/makeString");t.exports=function(e,t,i){return i=i||"...",t=~~t,(e=n(e)).length>t?e.slice(0,t)+i:e}},{"./helper/makeString":20}],67:[function(e,t,i){var n=e("./trim");t.exports=function(e){return n(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":65}],68:[function(e,t,i){var n=e("./helper/makeString"),r=e("./helper/htmlEntities");t.exports=function(e){return n(e).replace(/\&([^;]+);/g,function(e,t){var i;return t in r?r[t]:(i=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(i[1],16)):(i=t.match(/^#(\d+)$/))?String.fromCharCode(~~i[1]):e})}},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(e,t,i){t.exports=function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e}},{}],70:[function(e,t,i){var n=e("util-deprecate");t.exports=n(e("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],71:[function(e,t,i){var n=e("./isBlank"),r=e("./trim");t.exports=function(e,t){return n(e)?[]:r(e,t).split(t||/\s+/)}},{"./isBlank":27,"./trim":65}],72:[function(e,t,i){var u=e("./helper/makeString");t.exports=function(e,t){e=u(e);var i,n=(t=t||{}).width||75,r=t.seperator||"\n",o=t.cut||!1,a=t.preserveSpaces||!1,s=t.trailingSpaces||!1;if(n<=0)return e;if(o){var l=0;for(i="";l<e.length;)l%n==0&&0<l&&(i+=r),i+=e.charAt(l),l++;if(s)for(;0<l%n;)i+=" ",l++;return i}var c=e.split(" "),d=0;for(i="";0<c.length;){if(1+c[0].length+d>n&&0<d){if(a)i+=" ",d++;else if(s)for(;d<n;)i+=" ",d++;i+=r,d=0}0<d&&(i+=" ",d++),i+=c[0],d+=c[0].length,c.shift()}if(s)for(;d<n;)i+=" ",d++;return i}},{"./helper/makeString":20}]},{},[25])(25)}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.IPv6=t(e)}(this,function(e){var t=e&&e.IPv6;return{best:function(e){var t,i=(e=e.toLowerCase().split(":")).length,n=8;for(""===e[0]&&""===e[1]&&""===e[2]?(e.shift(),e.shift()):""===e[0]&&""===e[1]?e.shift():""===e[i-1]&&""===e[i-2]&&e.pop(),-1!==e[(i=e.length)-1].indexOf(".")&&(n=7),t=0;t<i&&""!==e[t];t++);if(t<n)for(e.splice(t,1,"0000");e.length<n;)e.splice(t,0,"0000");for(t=0;t<n;t++){i=e[t].split("");for(var r=0;r<3&&("0"===i[0]&&1<i.length);r++)i.splice(0,1);e[t]=i.join("")}i=-1;var o=r=0,a=-1,s=!1;for(t=0;t<n;t++)s?"0"===e[t]?o+=1:(s=!1,r<o&&(i=a,r=o)):"0"===e[t]&&(s=!0,a=t,o=1);for(r<o&&(i=a,r=o),1<r&&e.splice(i,r,""),i=e.length,(n="")===e[0]&&(n=":"),t=0;t<i&&(n+=e[t],t!==i-1);t++)n+=":";return""===e[i-1]&&(n+=":"),n},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}),function(e){function f(e){throw RangeError(y[e])}function i(e,t){for(var i=e.length;i--;)e[i]=t(e[i]);return e}function t(e,t){return i(e.split(p),t).join(".")}function m(e){for(var t,i,n=[],r=0,o=e.length;r<o;)55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<o?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function h(e){return i(e,function(e){var t="";return 65535<e&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)}).join("")}function g(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,i){var n=0;for(e=i?b(e/700):e>>1,e+=b(e/t);455<e;n+=36)e=b(e/35);return b(n+36*e/(e+38))}function n(e){var t,i,n,r,o,a,s=[],l=e.length,c=0,d=128,u=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)128<=e.charCodeAt(n)&&f("not-basic"),s.push(e.charCodeAt(n));for(i=0<i?i+1:0;i<l;){for(n=c,t=1,r=36;l<=i&&f("invalid-input"),(36<=(o=(o=e.charCodeAt(i++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36)||o>b((2147483647-c)/t))&&f("overflow"),c+=o*t,!(o<(a=r<=u?1:u+26<=r?26:r-u));r+=36)t>b(2147483647/(o=36-a))&&f("overflow"),t*=o;u=v(c-n,t=s.length+1,0==n),b(c/t)>2147483647-d&&f("overflow"),d+=b(c/t),c%=t,s.splice(c++,0,d)}return h(s)}function r(e){var t,i,n,r,o,a,s,l,c,d,u,h,p=[];for(d=(e=m(e)).length,t=128,o=72,a=i=0;a<d;++a)(c=e[a])<128&&p.push(_(c));for((n=r=p.length)&&p.push("-");n<d;){for(s=2147483647,a=0;a<d;++a)t<=(c=e[a])&&c<s&&(s=c);for(s-t>b((2147483647-i)/(u=n+1))&&f("overflow"),i+=(s-t)*u,t=s,a=0;a<d;++a)if((c=e[a])<t&&2147483647<++i&&f("overflow"),c==t){for(l=i,s=36;!(l<(c=s<=o?1:o+26<=s?26:s-o));s+=36)h=l-c,l=36-c,p.push(_(g(c+h%l,0))),l=b(h/l);p.push(_(g(l,0))),o=v(i,u,n==r),i=0,++n}++i,++t}return p.join("")}var o="object"==typeof exports&&exports,a="object"==typeof module&&module&&module.exports==o&&module,s="object"==typeof global&&global;s.global!==s&&s.window!==s||(e=s);var l,c,d=/^xn--/,u=/[^ -~]/,p=/\x2E|\u3002|\uFF0E|\uFF61/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,_=String.fromCharCode;if(l={version:"1.2.3",ucs2:{decode:m,encode:h},decode:n,encode:r,toASCII:function(e){return t(e,function(e){return u.test(e)?"xn--"+r(e):e})},toUnicode:function(e){return t(e,function(e){return d.test(e)?n(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return l});else if(o&&!o.nodeType)if(a)a.exports=l;else for(c in l)l.hasOwnProperty(c)&&(o[c]=l[c]);else e.punycode=l}(this),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SecondLevelDomains=t(e)}(this,function(e){var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var i=e.lastIndexOf(".",t-1);if(i<=0||t-1<=i)return!1;var n=r.list[e.slice(t+1)];return!!n&&0<=n.indexOf(" "+e.slice(i+1,t)+" ")},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1||0<=e.lastIndexOf(".",t-1))return!1;var i=r.list[e.slice(t+1)];return!!i&&0<=i.indexOf(" "+e.slice(0,t)+" ")},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var i=e.lastIndexOf(".",t-1);if(i<=0||t-1<=i)return null;var n=r.list[e.slice(t+1)];return!n||n.indexOf(" "+e.slice(i+1,t)+" ")<0?null:e.slice(i+1)},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(s,t,c,i){function d(e,t){var i=1<=arguments.length;if(!(this instanceof d))return i?2<=arguments.length?new d(e,t):new d(e):new d;if(void 0===e){if(i)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===o(e)}function a(e,t){var i,n,r={};if("RegExp"===o(t))r=null;else if(l(t))for(i=0,n=t.length;i<n;i++)r[t[i]]=!0;else r[t]=!0;for(i=0,n=e.length;i<n;i++)(r&&void 0!==r[e[i]]||!r&&t.test(e[i]))&&(e.splice(i,1),n--,i--);return e}function u(e,t){var i,n;if(l(t)){for(i=0,n=t.length;i<n;i++)if(!u(e,t[i]))return!1;return!0}var r=o(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function h(e,t){if(!l(e)||!l(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function n(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,n).replace(/\*/g,"%2A")}function e(i){return function(e,t){return void 0===e?this._parts[i]||"":(this._parts[i]=e||null,this.build(!t),this)}}function m(i,n){return function(e,t){return void 0===e?this._parts[i]||"":(null!==e&&((e+="").charAt(0)===n&&(e=e.substring(1))),this._parts[i]=e,this.build(!t),this)}}var g=i&&i.URI;d.version="1.16.1";var v=d.prototype,y=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}},d.duplicateQueryParameters=!1,d.escapeQuerySpace=!0,d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,d.idn_expression=/[^a-z0-9\.-]/i,d.punycode_expression=/(xn--)/i,d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},d.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},d.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:d.domAttributes[t]}},d.encode=f,d.decode=decodeURIComponent,d.iso8859=function(){d.encode=escape,d.decode=unescape},d.unicode=function(){d.encode=f,d.decode=decodeURIComponent},d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},d.encodeQuery=function(e,t){var i=d.encode(e+"");return void 0===t&&(t=d.escapeQuerySpace),t?i.replace(/%20/g,"+"):i},d.decodeQuery=function(t,e){t+="",void 0===e&&(e=d.escapeQuerySpace);try{return d.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};function b(i,n){return function(t){try{return d[n](t+"").replace(d.characters[i][n].expression,function(e){return d.characters[i][n].map[e]})}catch(e){return t}}}var _,C={encode:"encode",decode:"decode"};for(_ in C)d[_+"PathSegment"]=b("pathname",C[_]),d[_+"UrnPathSegment"]=b("urnpath",C[_]);C=function(r,o,a){return function(e){var t;t=a?function(e){return d[o](d[a](e))}:d[o];for(var i=0,n=(e=(e+"").split(r)).length;i<n;i++)e[i]=t(e[i]);return e.join(r)}},d.decodePath=C("/","decodePathSegment"),d.decodeUrnPath=C(":","decodeUrnPathSegment"),d.recodePath=C("/","encodePathSegment","decode"),d.recodeUrnPath=C(":","encodeUrnPathSegment","decode"),d.encodeReserved=b("reserved","encode"),d.parse=function(e,t){var i;return t=t||{},-1<(i=e.indexOf("#"))&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),-1<(i=e.indexOf("?"))&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=d.parseAuthority(e,t)):-1<(i=e.indexOf(":"))&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(d.protocol_expression)?t.protocol=void 0:"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=d.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},d.parseHost=function(e,t){var i,n=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===n&&(n=e.length),"["===e.charAt(0))i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,n)||null,"/"===t.port&&(t.port=null);else{var r=e.indexOf(":");i=e.indexOf("/"),-1!==(r=e.indexOf(":",r+1))&&(-1===i||r<i)?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},d.parseAuthority=function(e,t){return e=d.parseUserinfo(e,t),d.parseHost(e,t)},d.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=e.lastIndexOf("@",-1<i?i:e.length-1);return-1<n&&(-1===i||n<i)?(i=e.substring(0,n).split(":"),t.username=i[0]?d.decode(i[0]):null,i.shift(),t.password=i[0]?d.decode(i.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},d.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,r={},o=e.split("&"),a=o.length,s=0;s<a;s++)i=o[s].split("="),n=d.decodeQuery(i.shift(),t),i=i.length?d.decodeQuery(i.join("="),t):null,y.call(r,n)?("string"!=typeof r[n]&&null!==r[n]||(r[n]=[r[n]]),r[n].push(i)):r[n]=i;return r},d.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=d.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},d.buildHost=function(e){var t="";return e.hostname?(t=d.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},d.buildAuthority=function(e){return d.buildUserinfo(e)+d.buildHost(e)},d.buildUserinfo=function(e){var t="";return e.username&&(t+=d.encode(e.username),e.password&&(t+=":"+d.encode(e.password)),t+="@"),t},d.buildQuery=function(e,t,i){var n,r,o,a,s="";for(r in e)if(y.call(e,r)&&r)if(l(e[r]))for(n={},o=0,a=e[r].length;o<a;o++)void 0!==e[r][o]&&void 0===n[e[r][o]+""]&&(s+="&"+d.buildQueryParameter(r,e[r][o],i),!0!==t&&(n[e[r][o]+""]=!0));else void 0!==e[r]&&(s+="&"+d.buildQueryParameter(r,e[r],i));return s.substring(1)},d.buildQueryParameter=function(e,t,i){return d.encodeQuery(e,i)+(null!==t?"="+d.encodeQuery(t,i):"")},d.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)y.call(t,n)&&d.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=i:("string"==typeof e[t]&&(e[t]=[e[t]]),l(i)||(i=[i]),e[t]=(e[t]||[]).concat(i))}},d.removeQuery=function(e,t,i){var n;if(l(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(n in e)t.test(n)&&(e[n]=void 0);else if("object"==typeof t)for(n in t)y.call(t,n)&&d.removeQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===o(i)?!l(e[t])&&i.test(e[t])?e[t]=void 0:e[t]=a(e[t],i):e[t]!==String(i)||l(i)&&1!==i.length?l(e[t])&&(e[t]=a(e[t],i)):e[t]=void 0:e[t]=void 0}},d.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var r in t)if(y.call(t,r)&&!d.hasQuery(e,r,t[r]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(i)){case"Undefined":return t in e;case"Boolean":return i===(e=Boolean(l(e[t])?e[t].length:e[t]));case"Function":return!!i(e[t],t,e);case"Array":return!!l(e[t])&&(n?u:h)(e[t],i);case"RegExp":return l(e[t])?!!n&&u(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return l(e[t])?!!n&&u(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},d.commonPath=function(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},d.withinString=function(e,t,i){var n=(i=i||{}).start||d.findUri.start,r=i.end||d.findUri.end,o=i.trim||d.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var s=n.exec(e);if(!s)break;if(s=s.index,i.ignoreHtml)if((l=e.slice(Math.max(s-3,0),s))&&a.test(l))continue;var l=s+e.slice(s).search(r),c=e.slice(s,l).replace(o,"");i.ignore&&i.ignore.test(c)||(c=t(c,s,l=s+c.length,e),e=e.slice(0,s)+c+e.slice(l),n.lastIndex=s+c.length)}return n.lastIndex=0,e},d.ensureValidHostname=function(e){if(e.match(d.invalid_hostname_characters)){if(!s)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(s.toASCII(e).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},d.noConflict=function(e){return e?(e={URI:this.noConflict()},i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(e.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(e.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=i.SecondLevelDomains.noConflict()),e):(i.URI===this&&(i.URI=g),this)},v.build=function(e){return!0===e?this._deferred_build=!0:void 0!==e&&!this._deferred_build||(this._string=d.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new d(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=e("protocol"),v.username=e("username"),v.password=e("password"),v.hostname=e("hostname"),v.port=e("port"),v.query=m("query","?"),v.fragment=m("fragment","#"),v.search=function(e,t){var i=this.query(e,t);return"string"==typeof i&&i.length?"?"+i:i},v.hash=function(e,t){var i=this.fragment(e,t);return"string"==typeof i&&i.length?"#"+i:i},v.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.path=this._parts.urn?e?d.recodeUrnPath(e):"":e?d.recodePath(e):"/",this.build(!t),this;var i=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?d.decodeUrnPath:d.decodePath)(i):i},v.path=v.pathname,v.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=d._parts();var n=e instanceof d,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[r=d.getDomAttribute(e)]||"",r=!1),!n&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=d.parse(String(e),this._parts);else{if(!n&&!r)throw new TypeError("invalid input");for(i in n=n?e._parts:e)y.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!t),this},v.is=function(e){var t=!1,i=!1,n=!1,r=!1,o=!1,a=!1,s=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,i=d.ip4_expression.test(this._parts.hostname),n=d.ip6_expression.test(this._parts.hostname),o=(r=!(t=i||n))&&c&&c.has(this._parts.hostname),a=r&&d.idn_expression.test(this._parts.hostname),s=r&&d.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return r;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return a;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return s}return null};var w=v.protocol,S=v.port,k=v.hostname;v.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(d.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return S.call(this,e,t)},v.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};if("/"!==d.parseHost(e,i))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=i.hostname}return k.call(this,e,t)},v.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return i=d(e),this.protocol(i.protocol()).authority(i.authority()).build(!t),this;var i=this.protocol();return this.authority()?(i?i+"://":"")+this.authority():""},v.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?d.buildHost(this._parts):"";if("/"!==d.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?d.buildAuthority(this._parts):"";if("/"!==d.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),d.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";var i=d.buildUserinfo(this._parts);return i.substring(0,i.length-1)},v.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=d.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},v.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=new RegExp("^"+r(i)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&d.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this;if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""},v.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&i.length<2?this._parts.hostname:(i=this._parts.hostname.length-this.tld(t).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!e)throw new TypeError("cannot set domain empty");return d.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(i=new RegExp(r(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)),this.build(!t),this},v.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf(".");i=this._parts.hostname.substring(i+1);return!0!==t&&c&&c.list[i.toLowerCase()]&&c.get(this._parts.hostname)||i}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},v.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&!0!==e)return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=new RegExp("^"+r(i)),this.is("relative")||"/"!==(e=e||"/").charAt(0)&&(e="/"+e),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=d.recodePath(e),this._parts.path=this._parts.path.replace(i,e),this.build(!t),this;if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1;i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?d.decodePath(i):i},v.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/");i=this._parts.path.substring(i+1);return e?d.decodePathSegment(i):i}i=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var n=new RegExp(r(this.filename())+"$");return e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e),i?this.normalizePath(t):this.build(!t),this},v.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",e?d.decodePathSegment(i):i)}if("."===e.charAt(0)&&(e=e.substring(1)),i=this.suffix())n=e?new RegExp(r(i)+"$"):new RegExp(r("."+i)+"$");else{if(!e)return this;this._parts.path+="."+d.recodePath(e)}return n&&(e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e)),this.build(!t),this},v.segment=function(e,t,i){var n=this._parts.urn?":":"/",r="/"===(o=this.path()).substring(0,1),o=o.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(r&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(l(t)){o=[],e=0;for(var a=t.length;e<a;e++)(t[e].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(p(t[e])))}else!t&&"string"!=typeof t||(t=p(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=p(t):o.splice(e,1);return r&&o.unshift(""),this.path(o.join(n),i)},v.segmentCoded=function(e,t,i){var n,r;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(l(e=this.segment(e,t,i)))for(n=0,r=e.length;n<r;n++)e[n]=d.decode(e[n]);else e=void 0!==e?d.decode(e):void 0;return e}if(l(t))for(n=0,r=t.length;n<r;n++)t[n]=d.encode(t[n]);else t="string"==typeof t||t instanceof String?d.encode(t):t;return this.segment(e,t,i)};var I=v.query;return v.query=function(e,t){if(!0===e)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):I.call(this,e,t);var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=d.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},v.setQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)y.call(e,r)&&(n[r]=e[r])}return this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},v.addQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.addQuery(n,e,void 0===t?null:t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},v.removeQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.removeQuery(n,e,t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},v.hasQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(n,e,t,i)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},v.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&s?this._parts.hostname=s.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},v.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},v.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=d.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,n,r,o="";for("/"!==t.charAt(0)&&(i=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),i&&(o=t.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(n=t.indexOf("/.."));)t=0!==n?(-1===(r=t.substring(0,n).lastIndexOf("/"))&&(r=n),t.substring(0,r)+t.substring(n+3)):t.substring(3);return i&&this.is("relative")&&(t=o+t.substring(1)),t=d.recodePath(t),this._parts.path=t,this.build(!e),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},v.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var e=d.encode,t=d.decode;d.encode=escape,d.decode=decodeURIComponent;try{this.normalize()}finally{d.encode=e,d.decode=t}return this},v.unicode=function(){var e=d.encode,t=d.decode;d.encode=f,d.decode=unescape;try{this.normalize()}finally{d.encode=e,d.decode=t}return this},v.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&s?(t+=s.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var i="",n=0,r=e._parts.query.split("&"),o=r.length;n<o;n++){var a=(r[n]||"").split("=");i=i+"&"+d.decodeQuery(a[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==a[1]&&(i+="="+d.decodeQuery(a[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+i.substring(1)}return t+d.decodeQuery(e.hash(),!0)},v.absoluteTo=function(e){var t,i,n=this.clone(),r=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof d||(e=new d(e)),n._parts.protocol||(n._parts.protocol=e._parts.protocol),this._parts.hostname)return n;for(t=0;i=r[t];t++)n._parts[i]=e._parts[i];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),"/"!==n.path().charAt(0)&&(r=(r=e.directory())?r:0===e.path().indexOf("/")?"/":"",n._parts.path=(r?r+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},v.relativeTo=function(e){var t,i,n,r=this.clone().normalize();if(r._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new d(e).normalize(),t=r._parts,i=e._parts,n=r.path(),e=e.path(),"/"!==n.charAt(0))throw Error("URI is already relative");if("/"!==e.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==i.hostname||t.port!==i.port?r.build():(t.hostname=null,t.port=null,n===e?t.path="":(n=d.commonPath(n,e))&&(i=i.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=i+t.path.substring(n.length)||"./"),r.build())},v.equals=function(e){var t=this.clone();e=new d(e);var i,n={},r={},o={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(n=t.query(),r=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||n.length!==r.length)return!1;for(i in n=d.parseQuery(n,this._parts.escapeQuerySpace),r=d.parseQuery(r,this._parts.escapeQuerySpace),n)if(y.call(n,i)){if(l(n[i])){if(!h(n[i],r[i]))return!1}else if(n[i]!==r[i])return!1;o[i]=!0}for(i in r)if(y.call(r,i)&&!o[i])return!1;return!0},v.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},v.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},d}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.DOMPurify=t()}(this,function(){"use strict";function ve(e,t){for(var i=t.length;i--;)"string"==typeof t[i]&&(t[i]=t[i].toLowerCase()),e[t[i]]=!0;return e}function ye(e){var t={},i=void 0;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function be(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var _e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],Ce=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],we=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],Se=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],ke=["#text"],Ie=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],Me=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],Te=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],Oe=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],xe=/\{\{[\s\S]*|[\s\S]*\}\}/gm,Ae=/<%[\s\S]*|[\s\S]*%>/gm,Pe=/^data-[\-\w.\u00B7-\uFFFF]/,De=/^aria-[\-\w]+$/,Ne=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Ee=/^(?:\w+script|data):/i,$e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le=function(){return"undefined"==typeof window?null:window};return function t(e){function c(e){return t(e)}var d=0<arguments.length&&void 0!==e?e:Le();if(c.version="1.0.2",c.removed=[],!d||!d.document||9!==d.document.nodeType)return c.isSupported=!1,c;var l=d.document,r=!1,o=!1,u=d.document,h=d.DocumentFragment,i=d.HTMLTemplateElement,p=d.Node,n=d.NodeFilter,a=d.NamedNodeMap,s=void 0===a?d.NamedNodeMap||d.MozNamedAttrMap:a,f=d.Text,m=d.Comment,g=d.DOMParser,v=d.XMLHttpRequest,y=void 0===v?d.XMLHttpRequest:v,b=d.encodeURI,_=void 0===b?d.encodeURI:b;if("function"==typeof i){var C=u.createElement("template");C.content&&C.content.ownerDocument&&(u=C.content.ownerDocument)}var w=u,S=w.implementation,k=w.createNodeIterator,I=w.getElementsByTagName,M=w.createDocumentFragment,T=l.importNode,O={};c.isSupported=S&&void 0!==S.createHTMLDocument&&9!==u.documentMode;function x(e){"object"!==(void 0===e?"undefined":Re(e))&&(e={}),j="ALLOWED_TAGS"in e?ve({},e.ALLOWED_TAGS):z,F="ALLOWED_ATTR"in e?ve({},e.ALLOWED_ATTR):U,W="FORBID_TAGS"in e?ve({},e.FORBID_TAGS):{},G="FORBID_ATTR"in e?ve({},e.FORBID_ATTR):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,Q=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,V=e.SAFE_FOR_JQUERY||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ie=e.RETURN_DOM_IMPORT||!1,Z=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,H=e.ALLOWED_URI_REGEXP||H,K&&(Q=!1),te&&(ee=!0),oe&&(j=ve({},[].concat(be(ke))),F=[],!0===oe.html&&(ve(j,_e),ve(F,Ie)),!0===oe.svg&&(ve(j,Ce),ve(F,Me),ve(F,Oe)),!0===oe.svgFilters&&(ve(j,we),ve(F,Me),ve(F,Oe)),!0===oe.mathMl&&(ve(j,Se),ve(F,Te),ve(F,Oe))),e.ADD_TAGS&&(j===z&&(j=ye(j)),ve(j,e.ADD_TAGS)),e.ADD_ATTR&&(F===U&&(F=ye(F)),ve(F,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&ve(le,e.ADD_URI_SAFE_ATTR),re&&(j["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),ce=e}function A(t){c.removed.push({element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=""}}function P(e,t){c.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)}function D(e){var t=void 0,i=void 0;if(Z&&(e="<remove></remove>"+e),o){try{e=_(e)}catch(e){}var n=new y;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null),t=n.response}if(r)try{t=(new g).parseFromString(e,"text/html")}catch(e){}return t&&t.documentElement||((i=(t=S.createHTMLDocument("")).body).parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=e),I.call(t,X?"html":"body")[0]}var N=xe,E=Ae,$=Pe,R=De,L=Ee,B=$e,H=Ne,j=null,z=ve({},[].concat(be(_e),be(Ce),be(we),be(Se),be(ke))),F=null,U=ve({},[].concat(be(Ie),be(Me),be(Te),be(Oe))),W=null,G=null,q=!0,Q=!0,Y=!1,V=!1,K=!1,X=!1,J=!1,Z=!1,ee=!1,te=!1,ie=!1,ne=!0,re=!0,oe={},ae=ve({},["audio","head","math","script","style","template","svg","video"]),se=ve({},["audio","video","img","source","image"]),le=ve({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ce=null,de=u.createElement("form");c.isSupported&&function(){var e=D('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(o=!0);try{(e=D('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(r=!0)}catch(e){}}();function ue(e){return k.call(e.ownerDocument||e,e,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT,function(){return n.FILTER_ACCEPT},!1)}function he(e){return"object"===(void 0===p?"undefined":Re(p))?e instanceof p:e&&"object"===(void 0===e?"undefined":Re(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function pe(e,t,i){O[e]&&O[e].forEach(function(e){e.call(c,t,i,ce)})}function fe(e){var t=void 0;if(pe("beforeSanitizeElements",e,null),function(e){return!(e instanceof f||e instanceof m||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof s&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)}(e))return A(e),!0;var i=e.nodeName.toLowerCase();if(pe("uponSanitizeElement",e,{tagName:i,allowedTags:j}),j[i]&&!W[i])return!V||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(c.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),K&&3===e.nodeType&&(t=(t=(t=e.textContent).replace(N," ")).replace(E," "),e.textContent!==t&&(c.removed.push({element:e.cloneNode()}),e.textContent=t)),pe("afterSanitizeElements",e,null),!1;if(re&&!ae[i]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return A(e),!0}function me(e){var t=void 0,i=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(pe("beforeSanitizeAttributes",e,null),a=e.attributes){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F};for(s=a.length;s--;){if(i=(t=a[s]).name,n=t.value.trim(),r=i.toLowerCase(),l.attrName=r,l.attrValue=n,l.keepAttr=!0,pe("uponSanitizeAttribute",e,l),n=l.attrValue,"name"===r&&"IMG"===e.nodeName&&a.id)o=a.id,a=Array.prototype.slice.apply(a),P("id",e),P(i,e),a.indexOf(o)>s&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===n&&(F[r]||!G[r]))continue;"id"===i&&e.setAttribute(i,""),P(i,e)}if(l.keepAttr&&(!ne||"id"!==r&&"name"!==r||!(n in d||n in u||n in de))){if(K&&(n=(n=n.replace(N," ")).replace(E," ")),Q&&$.test(r));else if(q&&R.test(r));else{if(!F[r]||G[r])continue;if(le[r]);else if(H.test(n.replace(B,"")));else if("src"!==r&&"xlink:href"!==r||0!==n.indexOf("data:")||!se[e.nodeName.toLowerCase()])if(Y&&!L.test(n.replace(B,"")));else if(n)continue}try{e.setAttribute(i,n),c.removed.pop()}catch(e){}}}pe("afterSanitizeAttributes",e,null)}}function ge(e){var t=void 0,i=ue(e);for(pe("beforeSanitizeShadowDOM",e,null);t=i.nextNode();)pe("uponSanitizeShadowNode",t,null),fe(t)||(t.content instanceof h&&ge(t.content),me(t));pe("afterSanitizeShadowDOM",e,null)}return c.sanitize=function(e,t){var i=void 0,n=void 0,r=void 0,o=void 0,a=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!he(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");e=e.toString()}if(!c.isSupported){if("object"===Re(d.toStaticHTML)||"function"==typeof d.toStaticHTML){if("string"==typeof e)return d.toStaticHTML(e);if(he(e))return d.toStaticHTML(e.outerHTML)}return e}if(J||x(t),c.removed=[],e instanceof p)1===(n=(i=D("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===n.nodeName?i=n:i.appendChild(n);else{if(!ee&&!X&&-1===e.indexOf("<"))return e;if(!(i=D(e)))return ee?null:""}Z&&A(i.firstChild);for(var s=ue(i);r=s.nextNode();)3===r.nodeType&&r===o||fe(r)||(r.content instanceof h&&ge(r.content),me(r),o=r);if(ee){if(te)for(a=M.call(i.ownerDocument);i.firstChild;)a.appendChild(i.firstChild);else a=i;return ie&&(a=T.call(l,a,!0)),a}return X?i.outerHTML:i.innerHTML},c.setConfig=function(e){x(e),J=!0},c.clearConfig=function(){ce=null,J=!1},c.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],O[e].push(t))},c.removeHook=function(e){O[e]&&O[e].pop()},c.removeHooks=function(e){O[e]&&(O[e]=[])},c.removeAllHooks=function(){O={}},c}()});var CryptoJS=CryptoJS||function(s){function i(){}var e={},t=e.lib={},n=t.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<e;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*s.random()|0);return new l.init(t,e)}}),r=e.enc={},o=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(i,t/2)}},a=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(i,t)}},c=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},d=t.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,r=this.blockSize,o=n/(4*r);if(e=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*r,n=s.min(4*e,n),e){for(var a=0;a<e;a+=r)this._doProcessBlock(i,a);a=i.splice(0,e),t.sigBytes-=n}return new l.init(a,n)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=d.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(e,t){return new i.init(t).finalize(e)}},_createHmacHelper:function(i){return function(e,t){return new u.HMAC.init(i,t).finalize(e)}}});var u=e.algo={};return e}(Math);!function(o){function S(e,t,i,n,r,o,a){return((e=e+(t&i|~t&n)+r+a)<<o|e>>>32-o)+t}function k(e,t,i,n,r,o,a){return((e=e+(t&n|i&~n)+r+a)<<o|e>>>32-o)+t}function I(e,t,i,n,r,o,a){return((e=e+(t^i^n)+r+a)<<o|e>>>32-o)+t}function M(e,t,i,n,r,o,a){return((e=e+(i^(t|~n))+r+a)<<o|e>>>32-o)+t}for(var e=CryptoJS,t=(n=e.lib).WordArray,i=n.Hasher,n=e.algo,T=[],r=0;r<64;r++)T[r]=4294967296*o.abs(o.sin(r+1))|0;n=n.MD5=i.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=e[a=t+i];e[a]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}i=this._hash.words;var r,o,a=e[t+0],s=(n=e[t+1],e[t+2]),l=e[t+3],c=e[t+4],d=e[t+5],u=e[t+6],h=e[t+7],p=e[t+8],f=e[t+9],m=e[t+10],g=e[t+11],v=e[t+12],y=e[t+13],b=e[t+14],_=e[t+15],C=i[0],w=M(w=M(w=M(w=M(w=I(w=I(w=I(w=I(w=k(w=k(w=k(w=k(w=S(w=S(w=S(w=S(w=i[1],o=S(o=i[2],r=S(r=i[3],C=S(C,w,o,r,a,7,T[0]),w,o,n,12,T[1]),C,w,s,17,T[2]),r,C,l,22,T[3]),o=S(o,r=S(r,C=S(C,w,o,r,c,7,T[4]),w,o,d,12,T[5]),C,w,u,17,T[6]),r,C,h,22,T[7]),o=S(o,r=S(r,C=S(C,w,o,r,p,7,T[8]),w,o,f,12,T[9]),C,w,m,17,T[10]),r,C,g,22,T[11]),o=S(o,r=S(r,C=S(C,w,o,r,v,7,T[12]),w,o,y,12,T[13]),C,w,b,17,T[14]),r,C,_,22,T[15]),o=k(o,r=k(r,C=k(C,w,o,r,n,5,T[16]),w,o,u,9,T[17]),C,w,g,14,T[18]),r,C,a,20,T[19]),o=k(o,r=k(r,C=k(C,w,o,r,d,5,T[20]),w,o,m,9,T[21]),C,w,_,14,T[22]),r,C,c,20,T[23]),o=k(o,r=k(r,C=k(C,w,o,r,f,5,T[24]),w,o,b,9,T[25]),C,w,l,14,T[26]),r,C,p,20,T[27]),o=k(o,r=k(r,C=k(C,w,o,r,y,5,T[28]),w,o,s,9,T[29]),C,w,h,14,T[30]),r,C,v,20,T[31]),o=I(o,r=I(r,C=I(C,w,o,r,d,4,T[32]),w,o,p,11,T[33]),C,w,g,16,T[34]),r,C,b,23,T[35]),o=I(o,r=I(r,C=I(C,w,o,r,n,4,T[36]),w,o,c,11,T[37]),C,w,h,16,T[38]),r,C,m,23,T[39]),o=I(o,r=I(r,C=I(C,w,o,r,y,4,T[40]),w,o,a,11,T[41]),C,w,l,16,T[42]),r,C,u,23,T[43]),o=I(o,r=I(r,C=I(C,w,o,r,f,4,T[44]),w,o,v,11,T[45]),C,w,_,16,T[46]),r,C,s,23,T[47]),o=M(o,r=M(r,C=M(C,w,o,r,a,6,T[48]),w,o,h,10,T[49]),C,w,b,15,T[50]),r,C,d,21,T[51]),o=M(o,r=M(r,C=M(C,w,o,r,v,6,T[52]),w,o,l,10,T[53]),C,w,m,15,T[54]),r,C,n,21,T[55]),o=M(o,r=M(r,C=M(C,w,o,r,p,6,T[56]),w,o,_,10,T[57]),C,w,u,15,T[58]),r,C,y,21,T[59]),o=M(o,r=M(r,C=M(C,w,o,r,c,6,T[60]),w,o,g,10,T[61]),C,w,s,15,T[62]),r,C,f,21,T[63]);i[0]=i[0]+C|0,i[1]=i[1]+w|0,i[2]=i[2]+o|0,i[3]=i[3]+r|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var r=o.floor(i/4294967296);for(t[15+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,i=0;i<4;i++)n=t[i],t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=i._createHelper(n),e.HmacMD5=i._createHmacHelper(n)}(Math);var cc_i18n={strings:{cc_cd_lbl_text1:'Ferragamo uses its own and third-party technical cookies for the proper functioning of the website, for statistical purposes and - with your consent - also profiling cookies for a personalized experience and advertising based on your browsing. By clicking on:<br><br><ul><li><b>Accept all cookies</b> you give your consent to the above cookies.</li><li><b>Manage options</b> you configure your choices.</li><li><b>Continue without accepting</b> you reject all cookies subject to consent.</li></ul> <br>You can change your preferences anytime via the "Cookie Settings" link at the bottom of the website.<br><br>For more information please consult our <a class="cc-privacy-link" href="#" target="_blank">Privacy & Cookie Policy</a>.',cc_cd_lbl_title:"Your choices regarding cookies",cc_cd_lbl_button_requiredonly:"Continue without accepting",cc_cd_lbl_button_close_enable:"Accept all cookies",cc_cd_lbl_button_close_refuse:"Manage options"},strings_it:{cc_cd_lbl_text1:'Ferragamo utilizza cookie tecnici propri e di terze parti per il corretto funzionamento del sito, per fini statistici e - con il Suo consenso - anche cookie di profilazione per un\'esperienza e una pubblicit personalizzate in base alla Sua navigazione. Cliccando su: <br><br> <ul><li><b>Accetta tutti i cookie</b> d il consenso ai cookie di cui sopra</li><li><b>Gestisci opzioni</b> configura le Sue scelte</li><li><b>Continua senza accettare</b> rifiuta tutti i cookie oggetto di consenso</li></ul><br>Pu modificare le Sue preferenze in qualsiasi momento tramite il link "Impostazioni dei cookie"  in calce al sito.<br><br> Per maggiori informazioni consulti la <a class="cc-privacy-link" href="#" target="_blank">Privacy & Cookie Policy</a>.',cc_cd_lbl_title:"Le tue scelte riguardo ai Cookie",cc_cd_lbl_button_requiredonly:"Continua senza accettare",cc_cd_lbl_button_close_enable:"Accetta tutti i cookie",cc_cd_lbl_button_close_refuse:"Gestisci opzioni"},strings_en:{cc_cd_lbl_text1:'Ferragamo uses its own and third-party technical cookies for the proper functioning of the website, for statistical purposes and - with your consent - also profiling cookies for a personalized experience and advertising based on your browsing. By clicking on:<br><br><ul><li><b>Accept all cookies</b> you give your consent to the above cookies.</li><li><b>Manage options</b> you configure your choices.</li><li><b>Continue without accepting</b> you reject all cookies subject to consent.</li></ul> <br>You can change your preferences anytime via the "Cookie Settings" link at the bottom of the website.<br><br>For more information please consult our <a class="cc-privacy-link" href="#" target="_blank">Privacy & Cookie Policy</a>.',cc_cd_lbl_title:"Your choices regarding cookies",cc_cd_lbl_button_requiredonly:"Continue without accepting",cc_cd_lbl_button_close_enable:"Accept all cookies",cc_cd_lbl_button_close_refuse:"Manage options"},strings_de:{cc_cd_lbl_text1:'Ferragamo verwendet technische Erst- und Drittanbieter-Cookies fr den ordnungsgemen Betrieb der Website, fr statistische Zwecke und - mit Ihrer Zustimmung - auch Profiling-Cookies, um Ihr Nutzererlebnis und die Werbung persnlich zu gestalten. Durch Klick auf:<br><br><ul><li><b>Alle cookies annehmen</b> stimmen Sie den oben genannten Cookies zu.</li><li><b>Optionen verwalten</b> knnen Sie Ihre Auswahl konfiguriert.</li><li><b>Fortfahren ohne anzunehmen</b> lehnen sie alle Cookies, die eine Zustimmung erfordern, ab.</li></ul><br>Sie knnen Ihre Einstellungen jederzeit ber den Link Cookie-Einstellungen am unteren Rand der Website ndern.<br><br>Weitere Informationen finden Sie im <a class="cc-privacy-link" href="#" target="_blank">Datenschutz- und Cookie-Hinweis</a>.',cc_cd_lbl_title:"Cookies an- und abwhlen",cc_cd_lbl_button_requiredonly:"Fortfahren ohne anzunehmen",cc_cd_lbl_button_close_enable:"Alle cookies annehmen",cc_cd_lbl_button_close_refuse:"Optionen verwalten"},strings_fr:{cc_cd_lbl_text1:'Pour le bon fonctionnement du site, Ferragamo utilise ses propres cookies techniques et ceux de tiers  des fins statistiques. Il utilise galement, avec votre consentement, des cookies de profilage pour offrir une exprience et une publicit personnalises en fonction de votre navigation. En cliquant sur: <br><br><ul><li><b>Accepter tous les cookies</b>, vous donnez votre consentement  lutilisation de tous les cookies cits ci-dessus.</li><li><b>Grer les options</b>, vous pouvez paramtrer vos choix.</li><li><b>Continuer sans accepter</b>, vous refusez tous les cookies pour lesquels votre consentement est obligatoire.</li></ul><br>Vous pouvez modifier vos prfrences  tout moment via le lien "Paramtres des cookies" en bas du site.<br><br>Pour plus d\'informations, consultez la <a class="cc-privacy-link" href="#" target="_blank">Politique de confidentialit et des cookies</a>.',cc_cd_lbl_title:"Vos choix en matire de cookies",cc_cd_lbl_button_requiredonly:"Continuer sans accepter",cc_cd_lbl_button_close_enable:"Accepter tous les cookies",cc_cd_lbl_button_close_refuse:"Grer les options"},strings_es:{cc_cd_lbl_text1:'Ferragamo utiliza cookies tcnicas propias y de terceros para el correcto funcionamiento del sitio, con fines estadsticos y -con su consentimiento- tambin cookies de perfil para una experiencia y una publicidad personalizadas basada en su navegacin. Haciendo clic en:<br><br><ul><li><b>Aceptar todas las cookies</b> da su consentimiento a las cookies anteriores</li><li><b>Administrar opciones</b> configura sus opciones</li><li><b>Continuar sin aceptar</b> rechaza todas las cookies sujetas a consentimiento</li></ul><br>Puede cambiar sus preferencias en cualquier momento a travs del enlace "Configuracin de cookies" en la parte inferior del sitio web.<br><br>Para ms informacin, consulte nuestra <a class="cc-privacy-link" href="#" target="_blank">Poltica de Privacidad y Cookies</a>.',cc_cd_lbl_title:"Sus opciones en relacin con las cookies",cc_cd_lbl_button_requiredonly:"Continuar sin aceptar",cc_cd_lbl_button_close_enable:"Aceptar todas las cookies",cc_cd_lbl_button_close_refuse:"Administrar opciones"},strings_zh_hkg:{cc_cd_lbl_text1:'Ferragamo.com CookieCookies<br><br>CookieXCookie<br><br>Cookie <br><br><a class="cc-privacy-link" href="#" target="_blank">Cookie </a>',cc_cd_lbl_title:"Cookie"},strings_zh_twn:{cc_cd_lbl_text1:'Ferragamo.com CookieCookies<br><br>CookieXCookie<br><br>Cookie <br><br><a class="cc-privacy-link" href="#" target="_blank">Cookie </a>',cc_cd_lbl_title:"Cookie"},strings_zh_chn:{cc_cd_lbl_text1:'Ferragamo.comCookieCookie <br><br>Cookie XCookie <br><br>Cookie<br><br><a class="cc-privacy-link" href="#" target="_blank">Cookie</a>',cc_cd_lbl_title:"Cookie"},strings_zh_sgp:{cc_cd_lbl_text1:'Ferragamo.comCookieCookie <br><br>Cookie XCookie <br><br>Cookie<br><br><a class="cc-privacy-link" href="#" target="_blank">Cookie</a>',cc_cd_lbl_title:"Cookie"},strings_ja:{cc_cd_lbl_text1:'<br><br><ul><li></li><li></li><li></li></ul><br>  <br><br><a class="cc-privacy-link" href="#" target="_blank">/</a> ',cc_cd_lbl_title:"",cc_cd_lbl_button_requiredonly:"",cc_cd_lbl_button_close_enable:"",cc_cd_lbl_button_close_refuse:""},strings_ko:{cc_cd_lbl_text1:'             3   .             .<br><br><ul><li>     "  " .</li><li>" "     .</li><li>    "  " .</li></ul><br>  " "        .<br><br>  <a class="cc-privacy-link" href="#" target="_blank">    </a> .',cc_cd_lbl_title:"  ",cc_cd_lbl_button_requiredonly:"  ",cc_cd_lbl_button_close_enable:"  ",cc_cd_lbl_button_close_refuse:" "}},_gaq=_gaq||[],cc={version:"0.15",ccversion:"1.0.10",jqueryversionrequired:"1.4.4",initobj:!1,setupcomplete:!1,allasked:!1,checkedlocal:!1,jqueryattempts:0,allagree:!0,cookies:{},defaultCookies:{social:{},analytics:{},profiling:{},chat:{},optout:{defaultstate:"off"}},approved:{},bindfunctions:{},checkeddonottrack:!1,clickedElem:"",readyCallback:function(){},settings:{scriptwaittime:1e3,scrolllistenerwaittime:1e3,cookieprefix:"FRG_",clickAnyLinkToConsent:!1,dragScrollbarToConsent:!1,messagetype:"customdialog",consenttype:"explicit",onlyshowbanneronce:!0,testmode:!1,ignoreDoNotTrack:!0,disableClickTrigger:!1,domainlevel:!0,debugLog:!1,locale:"",privacypage:"",cookiesTimeout:182},ready:function(e){e&&"function"==typeof e&&(cc.log("set a ready callback: "+e),cc.readyCallback=e)},strings:{},log:function(e){cc.settings.debugLog&&void 0!==console&&console.log(e)},bindClickEvents:function(){cc.log("listening for click events"),jQuery(document).on("click tap",cc._internalClickCallback)},unbindClickEvents:function(){jQuery(document).unbind("click tap",cc._internalClickCallback)},disableInlineJs:function(){cc.settings.disableClickTrigger||(jQuery("[onclick]").each(function(){var e=jQuery(this);e.attr("_onclick",e.attr("onclick")),e.removeAttr("onclick")}),jQuery("a:not(.cc-link)[href]").each(function(){var e=jQuery(this);e.attr("_href",e.attr("href")),e.attr("href","")}))},enableInlineJs:function(){cc.settings.disableClickTrigger||(jQuery("[_onclick]").each(function(){var e=jQuery(this);e.attr("onclick",e.attr("_onclick")),e.removeAttr("_onclick")}),jQuery("a:not(.cc-link)[_href]").each(function(){var e=jQuery(this);e.attr("href",e.attr("_href")),e.removeAttr("_href")}))},onconsent:function(e,t){cc.isfunction(t)?fn=t:(scriptname=t,fn=function(){cc.insertscript(scriptname)}),cc.cookies&&cc.cookies[e]&&cc.cookies[e].approved?(cc.cookies[e].executed=!0,fn()):window.jQuery?jQuery(document).bind(cc.settings.cookieprefix+e,fn):cc.bindfunctions[e]?cc.bindfunctions[e][cc.bindfunctions[e].length]=fn:cc.bindfunctions[e]=new Array(fn)},geturlparameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null!=t&&decodeURIComponent(t[1].replace(/\+/g," "))},isfunction:function(e){return e&&"[object Function]"=={}.toString.call(e)},setup:function(){for(jQuery.each(cc.bindfunctions,function(e,t){for(i=0;i<t.length;i++)jQuery(document).bind(cc.settings.cookieprefix+e,t[i])}),verstr=jQuery().jquery,parts=verstr.split("."),versionRequired=cc.jqueryversionrequired.split("."),jqueryOk=!0,i=0;i<parts.length&&i<versionRequired.length;i++){if(currentpart=parseInt(parts[i]),requiredpart=parseInt(versionRequired[i]),currentpart<requiredpart){jqueryok=!1;break}if(currentpart>requiredpart)break}for(var e in jqueryOk||alert(cc.strings.jqueryWarning),jQuery.each(cc.initobj.cookies,function(e,t){t.title||(cc.initobj.cookies[e].title="necessary"==e?cc.strings.necessaryDefaultTitle:"social"==e?cc.strings.socialDefaultTitle:"analytics"==e?cc.strings.analyticsDefaultTitle:"profiling"==e?cc.strings.profilingDefaultTitle:cc.strings.defaultTitle),t.description||(cc.initobj.cookies[e].description="necessary"==e?cc.strings.necessaryDefaultDescription:"social"==e?cc.strings.socialDefaultDescription:"analytics"==e?cc.strings.analyticsDefaultDescription:"profiling"==e?cc.strings.profilingDefaultDescription:cc.strings.defaultDescription),t.defaultstate||(cc.initobj.cookies[e].defaultstate="on"),cc.initobj.cookies[e].asked=!1,cc.initobj.cookies[e].approved=!1,cc.initobj.cookies[e].executed=!1}),testmode=cc.geturlparameter("cctestmode"),"accept"!=testmode&&"decline"!=testmode||(cc.settings.testmode=testmode),cc.initobj.cookies)cc.cookies[e]=cc.initobj.cookies[e],"accept"==cc.settings.testmode&&(cc.approved[e]="yes"),"decline"==cc.settings.testmode&&(cc.approved[e]="no")},initialise:function(e){if(void 0!==(cc.initobj=e).settings)for(var t in e.settings)cc.settings[t]=e.settings[t];var i;if(this.loadStrings(cc_i18n.strings),this.settings.locale){var n=this.settings.locale.split("_")[0];i=cc_i18n["strings_"+n],this.loadStrings(i),i=cc_i18n["strings_"+this.settings.locale],this.loadStrings(i)}this.loadStrings(e.strings),void 0===cc.initobj.cookies&&(cc.initobj.cookies=cc.defaultCookies),window.jQuery&&(cc.setupcomplete=!0,cc.setup())},loadStrings:function(e){if(void 0!==e)for(var t in e)cc.strings[t]=e[t]},insertscript:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},insertscripttag:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)},checklocal:function(){this.checkedlocal=!0,jQuery.each(cc.cookies,function(e,t){cookieval=cc.getcookie(cc.settings.cookieprefix+e),cookieval&&(cc.approved[e]=cookieval)}),this.checkapproval()},setcookies:function(e){for(var t in jQuery.each(e,function(e,t){cc.cookies[e]&&!cc.approved[e]&&cc.setcookie(cc.settings.cookieprefix+e,t,cc.settings.cookiesTimeout)}),e)"yes"!=this.approved[t]&&"no"!=this.approved[t]&&(this.approved[t]=e[t]);this.checkapproval()},deletecookie:function(e){date=new Date,date.setDate(date.getDate()-1),document.cookie=escape(cc.settings.cookieprefix+e)+"=; path=/; expires="+date},_internalClickCallback:function(e){var t=e.target,i=!1;if(!jQuery(t).hasClass("cc-link")){cc.log("_internalClickCallback target:"+t);var n=jQuery(t),r=jQuery._data(n[0],"events");(cc.settings.disableClickTrigger||void 0!==r&&void 0!==r.click&&"cc"==r.click[0].namespace)&&(cc.log("_internalClickCallback click is empty"),cc.onconsentgiven(),i=!0),i||""!=cc.clickedElem||(cc.log("preventDefault"),cc.clickedElem=e.target,e.preventDefault(),cc.onconsentgiven(),setTimeout(function(){cc.log("triggering click on: "+cc.clickedElem),cc.clickedElem.trigger("click"),cc.clickedElem=""},cc.settings.scriptwaittime))}},_internalDragCallback:function(){cc.log("triggering scroll. pageYOffset="+window.pageYOffset),0!=window.pageYOffset&&cc.onconsentgiven()},showcustomdialog:function(){if(!(0<jQuery(".legalpage-content__button").length)){for(var e in cc.log("showcustomdialog"),this.strings)0==e.indexOf("cc_cd_lbl")&&jQuery("."+e).append(this.strings[e]);cc.settings.privacypage&&jQuery("a.cc-privacy-link").attr("href",cc.settings.privacypage);var t=jQuery(".cc_cd_lbl_text1");t.hasClass("customscroll")&&!t.hasClass("mCustomScrollbar")&&t.mCustomScrollbar({theme:"dark"}),jQuery(".cc-customdialog").css("z-index",2147483647),jQuery(".cc-customdialog").show(),jQuery("#cc-approve-button-thissite").on("click",cc.onconsentgiven),cc.settings.dragScrollbarToConsent&&setTimeout(function(){cc.log("listening for scroll events"),cc.settings.clickAnyLinkToConsent&&(cc.bindClickEvents(),cc.disableInlineJs()),jQuery(document).scroll(cc._internalDragCallback)},cc.settings.scrolllistenerwaittime)}},showdialog:function(){cc.log("showdialog")},timestamp:function(){return Math.round((new Date).getTime()/1e3)},checkdonottrack:function(){cc.checkeddonottrack=!0,cc.settings.ignoreDoNotTrack||"yes"!=navigator.doNotTrack&&"1"!=navigator.doNotTrack&&"yes"!=navigator.msDoNotTrack&&"1"!=navigator.msDoNotTrack||(cc.settings.consenttype="explicit"),cc.checkapproval()},checkapproval:function(){if(cc.log("checkapproval"),cc.allasked=!0,cc.checkAllChecked=!1,jQuery.each(cc.cookies,function(e,t){"optout"!==e&&(cc.approved[e]?"yes"==cc.approved[e]?(cc.cookies[e].asked=!0,cc.cookies[e].approved=!0,cc.execute(e),i+=1):"no"==cc.approved[e]?(cc.cookies[e].asked=!0,cc.cookies[e].approved=!1,i+=1):cc.allasked=!1:cc.allasked=!1)}),cc.allasked){var i=0;jQuery.each(cc.cookies,function(e,t){jQuery("input:radio[name=cc-radio-"+e+"]").is(":checked")&&(i+=1)}),3<=i&&(cc.checkAllChecked=!0,jQuery(".cc-customdialog").hide())}else{if(!cc.checkedlocal)return void cc.checklocal();if(!cc.checkeddonottrack)return void cc.checkdonottrack();"implicit"==cc.settings.consenttype&&jQuery.each(cc.cookies,function(e,t){cc.cookies[e].asked||(cc.settings.onlyshowbanneronce&&"optout"!==e&&cc.setcookie(cc.settings.cookieprefix+e,"yes",cc.settings.cookiesTimeout),cc.execute(e))}),"dialog"==cc.settings.messagetype&&cc.showdialog(),"customdialog"==cc.settings.messagetype&&jQuery(".cc-customdialog").is(":hidden")&&cc.showcustomdialog()}},execute:function(e){cc.log("execute"),"necessary"!=e&&(cc.cookies[e].executed||(jQuery(".cc-placeholder-"+e).remove(),jQuery("script.cc-onconsent-"+e+'[type="text/disabled"]').each(function(){jQuery(this).attr("src")?jQuery(this).after('<script type="text/javascript" src="'+jQuery(this).attr("src")+'"><\/script>'):jQuery(this).after('<script type="text/javascript">'+jQuery(this).html()+"<\/script>")}),cc.cookies[e].executed=!0,jQuery(document).trigger(cc.settings.cookieprefix+e)))},getcookie:function(e){var t,i,n,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(i=r[t].substr(0,r[t].indexOf("=")),n=r[t].substr(r[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return unescape(n);return!1},setcookie:function(e,t,i){cc.log("setcookie "+e+"="+t);var n=new Date;n.setDate(n.getDate()+i);var r,o=e+"="+t+"; expires="+n.toUTCString()+"; path=/",a=location.hostname;this.settings.domainlevel&&"localhost"!=a&&(o+=";domain=."+(a=a.split(".").slice(-2).join("."))),document.cookie=o,"FRG_chat"!==e||"undefined"==typeof _insideGraph||!(r="yes"===t)!==_insideGraph.current.noCookie&&_insideGraph.current.resetCallback(r);"FRG_analytics"===e&&void 0!==window.measmerize&&void 0!==window.measmerize.tracking&&(r="yes"===t)!==window.measmerize.tracking.analyticsStatus&&(!0===r?window.measmerize.tracking.enableAnalytics():window.measmerize.tracking.disableAnalytics())},onconsentgiven:function(){return cc.log("onconsentgiven"),enableall=!1,enablejustone=!1,cc.isRefusedAll=!1,requiredOnly=!1,(jQuery(this).hasClass("cc-button-enableall")||jQuery(this).hasClass("cc-button-enable-all"))&&(enableall=!0,jQuery.each(cc.cookies,function(e,t){cc.cookies[e].asked=!1,dataLayer&&dataLayer.push({event:"change_FRG_"+e})})),(jQuery(this).hasClass("cc-button-refuseall")||jQuery(this).hasClass("cc-button-refuse-all"))&&(enableall=!1,cc.isRefusedAll=!0,jQuery.each(cc.cookies,function(e,t){cc.cookies[e].asked=!1})),(jQuery(this).hasClass("cc-button-requiredonly")||jQuery(this).hasClass("cc-button-required-only"))&&(enableall=!1,cc.isRefusedAll=!1,requiredOnly=!0,jQuery.each(cc.cookies,function(e,t){"analytics"!==e&&(cc.approved[e]="no",cc.cookies[e].asked=!0,cc.allagree=!1,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout))})),elem=this,jQuery.each(cc.cookies,function(e,t){jQuery(elem).hasClass("cc-button-enable-"+e)&&(enablejustone=!0,cc.approved[e]="yes",cc.cookies[e].asked=!0,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout))}),cc.allagree=!0,enablejustone||((cc.settings.clickAnyLinkToConsent||cc.settings.dragScrollbarToConsent)&&(enableall=!0,jQuery.each(cc.cookies,function(e,t){cc.cookies[e].asked=!1}),cc.unbindClickEvents(),jQuery(document).unbind("scroll",cc._internalDragCallback),cc.enableInlineJs()),jQuery.each(cc.cookies,function(e,t){t.approved||t.asked||(enableall?(cc.approved[e]="optout"===e?"no":"yes",cc.cookies[e].asked=!0,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout)):(cc.approved[e]="no",cc.cookies[e].asked=!0,cc.allagree=!1,"analytics"===e&&cc.approved[e]&&"no"!==cc.approved[e]&&(cc.approved[e]="yes",cc.cookies[e].asked=!0,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout))))})),"customdialog"!=cc.settings.messagetype||cc.isRefusedAll||jQuery(".cc-customdialog").hide(),cc.checkapproval(),cc.isRefusedAll&&(location.href=jQuery(this).attr("href")),0<$(".legalpage-content__button__radio").length&&(!0===enableall||!0===requiredOnly)&&cc.updateradios(),(jQuery(this).hasClass("cc-button-enableall")||jQuery(this).hasClass("cc-button-enable-all"))&&jQuery.each(cc.cookies,function(e,t){dataLayer&&dataLayer.push({event:"change_FRG_"+e})}),cc.setcookie(cc.settings.cookieprefix+"lastAcceptedCookiePolicy",new Date,cc.settings.cookiesTimeout),!1},setLiveChatConsent:function(e){var t=!0===e?"yes":"no";cc.setcookie(cc.settings.cookieprefix+"chat",t,cc.settings.cookiesTimeout),cc.updateradios(),cc.setcookie(cc.settings.cookieprefix+"lastAcceptedCookiePolicy",new Date,cc.settings.cookiesTimeout)},iscookieenabled:function(e){return cc.log("iscookieenabled "+e),jQuery("input:radio[name=cc-radio-"+e+"][value=1]").prop("checked")},updateradios:function(){cc.log("updateradios"),0<cc.getsize(cc.cookies)&&jQuery.each(cc.cookies,function(e,t){cc.log("updateradios key="+e+" val="+cc.approved[e]);var i=-1;"yes"===cc.approved[e]||"yes"===cc.getcookie("FRG_"+e)?(i=1,jQuery("input:radio[name=cc-radio-"+e+"][value="+i+"]").prop("checked",!0)):"no"!==cc.approved[e]&&"no"!==cc.getcookie("FRG_"+e)||(i=0,jQuery("input:radio[name=cc-radio-"+e+"][value="+i+"]").prop("checked",!0))}),jQuery("input:radio[name|=cc-radio]").on("change",function(){if(cc.log("RADIO "+this.value),jQuery(this).is(":checked")){var e=this.name.substring(9);cc.log("RADIO CHECKED! "+e+"="+this.value),cc.approved[e]="1"==this.value?"yes":"no",cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout),dataLayer&&dataLayer.push({event:"change_FRG_"+e,newConsent:cc.approved[e]}),"yes"===cc.getcookie("FRG_optout")&&(cc.approved.optout="no",cc.setcookie(cc.settings.cookieprefix+"optout","no",cc.settings.cookiesTimeout),dataLayer&&dataLayer.push({event:"change_FRG_optout",newConsent:"no"})),cc.checkapproval()}cc.setcookie(cc.settings.cookieprefix+"lastAcceptedCookiePolicy",new Date,cc.settings.cookiesTimeout)})},getsize:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},clearalllocalcookies:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var i=e[t],n=i.indexOf("="),r=-1<n?i.substr(0,n):i;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},clearlocal:function(){cc.clearalllocalcookies(),jQuery(this).before("<p>"+cc.strings.clearedCookies+"</p>")},getcurrenturl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname},onfirstload:function(){if(cc.log("onfirstload"),!cc.setupcomplete&&cc.initobj){if(!window.jQuery){if(cc.jqueryattempts++,5<=cc.jqueryattempts)return;return void setTimeout(cc.onfirstload,200)}cc.setupcomplete=!0,cc.setup()}cc.afterload(),cc.checkapproval()},isapproved:function(e){return"yes"==this.approved[e]},isasked:function(e){return this.cookies[e].asked},afterload:function(){if(cc.log("afterload"),jQuery(".cc-button-enableall").addClass("cc-link").on("click",cc.onconsentgiven),jQuery(".cc-button-enable-all").addClass("cc-link").on("click",cc.onconsentgiven),jQuery(".cc-button-refuseall").addClass("cc-link").on("click",cc.onconsentgiven),jQuery(".cc-button-refuse-all").addClass("cc-link").on("click",cc.onconsentgiven),jQuery(".cc-button-requiredonly").addClass("cc-link").on("click",cc.onconsentgiven),jQuery.each(cc.cookies,function(e,t){jQuery(".cc-button-enable-"+e).addClass("cc-link").on("click",cc.onconsentgiven)}),"hybrid-allenabled"==cc.settings.consenttype){var i={};jQuery.each(cc.cookies,function(e,t){cc.cookies[e].asked||(i[e]="yes")}),cc.setcookies(i),cc.updateradios()}"explicit"==cc.settings.consenttype&&(jQuery.each(cc.cookies,function(e,t){"analytics"===e&&(cc.getcookie("FRG_analytics")?"no"===cc.getcookie("FRG_analytics")&&(cc.approved[e]="no",cc.cookies[e].asked=!0,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout)):(cc.approved[e]="yes",cc.cookies[e].asked=!0,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout)))}),cc.updateradios()),cc.readyCallback(),0<jQuery("#cookiePreferences-cpra").length&&("yes"===cc.getcookie("FRG_optout")&&jQuery("#cookiePreferences-cpra").prop("checked",!0),jQuery("#cookiePreferences-cpra").on("change",function(){jQuery("#cookiePreferences-cpra").is(":checked")?jQuery.each(cc.cookies,function(e,t){cc.approved[e]="optout"===e?"yes":"no",cc.cookies[e].asked=!0,cc.allagree=!1,cc.setcookie(cc.settings.cookieprefix+e,cc.approved[e],cc.settings.cookiesTimeout),dataLayer&&dataLayer.push({event:"change_FRG_"+e,newConsent:cc.approved[e]})}):(cc.approved.analytics="yes",cc.cookies.analytics.asked=!0,cc.approved.optout="no",cc.allagree=!1,cc.setcookie(cc.settings.cookieprefix+"analytics","yes",cc.settings.cookiesTimeout),cc.setcookie(cc.settings.cookieprefix+"optout","no",cc.settings.cookiesTimeout),dataLayer&&(dataLayer.push({event:"change_FRG_analytics",newConsent:"yes"}),dataLayer.push({event:"change_FRG_optout",newConsent:"no"}))),cc.setcookie(cc.settings.cookieprefix+"lastAcceptedCookiePolicy",new Date,cc.settings.cookiesTimeout),jQuery(".frgr23_overlayCookies").is(":visible")&&jQuery(".frgr23_overlayCookies").hide()}))}};cc.initialise(ccSettings),cc.onfirstload(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";return e.tcl=e.tcl||{},e.tcl={modules:[],register:function(e,t,i){-1===this.modules.indexOf(e)||i?(this.modules.push(e),this[e]=t):debug.warn("The module [",e,"] is already loaded")}},e.tcl}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl"],e):e(jQuery)}(function(e){"use strict";e.tcl.wrapperJson=e.tcl.wrapperJson||{},e.tcl.wrapperJson={wrapper:function(e,t,i){var n={};n.id=i.id,n.orderId=i.orderId,n.grandTotal=i.grandTotal,n.grandTotalCurrency=i.grandTotalCurrency,n.shippingCharge=i.totalShippingCharge;var r=parseFloat(i.totalSalesTax),o=parseFloat(i.totalShippingTax);n.taxes=r+o,n.totalAdjustment=i.totalAdjustment,n.recordSetCount=i.recordSetCount,n.itemList=[];for(var a=i.orderItem,s=0,l=0,c=0;c<a.length;c++){var d={};d.itemId=a[c].orderItemId,d.productId=a[c].productId,d.partNumber=a[c].partNumber,d.parentPartNumber=d.partNumber.substring(0,6),d.quantity=Math.round(parseFloat(a[c].quantity)),d.price=Math.round(parseFloat(a[c].unitPrice)),void 0!==a[c].orderItemPriceSale&&(d.priceSale=Math.round(parseFloat(a[c].orderItemPriceSale))),d.amount=d.price*d.quantity,d.currency=a[c].currency,s+=d.amount,l+=d.quantity,n.itemList.push(d)}n.grandTotal=s,n.recordSetCount=l,i=n}},e.tcl.register("wrapperJson",e.tcl.wrapperJson)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl"],e):e(jQuery)}(function(s){"use strict";s.tcl.restClient=s.tcl.restClient||{},s.tcl.restClient={POST:"post",GET:"get",PUT:"put",DELETE:"delete",getList:function(e,t){return r(e,this.GET,{},t)},getDetail:function(e,t,i){return r(e+t,this.GET,{},i)},postItem:function(e,t,i){return r(e,this.POST,t,i)},putItem:function(e,t,i,n){return r(e+t,this.PUT,i,n)},deleteItem:function(e,t,i,n){return r(e+t,this.DELETE,i,n)},getESpotData:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?name="+e+"&langId="+COMMON.langId;return s.tcl.restClient.getList(i,{async:!0})}};var r=function(t,i,e,n){if(void 0===t)return void debug.error("the action url is ",t);var r=s(".cmp-page-loader--main"),o=isStaticFE,a={url:t,method:i||"GET",contentType:"application/json",dataType:"json",data:e||{},async:!0,cache:o,success:function(e){"/cart"==t&&"get"==i&&function(e,t,i){s.tcl.wrapperJson.wrapper(e,t,i)}(t,i,e)},beforeSend:function(){n||(COMMON.activeAjaxConnections++,r.loader(),r.loader("setVisibility",!0),COMMON.checkNotAjaxConn=!1)},complete:function(){n||(COMMON.activeAjaxConnections--,0==COMMON.activeAjaxConnections&&(COMMON.checkNotAjaxConn=!1,r.loader(),r.loader("setVisibility",!1),s(document).trigger("loader_hidden"),s(".lazy-load").length===s(".lazy-load.img-loaded").length&&console.log("backstopjs_ready")))}};n&&s.extend(a,n);return debug.debug(a),s.ajax(a)};s.tcl.register("restClient",s.tcl.restClient)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl"],e):e(jQuery)}(function(i){"use strict";i.tcl.localStorageHelper=i.tcl.localStorageHelper||{},i.tcl.localStorageHelper={getValue:function(e){var t,i=localStorage[e];if(localStorage[e])try{t=JSON.parse(i)}catch(e){t=i}return t},setValue:function(e,t){return localStorage[e]=JSON.stringify(t),!!function(e,t){return i.tcl.localStorageHelper.getValue(e)===t}(e,t)||(delete localStorage[e],!1)},getLocalStorage:function(e){var t="/wcs/resources/store/"+e+"/FGconfiguration";return i.tcl.restClient.getDetail(t,"",{async:!1,cache:!0})}},i.tcl.register("localStorageHelper",i.tcl.localStorageHelper)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","restClient","localStorageHelper"],e):e(jQuery)}(function(n){"use strict";function e(e){var t=n("#param").data("storeid"),i=n.tcl.localStorageHelper.getValue(e+"_"+t+"_"+COMMON.langId);return null!=i&&null!=i&&""!=i&&void 0!==i||(function(i){var e=function(e){if(tcl_mocker.enabled)t="/FGconfiguration";else var t="/wcs/resources/store/"+e+"/FGconfiguration?langId="+COMMON.langId;return n.tcl.restClient.getList(t,{async:!1,cache:!0})}(i);n.when(e).done(function(e){debug.log("------wcs properties------"),debug.log(e),n.each(e,function(e,t){console.log(e+" <=> "+t),n.tcl.localStorageHelper.setValue(e+"_"+i+"_"+COMMON.langId,t)}),debug.log("Invoked REST service 'FGconfiguration' to retrive wcs properties and stored in localStorage")}).fail(function(e,t,i){var n="";if(e.responseText){var r=e.responseJSON.errors;if(r&&r[0]&&r[0].errorKey&&"ERR_COOKIE_EXPIRED"===r[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;n=r&&0<r.errors.length?r&&r.errors[0].message?r.errors[0].dataPath+": "+r.errors[0].message:r.errors[0].errorMessage?r.errors[0].errorMessage:r.errors[0]:i.responseText}else n=i;console.error(n.errorMessage)}).always(function(){})}(t),null!=(i=n.tcl.localStorageHelper.getValue(e+"_"+t+"_"+COMMON.langId))&&null!=i&&""!=i&&void 0!==i||(i=n.tcl.localStorageHelper.getValue(e+"_"+t)))?i:(debug.log("****** $.tcl.wcsProperties.get"+e+"() NOT present in localStorage"),null)}n.tcl.wcsProperties=n.tcl.wcsProperties||{},n.tcl.wcsProperties={SYMBOL:"currencyFormatSymbol",PATTERN:"currencyFormatPattern",EXTISOCODE:"currencyFormatSymbolExtIsocode",SYMBOLEXT:"currencyFormatSymbolExt",SYMBOLEXTVARINA:"currencyFormatSymbolExtVarina",SYMBOLJA:"currencyFormatSymbolJa",COUNTRY:"country",COUNTRY_SHIPPING_TO:"country_shipping_to",COUNTRY_SHIPPING_TO_FULL:"country_shipping_to_full",COUNTRYCODEFORSIZEANDWIDTH:"countryCodeForSizeAndWidth",SHIPMODE:"shipmode.name.pickupinstore",LOGLEVEL:"log.level",PDPAGGREGATIONATTRNAME:"productpageAggregationAttributeName",PDPDISTINGUISHATTRNAME:"productpageDistinguishAttributeName",getCurrencyFormatSymbol:function(){return e(this.SYMBOL)},getCurrencyFormatPattern:function(){return e(this.PATTERN)},getCurrencyFormatSymbolExtIsocode:function(){return e(this.EXTISOCODE)},getCurrencyFormatSymbolExt:function(){return e(this.SYMBOLEXT)},getCurrencyFormatSymbolExtVarina:function(){return e(this.SYMBOLEXTVARINA)},getCurrencyFormatSymbolJa:function(){return e(this.SYMBOLJA)},getCountry:function(){return e(this.COUNTRY)},getCountryShippingTo:function(){return e(this.COUNTRY_SHIPPING_TO)},getCountryShippingToFull:function(){return e(this.COUNTRY_SHIPPING_TO_FULL)},getCountryCodeForSizeAndWidth:function(){return e(this.COUNTRYCODEFORSIZEANDWIDTH)},getShipMode:function(){return e(this.SHIPMODE)},getLogLevel:function(){return e(this.LOGLEVEL)},getPDPAggregationAttributeName:function(){return e(this.PDPAGGREGATIONATTRNAME)},getPDPDistinguishAttributeName:function(){return e(this.PDPDISTINGUISHATTRNAME)}},n.tcl.register("wcsProperties",n.tcl.wcsProperties)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","jCookies"],e):e(jQuery)}(function(n){"use strict";function i(e){return n.jCookies({get:e})}function r(e,t,i){n.jCookies({name:e,value:t,expires:i})}n.tcl.wcs=n.tcl.wcs||{},n.tcl.wcs={setDeleteCartCookie:function(){r("WC_DeleteCartCookie_"+COMMON.storeId,!0)},deleteLoginCookies:function(){var e=i("WC_LogonUserId_"+COMMON.storeId);null!==e&&!1!==e&&r("WC_LogonUserId_"+COMMON.storeId,null,-1);var t=i("WC_AUTHENTICATION_"+COMMON.userId);null!==t&&!1!==t&&r("WC_AUTHENTICATION_"+COMMON.userId,null,-1)},getCookie:i,setCookie:r,deleteCookie:function(){}},n.tcl.register("wcs",n.tcl.wcs)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.wrapperJson"],e):e(jQuery)}(function(o){"use strict";o.tcl.ajax=o.tcl.ajax||{},o.tcl.ajax={POST:"post",GET:"get",get:function(e,t){return n(e,this.GET,{},t)},post:function(e,t,i){return n(e,this.POST,t)}};var n=function(e,t,i,n){if(void 0===e)return void debug.error("the action url is ",e);null==n&&(n=!0);var r={url:e,method:t||"GET",data:i||{},async:n};return debug.debug(r),o.ajax(r)};o.tcl.register("ajax",o.tcl.ajax)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(o){"use strict";function n(e){return encodeURI(e).replace(/#/g,"%23").replace(/:/g,"%3a").replace(/\//g,"%2f")}function a(e){return encodeURI(e).replace(/#/g,"%23")}function s(e){return e||window.location.href}function l(e){return e||document.title}function c(e){if(URI&&void 0!==e){var t=URI(e),i=URI(window.location.href);return""===t.authority()&&t.authority(i.authority()),""===t.protocol()&&t.protocol(i.protocol()),t.toString()}return""}o.tcl.sharer=o.tcl.sharer||{shareOnFacebook:function(e,t,i,n){"127.0.0.1"===document.domain&&alert("Per utilizzare la funzione di share facebook  necessario accedere al sito tramite http://localhost:8080 invece che http://127.0.0.1:8080");o.ajax({url:"//connect.facebook.net/en_US/sdk.js",dataType:"script",cache:!0,success:function(){FB.init({appId:FB_ID,xfbml:!1,version:FB_VER}),setTimeout(function(){!function(e,t,i){var n=_.unescape(e),r=t,o=i;if(n=s(n),o=c(o),void 0!==r&&void 0!==o&&""!==r&&""!==o){var a={"og:url":n,"og:title":r,"og:image":o};FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:a})})}else"localhost"===document.domain&&alert("La funzione di Share dialog non funziona in locale e in ambienti non pubblici (la pagina deve essere raggiungibile da facebook)"),FB.ui({method:"share",href:n},function(e){})}(e,t,i)},1e3)}})},shareOnTwitter:function(e,t){e=s(e);var i="https://twitter.com/share?url="+encodeURIComponent(e)+"&text="+n(t);window.open(i,"newWindow","width=626, height=436")},shareOnPinterest:function(e,t,i){e=s(e),t=l(t),i=c(i);var n=_.unescape(e),r="?url="+encodeURIComponent(n)+"&description="+a(t);void 0!==i&&""!==i&&(r+="&media="+a(i));window.open("https://pinterest.com/pin/create/button/"+r,"newWindow","width=626, height=436")},shareOnGPlus:function(e){e=s(e),window.open("https://plus.google.com/share?url="+n(e),"newWindow","width=626, height=436")},shareOnWeChat:function(e){var t="weixin://dl/posts?text="+n(e=s(e));window.open(t,"_blank")},shareOnWhatsApp:function(e){e=s(e);var t="whatsapp://send?text="+encodeURIComponent(e);window.open(t)},shareOnEmail:function(t,i,n,r){t=s(t),i=l(i),o.ajax({type:"GET",url:emailShareFormModalURL,success:function(e){o("#modalEmailShare").empty(),o("#modalEmailShare").html(e),o(document).emailSharePopup("refresh"),o(document).emailSharePopup("open",{link:t,title:i,image:n,description:r})}})},shareOnMailto:function(e,t,i,n){e=s(e),t=l(t);var r=n+"\n\n"+e+"\n\n";window.open("mailto:?subject="+encodeURIComponent(t)+"&body="+encodeURIComponent(r),"_blank")},shareOnLinkedin:function(e,t){e=s(e);var i="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t);window.open(i,"_blank")}},o.tcl.register("sharer",o.tcl.sharer)}),function(s){localStorageUtilitiesJS={getJSessionId:function(){var e=document.cookie.match(/SFSESSIONID=[^;]+/);return null!=e&&(e=e instanceof Array?e[0].split("=")[1]:e.split("=")[1]),e},getViewAllUrl:function(e){var t=localStorageUtilitiesJS.getJSessionId(),i="urllist_"+e+"|"+t,n="urllist_filter_"+e+"|"+t,r=localStorageUtilitiesJS.retriveOnLocalStore(n);return void 0===r&&(r=localStorageUtilitiesJS.retriveOnLocalStore(i)),r.currentUrl},checkFirstElementSearchOnCategory:function(e,t){var i=!1,n=this.retriveOnLocalStore(e);if(null!=n){var r=n.list;0<r.length&&r[0].partNumber==t&&(i=!0)}return i},checkLastElementSearchOnCategory:function(e,t){var i=!1,n=this.retriveOnLocalStore(e);if(null!=n){var r=n.list;0<r.length&&r[r.length-1].partNumber==t&&(i=!0)}return i},checkOrDeleteCurrentKeyOnSessionId:function(e,t,i,n){for(var r=!1,o=0,a=localStorage.length;o<a;o++){var s=localStorage.key(o);if(null!=s)try{if(-1!=s.indexOf(i))if(n&&t==s)localStorage.removeItem(s),r=!1;else{var l=(new Date).getTime(),c=this.retriveOnLocalStore(s),d=new Array;d=s.split("|"),null!=c&&1<d.length&&(l>c.expired?localStorage.removeItem(s):d[1]!=e?localStorage.removeItem(s):s==t&&(r=!0))}}catch(e){}}return r},fullSearchOnCategory:function(e,t,i,n,r,o,a){var s=!1;"urllist_search"==t.split("|")[0]&&(s=!0),this.checkOrDeleteCurrentKeyOnSessionId(e,t,"urllist",s)||this.callSearchOnCategoryAsync(t,i,n,r,o,a)},fullSearchOnCategorySync:function(e,t,i,n,r,o,a){var s=!1;"urllist_search"==t.split("|")[0]?s=!0:-1!=t.indexOf("urllist_filter")&&(s=!0),this.checkOrDeleteCurrentKeyOnSessionId(e,t,"urllist",s)||this.callSearchOnCategorySyncProductPage(t,i,n,r,o,a)},callSearchOnCategoryAsync:function(t,e,i,n,r,o){var a={};a.parent_category_rn=e,a.top_category=i,a.categoryId=WCParamJS.categoryId,a.storeId=WCParamJS.storeId,a.catalogId=WCParamJS.catalogId,a.langId=WCParamJS.langId,a.pageView=WCParamJS.pageView,a.orderBy=o,"urllist_search"==t.split("|")[0]?(a.searchTerm=WCParamJS.searchTerm,a.beginIndex=r):-1!=t.indexOf("urllist_filter")&&(a.facet=WCParamJS.facet,a.beginIndex=r,a.fromFilter="true"),this.createCatListJSONOnLS(t,WCParamJS.categoryId,n),wcTopic.publish("ajaxRequestInitiated"),s.ajax({url:"fullSearchOnCategoryJSON",dataType:"json",traditional:!0,data:a,success:function(e){localStorageUtilitiesJS.saveCatListJSONOnLS(t,e),wcTopic.publish("ajaxRequestCompleted")},error:function(e,t){console.debug("error - inside fullSearchOnCategory()"),console.debug(e),wcTopic.publish("ajaxRequestCompleted")}})},callSearchOnCategorySyncProductPage:function(t,e,i,n,r,o){var a={};a.parent_category_rn=e,a.top_category=i,a.categoryId=WCParamJS.categoryId,a.storeId=WCParamJS.storeId,a.catalogId=WCParamJS.catalogId,a.langId=WCParamJS.langId,a.pageView=WCParamJS.pageView,"urllist_search"==t.split("|")[0]?(a.searchTerm=WCParamJS.searchTerm,a.beginIndex=r):-1!=t.indexOf("urllist_filter")&&(a.facet=n,a.facetValue=n,a.beginIndex=r,a.orderBy=o,a.fromFilter="true"),this.createCatListJSONOnLS(t,WCParamJS.categoryId,n),wcTopic.publish("ajaxRequestInitiated"),s.ajax({url:"fullSearchOnCategoryJSON",dataType:"json",traditional:!0,data:a,async:!1,success:function(e){localStorageUtilitiesJS.saveCatListJSONOnLS(t,e),wcTopic.publish("ajaxRequestCompleted")},error:function(e,t){console.debug("error - inside fullSearchOnCategory()"),console.debug(e),wcTopic.publish("ajaxRequestCompleted")}})},saveCatListJSONOnLS:function(e,t){var i=this.retriveOnLocalStore(e);i.list=t.list,i.currentUrl=location.href;var n=JSON.stringify(i);try{localStorage.setItem(e,n)}catch(e){console.error(e),console.debug("localStorage.setItem is not supported. maybe because the browser is in private mode")}},createCatListJSONOnLS:function(e,t,i){var n={};n.categoryId=t,n.expired=this.expiredLS(),n.filter=null!=i?i:"",n.list=[];var r=JSON.stringify(n);try{localStorage.setItem(e,r)}catch(e){console.error(e),console.debug("localStorage.setItem is not supported. maybe because the browser is in private mode")}},saveOnLocalStore:function(e,t){try{localStorage.setItem(e,t)}catch(e){console.error(e),console.debug("localStorage.setItem is not supported. maybe because the browser is in private mode")}},retriveOnLocalStore:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},expiredLS:function(){return(new Date).getTime()+3e5}}}(jQuery);var COMMON=COMMON||{};!function(b){COMMON={init:function(){},showAjaxErrorMessage:function(e){var t="";if(e.responseText&&403!==e.status){var i=e.responseJSON.errors;if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;t=i?i.errors?i&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText:i[0]:e.responseText}else t=403===e.status?errorMessageXSS:e;null!=t.errorMessage&&(console.error(t.errorMessage),CMP.modal.error(t.errorMessage))},getPersonalInformation:function(){var e=b.tcl.userServices.loadPersonalInformation(COMMON.storeId,!1);b.when(e).done(function(e){debug.info("-------Personal Information------"),debug.log(e),COMMON.personalInformation=e,COMMON.logonId=e.nickName,COMMON.userId=e.userId,void 0===e.gender?COMMON.userGender="":COMMON.userGender="Female"===e.gender?"F":"M",COMMON.isUserLogged=!1;COMMON.userType="G",void 0!==COMMON.logonId&&(COMMON.isUserLogged=!0,COMMON.userType="R")}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e)}).always(function(){})},getPersonalInformationR21:function(){var e=b.tcl.userServices.loadPersonalInformationR21(COMMON.storeId,!1);b.when(e).done(function(e){debug.info("-------Personal Information R21------"),debug.log(e),COMMON.addressBook=void 0!==e.addressBook?e.addressBook:{},COMMON.contactInfo=void 0!==e.contactInfo?e.contactInfo:{},COMMON.logonId=void 0!==e.contactInfo.logonId?e.contactInfo.logonId:"",COMMON.userId=void 0!==e.contactInfo.userId?e.contactInfo.userId:"",void 0===e.contactInfo.gender?COMMON.userGender="":COMMON.userGender="Female"===e.contactInfo.gender?"F":"M",COMMON.isUserLogged=!1;COMMON.userType="G",void 0!==COMMON.logonId&&""!==COMMON.logonId&&(COMMON.isUserLogged=!0,COMMON.userType="R")}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e)}).always(function(){})},isEmployee:function(){var e=b.tcl.userServices.loadUserGroups(COMMON.storeId,!1);b.when(e).done(function(e){debug.info("-------User Groups------"),debug.log(e),COMMON.userGroups=e.resultList,b(e.resultList).each(function(e,t){t.memberGroupName.startsWith(COMMON.employeeGroup)&&(document.cookie="FRG_EMPLOYEE=yes")})}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e)})},getLocalStorage:function(){var e=b.tcl.localStorageHelper.getLocalStorage(COMMON.storeId);b.when(e).done(function(n){debug.info("-----------Get data from store configuration----------"),debug.log(n);var e=Object.keys(n);b(e).each(function(e,t){var i=t;b.tcl.localStorageHelper.setValue(i,n[i])})}).fail(function(e,t,i){debug.info("------ERRORE------"),debug.info("textStatus: "+t),debug.info("data: "+i),debug.info("jqXHR: "+e),COMMON.showAjaxErrorMessage(e)})},registerNewsletter:function(e){var t=b.tcl.userServices.registerNewsletter(COMMON.storeId,e);b.when(t).done(function(e){debug.log(e),b(document).newsletterPopup("confirmMessagePopup",this),ga("send","event","Newsletter","Confirmation"),b(document).newsletterPopup("resetCaptcha",this)}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e),b(document).newsletterPopup("resetCaptcha",this)})},registerNewsletterQuick:function(t,e){var i=b.tcl.userServices.registerNewsletterQuick(COMMON.storeId,t,e);b.when(i).done(function(e){debug.log(e),"checkout-r21"===MAIN.pageTemplate?(B_GOOGLE_TAG_MANAGER.setDataLayerNewsletterRegistration(t),location.href=B_CHECKOUT.checkoutUrlStepShipping):(b(document).footer("confirmMessagePopup",this),B_GOOGLE_TAG_MANAGER.setDataLayerNewsletterRegistration(t),b(document).footer("resetCaptcha",this))}).fail(function(e,t,i){"checkout-r21"===MAIN.pageTemplate?location.href=B_CHECKOUT.checkoutUrlStepShipping:(COMMON.showAjaxErrorMessage(e),b(document).footer("resetCaptcha",this))})},registerNewsletterExtra:function(t){COMMON.newsletterService=t.serviceName;var e=b.tcl.userServices.registerNewsletterExtra(COMMON.storeId,t);b.when(e).done(function(e){debug.log(e),void 0!==t.gaEventName?ga("send","event",t.gaEventName,"Confirmation"):"enigma"===COMMON.newsletterService&&(ga("send","event","Enigma EDM subscribers","Confirmation"),B_GOOGLE_TAG_MANAGER.setDataLayerEnigmaRegistration()),b(document).gamification("resetCaptcha",this),"enigma"===COMMON.newsletterService?b(document).gamification("confirmMessageEnigmaPopup",this):b(document).gamification("confirmMessagePopup",this,COMMON.newsletterService)}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e),b(document).gamification("resetCaptcha",this)})},sendFormAttributes:function(e){COMMON.newsletterService=e.serviceName;var t=b.tcl.userServices.registerNewsletterExtra(COMMON.storeId,e);b.when(t).done(function(e){debug.log(e),b(document).gamification("resetCaptcha",this),b(document).gamification("showEventFormTY",this,COMMON.newsletterService)}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e),b(document).gamification("resetCaptcha",this)})},registrationContact:function(e){var t=b.tcl.userServices.registerContact(COMMON.storeId,e);b.when(t).done(function(e){debug.log(e);var t=e.success,i=e.locale;if("true"==t)b(document).contactPopup("confirmRegistrationContact",this),b(document).contactPopup("resetCaptcha",this);else{e.msgTitle,e.msgSubTitle;var n=e.name,r=e.surname,o=e.email,a=e.message,s=e.emailw,l=e.country,c=e.enquire,d=contactErrorMap.FRG_MSG_SUBTITLE+"<br/><br/>",u=(e.captchaId,e.captchaErr,e.captchaCode),h="",p="",f="",m=e.policy1,g=e.policy2,v=e.policy3,y=e.policy4;"ja_JP"==i&&(h=e.lastNameReading,p=e.firstNameReading,f=e.phonew),"empty"==n&&(d+=contactErrorMap.CONTACT_NAME_EMPTY),"empty"==c&&(d+="<br/>"+contactErrorMap.CONTACT_ENQUIRE_EMPTY),"empty"==r&&(d+="<br/>"+contactErrorMap.CONTACT_SURNAME_EMPTY),"empty"==o&&(d+="<br/>"+contactErrorMap.CONTACT_MAIL_EMPTY),"empty"==a&&(d+="<br/>"+contactErrorMap.CONTACT_MSG_EMPTY),"wrong"==s&&(d+="<br/>"+contactErrorMap.CONTACT_MAIL_WRONG),"empty"==l&&(d+="<br/>"+contactErrorMap.CONTACT_COUNTRY_EMPTY),"empty"==u&&($jq("#captcha").show(),$jq("#error_message_captcha").hide(),d+="<br/>"+contactErrorMap.FRG_CONTACT_CAPTCHA_EMPTY),"error"==u&&($jq("#captcha").hide(),$jq("#error_message_captcha").show(),d+="<br/>"+contactErrorMap.FRG_CONTACT_CAPTCHA_WRONG),"ja_JP"==i&&("empty"==h&&(d+="<br/>"+contactErrorMap.CONTACT_LAST_NAME_READING_EMPTY),"empty"==p&&(d+="<br/>"+contactErrorMap.CONTACT_FIRST_NAME_READING_EMPTY),"wrong"==f&&(d+="<br/>"+contactErrorMap.CONTACT_PHONE_WRONG)),"ko_KR"==i&&("false"==m&&(d+="<br/>"+contactErrorMap.FRG_CONTACT_POLICY_EMPTY),"false"==g&&(d+="<br/>"+contactErrorMap.FRG_CONTACT_POLICY_EMPTY),"false"==v&&(d+="<br/>"+contactErrorMap.FRG_CONTACT_POLICY_EMPTY),"false"==y&&(d+="<br/>"+contactErrorMap.FRG_CONTACT_POLICY_EMPTY)),b(document).contactPopup("resetCaptcha",this),CMP.modal.error(d)}}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e),b(document).contactPopup("resetCaptcha",this)})},registrationContactTFour:function(e,t){COMMON.formId=t;var i=b.tcl.userServices.registerContactTFour(COMMON.storeId,e);b.when(i).done(function(e){debug.log(e),"size-guide"===COMMON.formId?(b(document).contactPopupSizeGuide("confirmRegistrationContact",this),b(document).contactPopupSizeGuide("resetCaptcha",this),COMMON.formId=""):(b(document).contactPopup("confirmRegistrationContact",this),b(document).contactPopup("resetCaptcha",this))}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e),b(document).contactPopup("resetCaptcha",this)})},formatNumberInt:function(e){var t=(t=b.formatNumber(e,{format:"###,###,##0"})).replace(new RegExp(",","gi"),"");return parseFloat(t)},formatNumber:function(e){var t=(t=b.formatNumber(e,{format:COMMON.formatPattern})).replace(new RegExp(",","gi"),"");return parseFloat(t)},formatNumberThousandsSeparator:function(e){var t="";if(COMMON.frgStoreIdentifier===COMMON.storeIdFR||COMMON.frgStoreIdentifier===COMMON.storeIdIT||COMMON.frgStoreIdentifier===COMMON.storeIdES||COMMON.frgStoreIdentifier===COMMON.storeIdKR||COMMON.frgStoreIdentifier===COMMON.storeIdMX){var i=COMMON.localeCountry.substring(0,2),n=2,r=2;void 0!==e&&("string"==typeof e&&(e=b.parseNumber(e)),t=COMMON.frgStoreIdentifier===COMMON.storeIdMX?(i="es-MX",b.formatNumber(e,{format:COMMON.formatPattern,locale:i})):("ko"===i&&(r=n=0),e.toLocaleString(i,{minimumFractionDigits:n,maximumFractionDigits:r})))}else void 0!==e&&(t=b.formatNumber(e,{format:COMMON.formatPattern}));return t},formatDateShortPattern:function(e,t){return COMMON.formatDate(e,t,COMMON.shortDateFormatPattern)},formatDateLongPattern:function(e,t){return COMMON.formatDate(e,t,COMMON.longDateFormatPattern)},formatDate:function(e,t,i){if(null==e)return null;null!=t&&""!=t||(t="en_US"),null!=i&&""!=i||(i=COMMON.shortDateFormatPattern);var n=t.substr(0,2);switch(moment.locale(n),t.toLowerCase()){case"zh_cn":moment.locale("zh_cn");break;case"en_gb":moment.locale("en_gb")}return formattedDate=moment(e).format(i),formattedDate},urlParam:function(e){return new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href)[1]||0},isPresaleEnabled:function(){var e=moment(new Date),t=moment(COMMON.presalesStartDate,moment.ISO_8601),i=moment(COMMON.presalesEndDate,moment.ISO_8601);return document.cookie.includes("FRG_PRESALE=yes")&&(e.isBetween(t,i,"seconds")||e.isSame(t,"seconds")||e.isSame(i,"seconds"))},isFlashSaleEnabled:function(){var e=!1;return document.cookie.includes("FRG_FLASHSALE=yes")?e=!0:"R"===COMMON.userType&&(document.cookie.includes("FRG_EMPLOYEE")||COMMON.isEmployee(),document.cookie.includes("FRG_EMPLOYEE=yes")&&(e=!0)),e},getFaq:function(e){var t=b.tcl.cartServices.getFaqData(e);return b.when(t).fail(function(e){COMMON.showAjaxErrorMessage(e)}),t},clearAllData:function(){COMMON={}},getESpot:function(e,t){var i=b.tcl.restClient.getESpotData(e,t);return b.when(i).fail(function(e){COMMON.showAjaxErrorMessage(e)}),i},hex:function(e){for(var t="",i=new DataView(e),n=0;n<i.byteLength;n+=4){t+=("00000000"+i.getUint32(n).toString(16)).slice(-"00000000".length)}return t}}}(jQuery),function(i){var t=Array.prototype.slice,n={dict:null,load:function(e){null!==this.dict?i.extend(this.dict,e):this.dict=e},_:function(e){return dict=this.dict,dict&&dict.hasOwnProperty(e)&&(e=dict[e]),args=t.call(arguments),args[0]=e,this.printf.apply(this,args)},printf:function(e,n){return arguments.length<2?e:(n=Array.isArray(n)?n:t.call(arguments,1),e.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,t,i){return i?t+n[parseInt(i)-1]:t+n.shift()}).replace(/%%s/g,"%s"))}};i.fn._t=function(e,t){return i(this).html(n._.apply(n,arguments))},i.i18n=n}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(a){"use strict";return void 0===a&&(a=jQuery),a.widget("custom.eSpotHelper",{refresh:function(e){var r=this;void 0===e&&(e=a("body")),e.find("[data-espot]").each(function(e,t){var i=a(t),n=i.attr("data-espot");r._fetchESpot(i,n)})},_create:function(){this.vars={fetchedESpots:{}},this.refresh()},_fetchESpot:function(n,r){var o=this;r in o.vars.fetchedESpots?o._renderESpot(n,r,o.vars.fetchedESpots[r]):a.when(COMMON.getESpot(r)).done(function(e){if(e.MarketingSpotData&&0<e.MarketingSpotData.length)if(e.MarketingSpotData[0].baseMarketingSpotActivityData){var t=void 0!==e.MarketingSpotData[0].marketingSpotDataTitle?e.MarketingSpotData[0].marketingSpotDataTitle[0].marketingContentDescription[0].marketingText:"",i={espotName:e.MarketingSpotData[0].eSpotName,espotTitle:t,espotHTML:e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText};o.vars.fetchedESpots[r]=i,o._renderESpot(n,r,i)}else console.log("Espot "+r+" is empty");else console.error("cartR21: Could not get the espot data: "+r)})},_renderESpot:function(e,t,i){var n=e.attr("data-espot-template"),r=e.attr("data-replace");void 0!==n&&!1!==n&&(void 0!==r&&0<r.length&&(i.espotDataReplace=JSON.parse(r)),e.empty().append(template(n,i)),this._checkInfoDetails(t))},_checkInfoDetails:function(e){"CartR21SummaryInfo"===e&&0===a('div[data-espot="CartR21SummaryInfoDetails"] > div > p').length&&a('a[data-target="#cartR21SummaryInfoDetails"]').hide(),"CartR21SummaryInfo"===e&&0<a('[data-toggle="tooltip"]').length&&a('[data-toggle="tooltip"]').tooltip(),"CONSENT_DATA_TO_ANTIFRAUD"===e&&a("#consentDataToAntifraud_terms").addClass("cmp-square").removeClass("cmp-checkbox")}}),a.eSpotHelper=function(e,t){a(e).eSpotHelper(t)},a(function(e){e(document).eSpotHelper()}),a}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).PerfectScrollbar=t()}(this,function(){"use strict";function m(e){return getComputedStyle(e)}function d(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n+="px"),e.style[i]=n}return e}function u(e){var t=document.createElement("div");return t.className=e,t}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function a(e,t){if(!i)throw new Error("No element matching method supported");return i.call(e,t)}function r(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function o(e,t){return Array.prototype.filter.call(e.children,function(e){return a(e,t)})}var y={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},s={x:null,y:null};function b(e,t){var i=e.element.classList,n=y.state.scrolling(t);i.contains(n)?clearTimeout(s[t]):i.add(n)}function _(e,t){s[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(y.state.scrolling(t))},e.settings.scrollingThreshold)}function n(e){this.element=e,this.handlers={}}var e={isEmpty:{configurable:!0}};n.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(t,i){var n=this;this.handlers[t]=this.handlers[t].filter(function(e){return!(!i||e===i)||(n.element.removeEventListener(t,e,!1),!1)})},n.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},e.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(n.prototype,e);function h(){this.eventElements=[]}function p(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function t(e,t,i,n,r){var o;if(void 0===n&&(n=!0),void 0===r&&(r=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,i,n,r){var o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],d=i[5];void 0===n&&(n=!0);void 0===r&&(r=!1);var u=e.element;e.reach[l]=null,u[s]<1&&(e.reach[l]="start");u[s]>e[o]-e[a]-1&&(e.reach[l]="end");t&&(u.dispatchEvent(p("ps-scroll-"+l)),t<0?u.dispatchEvent(p("ps-scroll-"+c)):0<t&&u.dispatchEvent(p("ps-scroll-"+d)),n&&function(e,t){b(e,t),_(e,t)}(e,l));e.reach[l]&&(t||r)&&u.dispatchEvent(p("ps-"+l+"-reach-"+e.reach[l]))}(e,i,o,n,r)}function f(e){return parseInt(e,10)||0}h.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new n(t),this.eventElements.push(e)),e},h.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},h.prototype.unbind=function(e,t,i){var n=this.eventElement(e);n.unbind(t,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},h.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},h.prototype.once=function(e,t,i){var n=this.eventElement(e),r=function(e){n.unbind(t,r),i(e)};n.bind(t,r)};var g={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function C(e){var t=e.element,i=Math.floor(t.scrollTop),n=t.getBoundingClientRect();e.containerWidth=Math.ceil(n.width),e.containerHeight=Math.ceil(n.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(o(t,y.element.rail("x")).forEach(function(e){return r(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(o(t,y.element.rail("y")).forEach(function(e){return r(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=l(e,f(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=f((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=l(e,f(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=f(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var i={width:t.railXWidth},n=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft;t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-n:i.top=t.scrollbarXTop+n;d(t.scrollbarXRail,i);var r={top:n,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft;d(t.scrollbarYRail,r),d(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),d(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(y.state.active("x")):(t.classList.remove(y.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(y.state.active("y")):(t.classList.remove(y.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function c(i,e){var n=e[0],r=e[1],o=e[2],a=e[3],t=e[4],s=e[5],l=e[6],c=e[7],d=e[8],u=i.element,h=null,p=null,f=null;function m(e){e.touches&&e.touches[0]&&(e[o]=e.touches[0].pageY),u[l]=h+f*(e[o]-p),b(i,c),C(i),e.stopPropagation(),e.preventDefault()}function g(){_(i,c),i[d].classList.remove(y.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",m)}function v(e,t){h=u[l],t&&e.touches&&(e[o]=e.touches[0].pageY),p=e[o],f=(i[r]-i[n])/(i[a]-i[s]),t?i.event.bind(i.ownerDocument,"touchmove",m):(i.event.bind(i.ownerDocument,"mousemove",m),i.event.once(i.ownerDocument,"mouseup",g),e.preventDefault()),i[d].classList.add(y.state.clicking),e.stopPropagation()}i.event.bind(i[t],"mousedown",function(e){v(e)}),i.event.bind(i[t],"touchstart",function(e){v(e,!0)})}function v(e,t){var i,n,r=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in(this.element=e).classList.add(y.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[o]=t[o];function a(){return e.classList.add(y.state.focus)}function s(){return e.classList.remove(y.state.focus)}this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null,this.isRtl="rtl"===m(e).direction,!0===this.isRtl&&e.classList.add(y.rtl),this.isNegativeScroll=(n=e.scrollLeft,e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=n,i),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new h,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=u(y.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=u(y.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=f(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=f(l.borderLeftWidth)+f(l.borderRightWidth),d(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=f(l.marginLeft)+f(l.marginRight),d(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=u(y.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=u(y.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=f(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=m(e);return f(t.width)+f(t.paddingLeft)+f(t.paddingRight)+f(t.borderLeftWidth)+f(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=f(c.borderTopWidth)+f(c.borderBottomWidth),d(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=f(c.marginTop)+f(c.marginBottom),d(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return w[e](r)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return r.onScroll(e)}),C(this)}var w={"click-rail":function(i){i.element,i.event.bind(i.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=t*i.containerHeight,C(i),e.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=t*i.containerWidth,C(i),e.stopPropagation()})},"drag-thumb":function(e){c(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),c(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(r){var o=r.element;r.event.bind(r.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(a(o,":hover")||a(r.scrollbarX,":focus")||a(r.scrollbarY,":focus"))){var t=document.activeElement?document.activeElement:r.ownerDocument.activeElement;if(t){if("IFRAME"===t.tagName)t=t.contentDocument.activeElement;else for(;t.shadowRoot;)t=t.shadowRoot.activeElement;if(function(e){return a(e,"input,[contenteditable]")||a(e,"select,[contenteditable]")||a(e,"textarea,[contenteditable]")||a(e,"button,[contenteditable]")}(t))return}var i=0,n=0;switch(e.which){case 37:i=e.metaKey?-r.contentWidth:e.altKey?-r.containerWidth:-30;break;case 38:n=e.metaKey?r.contentHeight:e.altKey?r.containerHeight:30;break;case 39:i=e.metaKey?r.contentWidth:e.altKey?r.containerWidth:30;break;case 40:n=e.metaKey?-r.contentHeight:e.altKey?-r.containerHeight:-30;break;case 32:n=e.shiftKey?r.containerHeight:-r.containerHeight;break;case 33:n=r.containerHeight;break;case 34:n=-r.containerHeight;break;case 36:n=r.contentHeight;break;case 35:n=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&0!==i||r.settings.suppressScrollY&&0!==n||(o.scrollTop-=n,o.scrollLeft+=i,C(r),function(e,t){var i=Math.floor(o.scrollTop);if(0===e){if(!r.scrollbarYActive)return!1;if(0===i&&0<t||i>=r.contentHeight-r.containerHeight&&t<0)return!r.settings.wheelPropagation}var n=o.scrollLeft;if(0===t){if(!r.scrollbarXActive)return!1;if(0===n&&e<0||n>=r.contentWidth-r.containerWidth&&0<e)return!r.settings.wheelPropagation}return!0}(i,n)&&e.preventDefault())}})},wheel:function(s){var l=s.element;function e(e){var t=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(e),i=t[0],n=t[1];if(!function(e,t,i){if(!g.isWebKit&&l.querySelector("select:focus"))return!0;if(!l.contains(e))return!1;for(var n=e;n&&n!==l;){if(n.classList.contains(y.element.consuming))return!0;var r=m(n);if(i&&r.overflowY.match(/(scroll|auto)/)){var o=n.scrollHeight-n.clientHeight;if(0<o&&(0<n.scrollTop&&i<0||n.scrollTop<o&&0<i))return!0}if(t&&r.overflowX.match(/(scroll|auto)/)){var a=n.scrollWidth-n.clientWidth;if(0<a&&(0<n.scrollLeft&&t<0||n.scrollLeft<a&&0<t))return!0}n=n.parentNode}return!1}(e.target,i,n)){var r=!1;s.settings.useBothWheelAxes?s.scrollbarYActive&&!s.scrollbarXActive?(n?l.scrollTop-=n*s.settings.wheelSpeed:l.scrollTop+=i*s.settings.wheelSpeed,r=!0):s.scrollbarXActive&&!s.scrollbarYActive&&(i?l.scrollLeft+=i*s.settings.wheelSpeed:l.scrollLeft-=n*s.settings.wheelSpeed,r=!0):(l.scrollTop-=n*s.settings.wheelSpeed,l.scrollLeft+=i*s.settings.wheelSpeed),C(s),(r=r||function(e,t){var i=Math.floor(l.scrollTop),n=0===l.scrollTop,r=i+l.offsetHeight===l.scrollHeight,o=0===l.scrollLeft,a=l.scrollLeft+l.offsetWidth===l.scrollWidth;return!(Math.abs(t)>Math.abs(e)?n||r:o||a)||!s.settings.wheelPropagation}(i,n))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}void 0!==window.onwheel?s.event.bind(l,"wheel",e):void 0!==window.onmousewheel&&s.event.bind(l,"mousewheel",e)},touch:function(s){if(g.supportsTouch||g.supportsIePointer){var l=s.element,c={},d=0,u={},i=null;g.supportsTouch?(s.event.bind(l,"touchstart",e),s.event.bind(l,"touchmove",t),s.event.bind(l,"touchend",n)):g.supportsIePointer&&(window.PointerEvent?(s.event.bind(l,"pointerdown",e),s.event.bind(l,"pointermove",t),s.event.bind(l,"pointerup",n)):window.MSPointerEvent&&(s.event.bind(l,"MSPointerDown",e),s.event.bind(l,"MSPointerMove",t),s.event.bind(l,"MSPointerUp",n)))}function h(e,t){l.scrollTop-=t,l.scrollLeft-=e,C(s)}function p(e){return e.targetTouches?e.targetTouches[0]:e}function f(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function e(e){if(f(e)){var t=p(e);c.pageX=t.pageX,c.pageY=t.pageY,d=(new Date).getTime(),null!==i&&clearInterval(i)}}function t(e){if(f(e)){var t=p(e),i={pageX:t.pageX,pageY:t.pageY},n=i.pageX-c.pageX,r=i.pageY-c.pageY;if(function(e,t,i){if(!l.contains(e))return!1;for(var n=e;n&&n!==l;){if(n.classList.contains(y.element.consuming))return!0;var r=m(n);if(i&&r.overflowY.match(/(scroll|auto)/)){var o=n.scrollHeight-n.clientHeight;if(0<o&&(0<n.scrollTop&&i<0||n.scrollTop<o&&0<i))return!0}if(t&&r.overflowX.match(/(scroll|auto)/)){var a=n.scrollWidth-n.clientWidth;if(0<a&&(0<n.scrollLeft&&t<0||n.scrollLeft<a&&0<t))return!0}n=n.parentNode}return!1}(e.target,n,r))return;h(n,r),c=i;var o=(new Date).getTime(),a=o-d;0<a&&(u.x=n/a,u.y=r/a,d=o),function(e,t){var i=Math.floor(l.scrollTop),n=l.scrollLeft,r=Math.abs(e),o=Math.abs(t);if(r<o){if(t<0&&i===s.contentHeight-s.containerHeight||0<t&&0===i)return 0===window.scrollY&&0<t&&g.isChrome}else if(o<r&&(e<0&&n===s.contentWidth-s.containerWidth||0<e&&0===n))return!0;return!0}(n,r)&&e.preventDefault()}}function n(){s.settings.swipeEasing&&(clearInterval(i),i=setInterval(function(){s.isInitialized?clearInterval(i):u.x||u.y?Math.abs(u.x)<.01&&Math.abs(u.y)<.01?clearInterval(i):(h(30*u.x,30*u.y),u.x*=.8,u.y*=.8):clearInterval(i)},10))}}};return v.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,d(this.scrollbarXRail,{display:"block"}),d(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=f(m(this.scrollbarXRail).marginLeft)+f(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=f(m(this.scrollbarYRail).marginTop)+f(m(this.scrollbarYRail).marginBottom),d(this.scrollbarXRail,{display:"none"}),d(this.scrollbarYRail,{display:"none"}),C(this),t(this,"top",0,!1,!0),t(this,"left",0,!1,!0),d(this.scrollbarXRail,{display:""}),d(this.scrollbarYRail,{display:""}))},v.prototype.onScroll=function(e){this.isAlive&&(C(this),t(this,"top",this.element.scrollTop-this.lastScrollTop),t(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},v.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),r(this.scrollbarX),r(this.scrollbarY),r(this.scrollbarXRail),r(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},v.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},v});var BCPM=BCPM||{},BCPM_translation=new Array;BCPM_translation.Quality="Quality: ",BCPM_translation.Auto="Auto",function($){var options={aspectRatio:.5625,account:"3418428625001",player:"ryhXEqW0f",playerJsUrl:"//players.brightcove.net/3418428625001/ryhXEqW0f_default/index.min.js"},players=[];$.getScriptWithConflictingAMD=function(url,callbackFunction){jQuery.ajax({async:!0,url:url,cache:!1,success:function(script,textStatus,jqXHR){if("undefined"!=typeof define){var dojoDefine=define;define=void 0,function(){eval(script)}.apply(window),define=dojoDefine}else"1"!==jQuery.fn.jquery.split(".")[0]&&function(){eval(script)}.apply(window);callbackFunction(script,textStatus,jqXHR)},error:function(e,t,i){}})},BCPM.prepare=function(e){void 0===e&&(e=$("body")),e.find(".video-container").each(function(){var t=$(this);prepareVideoContainer(t),initPosterImage(t,function(e){e.preventDefault(),initVideo(t,!0)}),initPreviewImage(t)})},BCPM.initManager=function(){"undefined"==typeof bc?$.getScriptWithConflictingAMD(options.playerJsUrl,handlePlayerJsLoaded):handlePlayerJsLoaded()},BCPM.getPlayerById=function(e){for(var t=0;t<players.length;t++)if(players[t].id()=="video_"+e)return players[t]},BCPM.pausePlayer=function(e){var t=BCPM.getPlayerById(e.attr("id"));t&&!t.paused()&&(e.data("pausedAutomatically",!0),videojs(t.id()).pause())},BCPM.playPlayer=function(e){var t=BCPM.getPlayerById(e.attr("id"));t&&videojs(t.id()).play()};var prepareVideoContainer=function(e){var t="xs"===MAIN.responsive.getBreakpoint()?"-xs":"",i=options.aspectRatio,n=e.attr("data-bcp-aspect-ratio"+t);void 0!==n&&""!=n&&(i=parseFloat(n));var r=$('<div class="video-container-inner"></div>');r.css("padding-top",100*i+"%"),e.empty().append(r)},getImageUrl=function(e,t){var i="xs"===MAIN.responsive.getBreakpoint()?"-xs":"",n=e.attr("data-bcp-video-"+t+i);return void 0!==n&&""!=n&&n},setBackgroundImage=function(e,t,i){isElementInViewport(e)?t.css("background-image","url('"+i+"')"):$(window).on("load",function(){t.css("background-image","url('"+i+"')")})},initPosterImage=function(t,i){var e=t.attr("data-bcp-alternative-image-xs");if("xs"!==MAIN.responsive.getBreakpoint()||void 0===e||""==e){var n=getImageUrl(t,"poster");if(n){var r=$('<a href="#" class="video-poster"><span class="play-icon-white"></span></a>');return setBackgroundImage(t,r,n),r.on("click",function(e){t.hasClass("video-container--ready")&&i(e)}),t.find(".video-container-inner").append(r),!0}return!1}var o=$('<figure class="video-poster video-poster--alternative-image"></figure>');setBackgroundImage(t,o,e),t.find(".video-container-inner").append(o)},initPreviewImage=function(e){var t=getImageUrl(e,"preview");if(t){var i=$('<div class="video-preview"></div>');if(setBackgroundImage(e,i,t),e.append(i),"undefined"!=typeof bc){var n=getPreviewAutoplayDelay(e);initVideo(e,!1,n)}return!0}return!1},getPreviewAutoplayDelay=function(e){var t=e.attr("data-bcp-video-preview-delay");return t=void 0!==t&&""!=t?parseInt(t):1},isElementInViewport=function(e){if("function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]),!$(e).is(":visible"))return!1;var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return!1;var i=t.bottom<0,n=0<t.top-(window.innerHeight||document.documentElement.clientHeight);return!i&&!n},initVideo=function(n,e,t){t=void 0!==t?t:0;var i=1,r=n.attr("data-bcp-alternative-image-xs");if(("xs"!==MAIN.responsive.getBreakpoint()||void 0===r||""==r)&&!n.data("videoInitialized")){n.data("videoInitialized",!0),n.addClass("initialized");var o=n.attr("id"),a=n.attr("data-bcp-video-id"),s=n.attr("data-bcp-video-id-xs");void 0!==s&&""!=s&&"xs"===MAIN.responsive.getBreakpoint()&&(a=s);var l=n.attr("data-bcp-quality-select"),c=n.attr("data-bcp-video-redirecturl"),d=n.attr("data-bcp-share-enabled"),u=n.attr("data-bcp-share-title"),h=n.attr("data-bcp-share-description"),p=n.attr("data-bcp-share-url"),f=n.attr("data-bcp-share-embedcode"),m=n.attr("data-bcp-audio-off"),g=n.find("track");(e||0<t)&&(n.data("autoplayOnScrollEnabled",!0),n.data("pausedAutomatically",!1));e=isElementInViewport(n)&&e;var v=$('<video id="video_'+o+'" data-account="'+options.account+'" data-player="'+options.player+'" data-embed="default" data-video-id="'+a+'" class="video-js" playsinline '+(e?"autoplay ":"")+"controls></video>");v.append(g),n.find(".video-container-inner").empty().append(v);try{bc(document.getElementById("video_"+o))}catch(e){}videojs("video_"+o).on("ready",function(){var e=this;null!=typeof m&&""==m&&e.muted(!0),e.on("loadeddata",function(e){var t=e.target.id;$("#"+t).closest(".video-container").addClass("video-container--loadeddata")}),e.on("play",function(e){var t=e.target.id,i=$("#"+t).closest(".video-container"),n=i.attr("data-bcp-video-autoplay");$(document).trigger("before-play.BCPM",{id:t}),i.addClass("video-container--played");for(var r=0;r<players.length;r++)if(players[r].id()===t&&(i.find(".vjs-big-play-button").hide(),isMobile.any()&&i.on("click",handleTapControl($(this)))),players[r].id()!=t){var o=!0,a=$("#"+players[r].id()).closest(".video-container");if(void 0!==n&&""!==n)n===a.attr("data-bcp-video-autoplay")&&(o=!1);o&&BCPM.pausePlayer(a)}}),e.on("pause",function(e){var t=e.target.id;$(document).trigger("after-pause.BCPM",{id:t});for(var i=0;i<players.length;i++)if(players[i].id()===t){var n=$("#"+t).closest(".video-container");!0===n.data("autoplayOnScrollEnabled")&&(!1===n.data("pausedAutomatically")?n.data("autoplayOnScrollEnabled",!1):n.data("pausedAutomatically",!1))}}),players.push(e),0<t&&setTimeout(function(){console.log("BCPM preview mode: autoplaying with delay ",t),e.play()},t)}),videojs("video_"+o).on("loadedmetadata",function(e,t){if(n.data("bcpm-player",this),$(".video-container").trigger("BCPM_playerReady",[this.id()]),n.is("[data-bcp-video-loop]")&&this.loop(!0),l&&getManualRenditionSelectionSupport(this)&&createSelectInControlbar(n).addEventListener("change",changeQuality),d&&void 0!==this.social){void 0!==u&&""!==u||(u=document.title),void 0===h&&(h=!1),void 0!==p&&""!==p||(p=document.location.href),void 0===f&&(f=!1);var i={title:u,url:p,services:{facebook:!0,google:!0,twitter:!0,tumblr:!0,pinterest:!0,linkedin:!0}};h&&(i.description=h),f&&(i.embedcode=f),this.social(i)}}),videojs("video_"+o).on("ended",function(){var e=n.data("bcpm-player"),t=n.attr("data-bcp-video-number-loop");t&&function(e,t){i<t&&(e.play(),i++)}(e,t),void 0!==c&&""!=c?document.location.href=c:$.magnificPopup&&$.magnificPopup.close(),initPosterImage(n,function(e){e.preventDefault(),n.data("bcpm-player").play()}),null===!document.fullscreenElement&&e.exitFullscreen()})}},handleTapControl=function(e){},handlePlayerJsLoaded=function(e,t,i){$(".video-container").each(function(){var e=$(this);e.addClass("video-container--ready");var t=getImageUrl(e,"poster"),i=getImageUrl(e,"preview"),n=e.is("[data-bcp-video-init]");if(!t&&n){var r=e.is("[data-bcp-video-autoplay]");r=!i&&r;var o=i?getPreviewAutoplayDelay(e):0;initVideo(e,r,o)}})},createSelectInControlbar=function(e){var t=e.data("bcpm-player");if(t){var i,n,r,o,a,s=t[getManualRenditionSelectionSupport(t)].representations(),l=document.createElement("div");l.name="quality",l.className="selectStyle vjs-control",n="bcp-select-quality-"+e.attr("data-bcp-video-id"),(r=document.createElement("select")).id=n,(i=document.createElement("label")).htmlFor=n,i.innerHTML=BCPM_translation.Quality,l.appendChild(i),(o=document.createElement("option")).value="auto",o.text=BCPM_translation.Auto,r.appendChild(o);var c=getRepresentationsByHeight(s),d=[];for(h in c)d.push(h);d.sort(function(e,t){return parseInt(e)>parseInt(t)?-1:parseInt(e)<parseInt(t)?1:0});for(var u=0;u<d.length;u++)(o=document.createElement("option")).value=d[u],o.text=d[u]+"p",r.appendChild(o);return l.appendChild(r),(a=e.find(".vjs-spacer")).css("justify-content","flex-end"),a.append(l),r}},changeQuality=function(e){var t,i=e.target,n=$(i).closest(".video-container").data("bcpm-player"),r=n[getManualRenditionSelectionSupport(n)].representations(),o=getRepresentationsByHeight(r);t=i.options[i.selectedIndex].value,enabledBandwidths=o[t],r.forEach(function(e){"auto"===t||-1!==enabledBandwidths.indexOf(e)?e.enabled(!0):e.enabled(!1)})},getManualRenditionSelectionSupport=function(e){return void 0!==e.hls?"hls":void 0!==e.dash&&"dash"},getRepresentationsByHeight=function(e){for(var t=new Array,i=e.length,n=0;n<i;n++){var r=e[n].height+"";void 0===t[r]&&(t[r]=[]),t[r].push(e[n])}return t},isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},webOS:function(){return navigator.userAgent.match(/webOS/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i)}},checkPlayPause=function(){var n=[],e=[],r=[],o=[],t=[],i=[];if(($(".video-container").each(function(e,t){var i=$(t);isElementInViewport(i)?i.is("[data-bcp-video-autoplay]")||i.is("[data-bcp-video-preview]")?n.push(i):r.push(i):o.push(i)}),0<n.length)&&!0===$(n[0]).data("autoplayOnScrollEnabled")){var a=n[0],s=a.attr("data-bcp-video-autoplay");e=""!==s?(t=n.filter(function(e){return e.attr("data-bcp-video-autoplay")===s}),n.filter(function(e){return e.attr("data-bcp-video-autoplay")!==s})):(t.push(a),n.slice(1)),t.forEach(function(e){BCPM.playPlayer(e)})}0<(i=0<t.length?[].concat(e,r,o):[].concat(o)).length&&i.forEach(function(e){BCPM.pausePlayer(e)})};0<$(".video-container").length&&(void 0!==_?$(window).scroll(_.throttle(function(){checkPlayPause()},400)):$(window).scroll(checkPlayPause))}(jQuery),function(i,n){var r,o=null;i.fifi=function(e){if(o=n.extend({targetSelector:"h1, h2, h3, h4, h5, h6, .btn, p, li, pre, code, blockquote, a, .fifi-add",excludedSelector:".fifi-exclude",delayBetweenElements:50,offset:50},e),!fifiSupported())return!1;$fifiElements_aux=n(o.targetSelector),o.excludedSelector&&($fifiElements_aux=$fifiElements_aux.not(o.excludedSelector)),r=$fifiElements_aux,$fifiElements_aux.each(function(){var e=n(this);e.offset().top<n(i).scrollTop()&&(r=r.not(e))}),r.addClass("fifi-start"),jQuery(i).on("scroll",fifiUpdate),jQuery(i).on("resize",fifiUpdate),jQuery(document).on("resize",fifiUpdate),fifiUpdate()},i.fifiSupported=function(){return!n("html").hasClass("lt-ie10")},i.fifiUpdate=function(){var e=n(i).scrollTop()+n(i).height()+o.offset;0===r.length&&(jQuery(i).off("scroll",fifiUpdate),jQuery(i).off("resize",fifiUpdate),jQuery(document).off("resize",fifiUpdate));var t=[];r.each(function(){d=n(this),(e>=d.offset().top||jQuery(document).height()-e==o.offset)&&(t.push(d[0]),r=jQuery.grep(r,function(e){return!(n(e).get(0)===d.get(0))}),r=n(r))}),jQuery.each(t,function(e){var t=n(this);setTimeout(function(){!function(e){e.addClass("fifi-end")}(t)},e*o.delayBetweenElements)})}}(window,jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl"],e):e(jQuery)}(function(u){"use strict";u.tcl.restClient=u.tcl.restClient||{},u.tcl.restClient={POST:"post",GET:"get",PUT:"put",DELETE:"delete",getList:function(e,t,i){var n=void 0!==i&&i;return a(e,this.GET,{},t,n)},getDetail:function(e,t,i,n){var r=void 0!==n&&n;return a(e+t,this.GET,{},i,r)},postItem:function(e,t,i,n){var r=void 0===n||n;return a(e,this.POST,t,i,r)},putItem:function(e,t,i,n,r){var o=void 0===r||r;return a(e+t,this.PUT,i,n,o)},deleteItem:function(e,t,i,n,r){var o=void 0===r||r;return a(e+t,this.DELETE,i,n,o)},getESpotData:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?name="+e+"&langId="+COMMON.langId;return u.tcl.restClient.getList(i,{async:!0})}};var a=function(t,i,e,n,r){if(void 0===t)return void debug.error("the action url is ",t);var o=u(".cmp-page-loader--main"),a=isStaticFE,s=t;if(isStaticFE){var l=ENV_MOCKSERVER_HOSTNAME||location.hostname,c=ENV_MOCKSERVER_PORT||"";s="//"+l+c+t}var d={url:s,method:i||"GET",contentType:"application/json",dataType:"json",data:e||{},async:!0,cache:a,success:function(e){"/cart"==t&&"get"==i&&function(e,t,i){u.tcl.wrapperJson.wrapper(e,t,i)}(t,i,e)},beforeSend:function(){!n&&r&&(COMMON.activeAjaxConnections++,o.loader(),o.loader("setVisibility",!0),COMMON.checkNotAjaxConn=!1)},complete:function(){!n&&r&&(COMMON.activeAjaxConnections--,0==COMMON.activeAjaxConnections&&(COMMON.checkNotAjaxConn=!1,o.loader(),o.loader("setVisibility",!1),u(document).trigger("loader_hidden"),u(".lazy-load").length===u(".lazy-load.img-loaded").length&&console.log("backstopjs_ready")))}};n&&u.extend(d,n);return debug.debug("tcl.restClientR21._doInvokeImpl",d),u.ajax(d)};u.tcl.register("restClient",u.tcl.restClient,!0)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(r){"use strict";r.tcl.promoServices=r.tcl.promoServices||{},r.tcl.promoServices={deletePromoCode:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code/";return r.tcl.restClient.deleteItem(n,i)},applyPromoCode:function(e,t){var i="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code";"de_OE"===COMMON.locale&&(i+="?langId=-3");return r.tcl.restClient.postItem(i,t)},applyPromoCodePreSale:function(e,t){var i="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code/";return r.tcl.restClient.postItem(i,t,{async:!1})},getPromoCode:function(e){var t="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code/";return r.tcl.restClient.getList(t)},getPromoCodePreSale:function(e){var t="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code/";return r.tcl.restClient.getList(t,{async:!1})},removePromoCode:function(e,t){var i="/wcs/resources/store/"+e+"/cart/@self/assigned_promotion_code/";return r.tcl.restClient.deleteItem(i,t)}},r.tcl.register("promoServices",r.tcl.promoServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(o){"use strict";o.tcl.cartServices=o.tcl.cartServices||{},o.tcl.cartServices={refreshCart:function(e,t){if(null!=t&&!1===t)var i={async:t};var n="/wcs/resources/store/"+e+"/cart_ext/@self?profileName=IBM_Details";return o.tcl.restClient.getList(n,i)},refreshCartR21:function(e,t){var i={async:t},n="/wcs/resources/store/"+e+"/cart_ext_r21/@self?catalogId="+COMMON.catalogId+"&langId="+COMMON.langId;"Ferragamo_OE"!==COMMON.frgStoreIdentifier&&"Ferragamo_FR"!==COMMON.frgStoreIdentifier||"undefined"==typeof B_CHECKOUT||!B_CHECKOUT.countrySelected||(n+="&countryCode="+B_CHECKOUT.countrySelected);return o.tcl.restClient.getList(n,i,!0)},getProduct:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/productview/byId/"+t;"de_OE"===COMMON.locale&&(r+="?langId=-3");return o.tcl.restClient.getDetail(r,"",n)},updateQuantity:function(e,t,i){if(null!=i&&!1===i)var n={async:i};var r="/wcs/resources/store/"+e+"/cart/@self/update_order_item";return o.tcl.restClient.putItem(r,"",t,n)},deleteCartProduct:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart_ext/@self/delete_order_item";return o.tcl.restClient.putItem(n,"",i)},addCartProduct:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart/@self/update_order_item";return o.tcl.restClient.putItem(n,"",t)},getAtpInventory:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/inventoryavailability_ext?catentryId="+t+"&locale="+i;return o.tcl.restClient.getDetail(r)},setGift:function(e,t,i){var n=!0===i?"true":"false",r="/wcs/resources/store/"+e+"/cart/@self/shipping_info_ext/gift?&giftMessage="+encodeURIComponent(t)+"&withoutAmount="+n+"&responseFormat=json";return o.tcl.restClient.putItem(r,"")},getGiftMessage:function(e,t,i){if(null!=i&&!1!==i);var n="/wcs/resources/store/"+e+"/cart/@self/shipping_info_ext/gift";return o.tcl.restClient.getList(n,i)},removeGiftMessage:function(e){var t="/wcs/resources/store/"+e+"/cart/@self/shipping_info_ext/gift";return o.tcl.restClient.deleteItem(t,"")},getProductPriceSale:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/product/"+t+"/price_ext?currency="+i+"&targetDate="+n+"&findByItemCatentryId="+!0;return o.tcl.restClient.getList(r,{async:!1})},userRegistrationAdminAdd:function(e,t){var i="/wcs/resources/store/"+e+"/person";return o.tcl.restClient.postItem(i,JSON.stringify(t))},getOrderItemCart:function(e){return o.tcl.restClient.getList("/orderItem")},sendMail:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart/@self/callmeback_sendMail?&phoneNumber="+t+"&selectedInterval="+i+"&responseFormat=json";return o.tcl.restClient.putItem(n,"")},addToBag:function(e,t){var i="/wcs/resources/store/"+e+"/cart";return o.tcl.restClient.postItem(i,JSON.stringify(t))},getCartDeliveryDate:function(e){var t="/wcs/resources/store/"+e+"/inventoryavailability_ext/ddate/@self/shoppingCart?locale="+COMMON.localeCountry;return o.tcl.restClient.getList(t,{async:!1})},getSummaryDeliveryDate:function(e,t){var i="/wcs/resources/store/"+e+"/inventoryavailability_ext/ddate/@self/confirmationPage?locale="+COMMON.localeCountry+"&orderId="+t;return o.tcl.restClient.getList(i,{async:!1})},getShipMethodsDeliveryDate:function(e){var t="/wcs/resources/store/"+e+"/inventoryavailability_ext/ddate/@self/shippingMethods?locale="+COMMON.localeCountry;return o.tcl.restClient.getList(t,{async:!1})},getProductByPartnum:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/productview/"+t;"de_OE"===COMMON.locale&&(r+="?langId=-3");return o.tcl.restClient.getDetail(r,"",n)},getMtoType:function(e,t){var i="/wcs/resources/store/"+e+"/cart_ext/mto_type";return o.tcl.restClient.postItem(i,t,{async:!1})},getProductSizeAndWidth:function(e,t,i){var n="/wcs/resources/store/"+e+"/inventoryavailability_ext/sizeWidth?itemCatentryId="+t+"&locale="+i;return o.tcl.restClient.getDetail(n,"",{async:!1})},updateOrderFlashSale:function(e,t){var i="/wcs/resources/store/"+e+"/order_ext/@self/updateOrderFlashSale?orderId="+t.orderId+"&catalogId="+COMMON.catalogId+"&langId="+COMMON.langId;return o.tcl.restClient.putItem(i,"",{},{async:!1})},tryAtHomeCheckPostcode:function(e,t){var i=tryAtHomeBaseUrl+"/check-postcode/"+encodeURI(t);return o.tcl.restClient.getDetail(i,"",{async:!1})},tryAtHomeCreateCart:function(e,t){var i="/wcs/resources/store/"+e+"/try_at_home/@self/create_cart?postCode="+t;return o.tcl.restClient.postItem(i,"",{async:!1})},storeAddressInfo:function(e,t){var i="/wcs/resources/store/"+e+"/cart_ext/address/store";return o.tcl.restClient.postItem(i,t,{async:!1})},getESpotData:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?name="+e+"&langId="+COMMON.langId;return o.tcl.restClient.getList(i,{async:!0})},checkStatusCartR21:function(e){var t="/wcs/resources/store/"+e+"/cart_ext_r21/@self/status?catalogId="+COMMON.catalogId+"&langId="+COMMON.langId;return o.tcl.restClient.getList(t,{async:!0},!0)},getFaqData:function(e){var t="/wcs/resources/store/"+COMMON.storeId+"/faq?langId="+COMMON.langId;return o.tcl.restClient.getList(t,{async:!0})}},o.tcl.register("cartServices",o.tcl.cartServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(c){"use strict";c.tcl.orderServices=c.tcl.orderServices||{},c.tcl.orderServices={getOrderStatus:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/order/";return c.tcl.restClient.getDetail(r,t,n)},getOrderStatusR21:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/order_ext/?orderId="+t+"&catalogId="+COMMON.catalogId+"&langId="+COMMON.langId;return c.tcl.restClient.getDetail(r,t,n)},prepareOrder:function(e,t,i,n){var r={async:n},o="/wcs/resources/store/"+e+"/cart_ext/@self/precheckout";return c.tcl.restClient.putItem(o,"",i,r,!0)},processOrder:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/cart_ext/@self/checkout";return c.tcl.restClient.postItem(r,t,n)},getTrackBill:function(e,t,i,n,r,o){var a={async:o},s="/wcs/resources/store/"+e+"/order_ext/trackingInvoice?orderId="+t+"&action="+r;null!=i&&0<i.length&&(s=s+"&email="+i);null!=n&&0<n.length&&(s=s+"&zipCode="+n);return c.tcl.restClient.getDetail(s,"",a)},orderCalculate:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart/"+t+"/calculate";return c.tcl.restClient.postItem(n,i)},orderCalculateR21:function(e,t,i){var n={async:!1!==i||i},r="/wcs/resources/store/"+e+"/cart_ext_r21/@self/calculate";return c.tcl.restClient.postItem(r,t,n,!0)},orderCalculatePreSale:function(e,t,i){var n="/wcs/resources/store/"+e+"/cart/"+t+"/calculate";return c.tcl.restClient.postItem(n,i,{async:!1})},getAtpInventory:function(e,t,i,n){var r={async:n},o="/wcs/resources/store/"+e+"/inventoryavailability_ext?partNumber="+t+"&locale="+i;return c.tcl.restClient.getList(o,r)},getAtpInventoryWithSizeConversion:function(e,t,i,n){var r={async:n},o="/wcs/resources/store/"+e+"/inventoryavailability_ext/ddate/sorted?partNumber="+t+"&locale="+i;return c.tcl.restClient.getList(o,r)},getRealtimeAvailability:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/inventoryavailability_ext/realtime_check?orderId="+t;return c.tcl.restClient.getList(r,n)},writeOrderComments:function(e,t,i,n,r){var o="/wcs/resources/store/"+e+"/cart/@self/comment?clientIp="+t+"&userAgent="+i+"&shopAssistantCode="+n+"&shopAssistantName="+encodeURIComponent(r)+"&responseFormat=json";return c.tcl.restClient.postItem(o,{},{async:!1})},getOrderItem:function(e){return c.tcl.restClient.getList("/orderItemOrder")},getOrderHistory:function(e,t){var i="/wcs/resources/store/"+e+"/order/byBuyerId/"+t+"?currency="+COMMON.currency;return c.tcl.restClient.getList(i)},getOrderReturnReason:function(e,t,i){var n="/wcs/resources/store/"+e+"/rma/reasons/list?langId="+t+"&reasonType="+i;return c.tcl.restClient.getDetail(n,"")},saveOrderReturn:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/rma?reasonId="+t+"&orderItemId="+i;void 0!==n&&(r+="&rmaItemId="+n);return c.tcl.restClient.putItem(r,"")},saveOrderCancel:function(e,t,i){var n="/wcs/resources/store/"+e+"/order_ext/cancel?catalogId="+t;return c.tcl.restClient.postItem(n,JSON.stringify(i),{async:!1})},goToPaypal:function(e,t,i,n,r){var o="/wcs/resources/store/"+e+"/paypal/@self/url?langId="+t+"&catalogId="+i+(void 0===n?"":"&sendAddress="+n)+"&isExpress="+r;return c.tcl.restClient.postItem(o)},goToKcp:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/initialize_payment/@self/url?langId="+t+"&catalogId="+i+"&notify_EMailSender_recipient="+n+"&kcp_back_url="+B_CHECKOUT.kcp_back_url;return c.tcl.restClient.postItem(r)},getUserDataPayPal:function(e,t){var i={async:t},n="/wcs/resources/store/"+e+"/paypal/@self/data";return c.tcl.restClient.getDetail(n,"",i)},getLastOrderForCurrentUser:function(e,t){var i="/wcs/resources/store/"+e+"/order_ext/@self/lastOrder";return c.tcl.restClient.getDetail(i,"")},updateBillingAddressOnPpcExtData:function(e,t,i,n){var r={async:n},o="/wcs/resources/store/"+e+"/billing_address?orderId="+t+"&addressId="+i;return c.tcl.restClient.postItem(o,{},r)},goToCybersource:function(e,t,i){var n="/wcs/resources/store/"+e+"/cybersource/@self/getPaymentFormData?catalogId="+t+"&langId="+i;return c.tcl.restClient.postItem(n)},getOrderByOrderData:function(e,t,i,n,r,o,a){var s={async:a},l="/wcs/resources/store/"+e+"/order_ext/orderByOrderData?orderId="+t+"&catalogId="+i+"&langId="+n+"&email="+r;void 0!==o&&(l+="&zipCode="+o);"R"!==COMMON.userType&&(l+="&gRecaptchaResponse="+COMMON.gRecResp);return c.tcl.restClient.getDetail(l,"",s)},createRma:function(e,t,i,n){var r={async:n},o="/wcs/resources/store/"+e+"/rma";return c.tcl.restClient.postItem(o,JSON.stringify(i),r)},getRmaForOrder:function(e,t,i,n,r){var o={async:r},a="/wcs/resources/store/"+e+"/rma/byOrderId?orderId="+t+"&token="+encodeURIComponent(n);void 0!==i&&(a+="&email="+i);return c.tcl.restClient.getDetail(a,"",o)},getOrderForThankyouR21:function(e,t,i){var n={async:t},r="/wcs/resources/store/"+e+"/order_ext/@self/thankyou?catalogId="+COMMON.catalogId+"&langId="+COMMON.langId;i&&""!==i&&(r+="&countryCode="+i);void 0!==c.cookie("FRG_SHOPASSISTANTCODE")&&void 0!==c.cookie("FRG_SHOPASSISTANTNAME")&&(r+="&isShopAssistantLogged=true");return c.tcl.restClient.getDetail(r,"",n)},checkInventory:function(e,t){var i="/wcs/resources/store/"+e+"/inventoryavailability_ext/checkInventory?langId="+COMMON.langId;return c.tcl.restClient.getDetail(i,"",{async:!0},t)},validateEmailOnly:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/order_ext/validateEmailOnly?langId="+COMMON.langId+"&catalogId="+COMMON.catalogId+"&locale="+COMMON.locale+"&orderId="+e+"&email="+t;return c.tcl.restClient.getDetail(i,"",{async:!0})},associateGuestOrderToRegisteredUser:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/order_ext/associate/order?orderId="+e+"&email="+t;return c.tcl.restClient.getDetail(i,"",{async:!0})}},c.tcl.register("orderServices",c.tcl.orderServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(o){"use strict";o.tcl.wishListServices=o.tcl.wishListServices||{},o.tcl.wishListServices={getWishList:function(e,t){var i={async:t},n="/wcs/resources/store/"+e+"/wishlist/@self";return o.tcl.restClient.getList(n,i)},saveWishList:function(e,t){var i="/wcs/resources/store/"+e+"/@self/wishlist_ext";return o.tcl.restClient.postItem(i,JSON.stringify(t))},updateWishList:function(e,t,i){var n="/wcs/resources/store/"+e+"/wishlist/";return o.tcl.restClient.putItem(n,t,JSON.stringify(i))},addProductToWishList:function(e,t,i){var n="/wcs/resources/store/"+e+"/@self/wishlist_ext/"+t+"/addItem";return o.tcl.restClient.putItem(n,"",JSON.stringify(i))},deleteWishList:function(e,t){var i="/wcs/resources/store/"+e+"/wishlist/";return o.tcl.restClient.deleteItem(i,t)},deleteItemOrProductWishList:function(e,t,i){var n="/wcs/resources/store/"+e+"/@self/wishlist_ext/"+t+"/removeItem?productId="+i;return o.tcl.restClient.deleteItem(n,"")},deleteItemOrProductWishListByPartnumber:function(e,t,i){var n="/wcs/resources/store/"+e+"/@self/wishlist_ext/"+t+"/removeItemByPartnumber?partNumber="+i;return o.tcl.restClient.deleteItem(n,"")},getProduct:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/productview_ext/byId/"+t;"de_OE"===COMMON.locale&&(r+="?langId=-3");return o.tcl.restClient.getDetail(r,"",n)}},o.tcl.register("wishListServices",o.tcl.wishListServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient","tcl.ajax"],e):e(jQuery)}(function(s){"use strict";s.tcl.userServices=s.tcl.userServices||{},s.tcl.userServices={loadPersonalInformation:function(e){var t="/wcs/resources/store/"+e+"/person/@self";return s.tcl.restClient.getList(t,{async:!1})},loadPersonalInformationR21:function(e){var t="/wcs/resources/store/"+e+"/person_ext/@self";return s.tcl.restClient.getList(t,{async:!1})},saveUserData:function(e,t){var i="/wcs/resources/store/"+e+"/person/";return s.tcl.restClient.postItem(i,JSON.stringify(t))},updateUserData:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+e+"/person/@self?action=updateUserRegistration";return s.tcl.restClient.putItem(r,"",JSON.stringify(t),n)},loadPrivacyInfo:function(e,t){var i="/wcs/resources/store/"+e+"/user_privacy?userId=";return s.tcl.restClient.getDetail(i,t)},savePrivacyInfo:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/user_privacy?userId="+t+"&privacy_flag_val="+i;void 0!==n&&0<n.length&&(r=r+"&receiveEmail="+n);return s.tcl.restClient.getDetail(r,"")},changePassword:function(e,t){var i="/wcs/resources/store/"+e+"/reset_password_ext?logonPasswordOld="+encodeURIComponent(t.logonPasswordOld)+"&logonPassword="+encodeURIComponent(t.logonPassword)+"&logonPasswordVerify="+encodeURIComponent(t.logonPasswordVerify)+"&errorViewName=WrongPassword&catalogId="+t.catalogId+"&authToken=authToken&langId="+t.langId+"&URL=URL&reLogonURL=reLogonURL";return s.tcl.restClient.postItem(i,JSON.stringify(t))},deleteAccount:function(e){var t="/wcs/resources/store/"+e+"/delete_account?hardDelete=true";return s.tcl.restClient.getDetail(t,"",{async:!1})},getSizeOrWidth:function(e,t,i,n){var r="/wcs/resources/store/"+e+"/size?type="+t+"&gender="+i+"&country="+n;return s.tcl.restClient.getList(r)},getProfiles:function(e,t,i){var n="/wcs/resources/store/"+e+"/profile/select?memberId="+t+"&type="+i;return s.tcl.restClient.getList(n)},saveProfile:function(e,t){var i="/wcs/resources/store/"+e+"/profile/insert?memberId="+t.userId+"&nickname="+encodeURIComponent(t.nickName)+"&gender="+t.gender+"&type="+t.type+"&pvalue="+t.pvalue;return s.tcl.restClient.postItem(i)},updateProfile:function(e,t){var i="/wcs/resources/store/"+e+"/profile/update?memberId="+t.userId+"&oldNickName="+encodeURIComponent(t.oldNickName)+"&type="+t.type;if(void 0!==t.nickname&&""!==t.nickname)i=i+"&nickname="+encodeURIComponent(t.nickname);if(void 0!==t.gender&&""!==t.gender)i=i+"&gender="+t.gender;if(void 0!==t.pvalue&&""!==t.pvalue)i=i+"&pvalue="+t.pvalue;return s.tcl.restClient.postItem(i)},deleteProfile:function(e,t){var i="/wcs/resources/store/"+e+"/profile/delete?memberId="+t.userId+"&nickname="+encodeURIComponent(t.nickName)+"&type="+t.type;return s.tcl.restClient.postItem(i)},login:function(e){return s.tcl.ajax.post("/webapp/wcs/stores/servlet/AjaxLogon",e.serialize())},registerNewsletter:function(e,t){var i="/wcs/resources/store/"+e+"/newsletter_registration_ext?langId="+COMMON.langId+"&email="+t.email+"&firstName="+encodeURIComponent(t.firstName)+"&lastName="+encodeURIComponent(t.lastName)+"&prpolagr="+t.prpolagr+"&gRecaptchaResponse="+COMMON.gRecResp;null!=t.declaredAge&&(i=i+"&declaredAge="+t.declaredAge);return s.tcl.restClient.postItem(i)},registerNewsletterQuick:function(e,t,i){var n="/wcs/resources/store/"+e+"/newsletter_registration_ext/quick?langId="+COMMON.langId+"&email="+t+"&gRecaptchaResponse="+COMMON.gRecResp+"&prpolagr="+COMMON.prpolagr+"&declaredAge=OVER_18=Y";void 0!==i&&""!==i&&(n=n+"&categoryOfInterest="+i);return s.tcl.restClient.postItem(n)},registerNewsletterExtra:function(e,t){var i="/wcs/resources/store/"+e+"/newsletter_registration_ext/extra/register?langId="+COMMON.langId+"&gRecaptchaResponse="+COMMON.gRecResp;return s.tcl.restClient.postItem(i,JSON.stringify(t))},registerContact:function(e,t){var i="/wcs/resources/store/"+e+"/contact_store?langId="+COMMON.langId+"&customer_enquire="+t.enquiry+"&name="+encodeURIComponent(t.firstName)+"&surname="+encodeURIComponent(t.lastName)+"&email="+t.email+"&message="+encodeURIComponent(t.message)+"&state="+encodeURIComponent(t.country)+"&city="+encodeURIComponent(t.city)+"&address="+encodeURIComponent(t.address)+"&gRecaptchaResponse="+COMMON.gRecResp;COMMON.frgStoreIdentifier===COMMON.storeIdKR&&(i+="&policy1="+t.policy1+"&policy2="+t.policy2+"&policy3="+t.policy3+"&policy4="+t.policy4);void 0!==t.lastNameReading&&(i+="&lastNameReading="+t.lastNameReading+"&firstNameReading="+t.firstNameReading);void 0!==t.phone&&(i+="&phone="+t.phone);return s.tcl.restClient.getList(i)},shareProduct:function(e,t){var i="/wcs/resources/store/"+e+"/share/product/email?";"de_OE"===COMMON.locale&&(i+="langId="+COMMON.langId+"&");i+="recipientName="+encodeURIComponent(t.recipientName)+"&recipientEmail="+t.recipientEmail+"&message="+encodeURIComponent(t.message)+"&productPageURL="+encodeURIComponent(t.productPageURL)+"&senderName="+encodeURIComponent(t.senderName)+"&senderEmail="+t.senderEmail+"&gRecaptchaResponse="+COMMON.gRecResp,null!=t.partNumber&&(i+="&partNumber="+t.partNumber);return s.tcl.restClient.postItem(i)},shareWishlist:function(e,t){var i="/wcs/resources/store/"+e+"/share/wishlist/email?";"de_OE"===COMMON.locale&&(i+="langId="+COMMON.langId+"&");return i+="recipientName="+encodeURIComponent(t.recipientName)+"&recipientEmail="+t.recipientEmail+"&message="+encodeURIComponent(t.message)+"&wishlistURL="+encodeURIComponent(t.wishlistURL)+"&senderName="+encodeURIComponent(t.senderName)+"&senderEmail="+t.senderEmail+"&gRecaptchaResponse="+COMMON.gRecResp,s.tcl.restClient.postItem(i)},rmaStatusForItemId:function(e,t){var i="/wcs/resources/store/"+e+"/rma/item/byOrderItemId?orderItemId="+t;return s.tcl.restClient.getList(i,{async:!1})},switchLanguage:function(e,t,i,n,r,o){var a="/wcs/resources/store/"+e+"/switchLanguage?storeId="+e+"&langId="+t+"&pageId="+i+"&pageType="+n+"&coreMediaURL="+r+"&catalogId="+o;return s.tcl.restClient.getList(a)},registerContactTFour:function(e,t){var i="/wcs/resources/store/"+e+"/tfour_customers_contact";return i+="?langId="+COMMON.langId,t.insertActivity.gRecaptchaResponse=COMMON.gRecResp,s.tcl.restClient.postItem(i,JSON.stringify(t))},loadUserGroups:function(e){var t="/wcs/resources/store/"+e+"/member_group_ext/member/@self";return s.tcl.restClient.getList(t,{async:!1})}},s.tcl.register("userServices",s.tcl.userServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(p){"use strict";p.tcl.productServices=p.tcl.productServices||{},p.tcl.productServices={getProductType:function(e,t,i){var n={async:i,cache:!0},r="/wcs/resources/store/"+e+"/product_type?sku="+t;return p.tcl.restClient.getDetail(r,"",n)},checkBuyableJwerly:function(e,t,i){var n="/wcs/resources/store/"+e+"/check_buyable_product/buyable_jwerly?countrySelected="+t+"&langId="+i;return p.tcl.restClient.getDetail(n,"",{async:!1})},checkBuyableFragrance:function(e,t,i){var n="/wcs/resources/store/"+e+"/check_buyable_product/buyable_fragrance?langId="+t;null!=i&&(n+="&countrySelected="+i);return p.tcl.restClient.getDetail(n,"",{async:!1})},checkBuyableFragranceShipMode:function(e,t){var i="/wcs/resources/store/"+e+"/check_buyable_product/check_fragrance?langId="+t;return p.tcl.restClient.getDetail(i,"",{async:!1})},getProductESpots:function(e,t){var i="de_OE"===COMMON.locale?"-3":COMMON.langId,n=t.join(","),r="/wcs/resources/store/"+COMMON.storeId+"/product_detail/espot?langId="+i+"&catalogId="+COMMON.catalogId+"&espotNames="+n;return p.tcl.restClient.getList(r,{async:!0})},getESpotData:function(e){var t="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?name="+e+"&langId="+COMMON.langId;return p.tcl.restClient.getList(t,{async:!0})},getSizeGuideCode:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/size_guide?productiveCategoryCode="+e+"&merchandisingTypology="+t;return p.tcl.restClient.getList(i)},getCustomProductDetail:function(e){var t="de_OE"===COMMON.locale?"-3":COMMON.langId,i="/wcs/resources/store/"+COMMON.storeId+"/product_detail/byId/"+e+"?langId="+t+"&catalogId="+COMMON.catalogId;return p.tcl.restClient.getDetail(i,"",{async:!0})},getProduct:function(e,t){var i={async:t},n="/wcs/resources/store/"+COMMON.storeId+"/search_rest/productview/byId/"+e;"de_OE"===COMMON.locale?n+="?langId=-3":n+="?langId="+COMMON.langId;return p.tcl.restClient.getDetail(n,"",i)},getInventoryAvailabilityExt:function(e,t,i){var n={async:i},r="/wcs/resources/store/"+COMMON.storeId+"/inventoryavailability_ext/ddate/sorted?partNumber="+e+"&locale="+t;return p.tcl.restClient.getDetail(r,"",n)},getDisplayPrice:function(e,t){var i={async:t},n="/wcs/resources/store/"+COMMON.storeId+"/display_price?q=byCatalogEntryIdsAndPriceRuleName&catalogEntryId="+e+"&priceRuleName="+window.priceRuleName;return p.tcl.restClient.getDetail(n,"",i)},getOfferPrice:function(e,t){var i={async:t},n=moment().format("YYYY-MM-DD"),r="/wcs/resources/store/"+COMMON.storeId+"/product/"+e+"/price_ext?targetDate="+n+"&currency="+window.currency;return p.tcl.restClient.getDetail(r,"",i)},getProductAttributes:function(e,t){var i={async:t},n="/wcs/resources/store/"+COMMON.storeId+"/product_attributes/"+e+"?langId="+COMMON.langId;return p.tcl.restClient.getDetail(n,"",i)},getProductImageGallery:function(e,t){var i={async:t},n="/wcs/resources/store/"+COMMON.storeId+"/productview_ext/"+e+"/imageGallery?langId="+COMMON.langId;return p.tcl.restClient.getDetail(n,"",i)},getProductVariants:function(e,t,i,n,r,o,a,s,l,c,d){var u={async:d},h="/wcs/resources/store/"+COMMON.storeId+"/custom_productview/"+e+"/variants?categoryId="+t+"&catalogId="+COMMON.catalogId+"&langId="+COMMON.langId+"&partNumber="+r+"&aggregationAttributeValue="+o+"&distinguishAttributeValue="+a+"&distinguishAttributeName="+s;void 0!==i&&(h+="&topCategory="+i);void 0!==n&&(h+="&parentCategory="+n);void 0!==l&&(h+="&distinguishAttributeDescription="+l);void 0!==c&&(h+="&specValue="+c);return p.tcl.restClient.getDetail(h,"",u)},getProductRecommendations:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?categoryId="+t+"&DM_ReqCmd=CategoryDisplay";return p.tcl.restClient.getList(i)},checkVTOEnabled:function(e){var t="https://product-api.fittingbox.com/glasses-metadata/availability?apiKey=IpquQXN07sECQAh5cFQd2LAqHW9xUgt5tvgtSm9v&uidList="+e;return p.tcl.restClient.getList(t)},getAgecProduct:function(e,t){var i="/wcs/resources/store/"+COMMON.storeId+"/product_detail/agec/byLanguageCode?sku="+e+"&languageCode="+t+"&gRecaptchaResponse="+COMMON.gRecResp;return p.tcl.restClient.getDetail(i,"",{async:!1})},getAgecInfo:function(e){var t="/wcs/resources/store/"+COMMON.storeId+"/product_detail/agec?sku="+e+"&langId="+COMMON.langId+"&gRecaptchaResponse="+COMMON.gRecResp;return p.tcl.restClient.getDetail(t,"",{async:!0})}},p.tcl.register("productServices",p.tcl.productServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient","tcl.ajax"],e):e(jQuery)}(function(c){"use strict";c.tcl.bloomreachServices=c.tcl.bloomreachServices||{};var d=location.protocol.concat("//").concat(window.location.host);c.tcl.bloomreachServices={suggest:function(e){var t=bloomreachUrlSuggest,i=bloomreachAccountId,n=bloomreachDomainkey,r=parseInt(1e14*Math.random()),o=t+"suggest/?account_id="+i+"&auth_key=&domain_key="+n+"&request_id="+r+"&url="+encodeURIComponent(d)+"&ref_url="+encodeURIComponent(d)+"&q="+encodeURIComponent(e)+"&request_type=suggest&rsp_fmt=v2&fl=pid";return c.tcl.ajax.get(o)},mlt:function(e){var t=bloomreachUrlCore,i=bloomreachAccountId,n=bloomreachDomainkey,r=parseInt(1e14*Math.random()),o=t+"core/?account_id="+i+"&auth_key=&domain_key="+n+"&request_id="+r+"&url="+encodeURIComponent(d)+"&ref_url="+encodeURIComponent(d)+"&pid="+encodeURIComponent(e)+"&fl=thumb_image,url,title,brand,pid,sale_price,sale_price_type,price&request_type=mlt&start=0&rows=3&start=0&rows=3";return c.tcl.ajax.get(o)},jfu:function(){var e=bloomreachUrlJustforyou,t=bloomreachAccountId,i=bloomreachDomainkey,n=parseInt(1e14*Math.random()),r=e+"core/?account_id="+t+"&auth_key=&domain_key="+i+"&request_id="+n+"&url="+encodeURIComponent(d)+"&ref_url="+encodeURIComponent(d)+"&fl=thumb_image,url,title,brand,pid,sale_price,sale_price_type,price&request_type=jfy&search_type=keyword&start=0&rows="+bloomreachResultsJustforyou;return c.tcl.ajax.get(r)},search:function(e,t,i){var n=bloomreachUrlJustforyou,r=bloomreachAccountId,o=bloomreachDomainkey,a="";null!=t&&(a="&start="+t);null!=i&&""!=i&&(a=i);var s=parseInt(1e14*Math.random()),l=n+"core/?account_id="+r+"&auth_key=&domain_key="+o+"&request_id="+s+"&url="+encodeURIComponent(d)+"&ref_url="+encodeURIComponent(d)+"&q="+encodeURIComponent(e)+"&fl=thumb_image,large_image,url,title,brand,pid,sale_price,sale_price_type,price&request_type=search&search_type=keyword&start=0&rows=14"+a;return c.tcl.ajax.get(l)},bs:function(e){var t=bloomreachUrlCore,i=bloomreachAccountId,n=bloomreachDomainkey,r="";null!=e&&(r="&q="+encodeURIComponent(e));var o=parseInt(1e14*Math.random()),a=t+"core/?account_id="+i+"&auth_key=&domain_key="+n+"&request_id="+o+"&url="+encodeURIComponent(d)+"&ref_url="+encodeURIComponent(d)+"&fl=thumb_image,url,title,brand,pid,sale_price,sale_price_type,price&request_type=search&search_type=bestseller&start=0&rows=20"+r;return c.tcl.ajax.get(a)},utilRemoveProtocol:function(e){if(null==e||null==e||""==e)return e;if(e.toLowerCase().startsWith("http://"))return e.substring(5);if(e.toLowerCase().startsWith("https://"))return e.substring(6);return e},host:d},c.tcl.register("bloomreachServices",c.tcl.bloomreachServices)}),function(e){"function"==typeof define&&define.amd?define(["jquery","tcl","tcl.restClient"],e):e(jQuery)}(function(s){"use strict";s.tcl.searchR17Services=s.tcl.searchR17Services||{};location.protocol.concat("//").concat(window.location.host);s.tcl.searchR17Services={suggest:function(e,t,i){var n={pageNumber:1,pageSize:4};i&&(n.pageSize=i);COMMON.catalogId&&(n.catalogId=COMMON.catalogId);COMMON.langId&&(n.langId=COMMON.langId);var r="/wcs/resources/store/"+COMMON.storeId+"/productview_search/bySearchTerm/isValidSearch/"+encodeURIComponent(e)+"?"+s.param(n);return s.tcl.restClient.getList(r)},search:function(e,t,i,n,r){var o={searchType:1002,pageNumber:1,pageSize:20};n&&(o.pageNumber=n);t&&(o.pageSize=t);i.length&&(o.facet=i.join(","));COMMON.catalogId&&(o.catalogId=COMMON.catalogId);r&&"0"!==r&&(o.orderBy=r);var a="/wcs/resources/store/"+COMMON.storeId+"/productview_search/bySearchTerm/"+encodeURIComponent(e)+"?"+s.param(o);return s.tcl.restClient.getList(decodeURIComponent(a))},getSuggestedKeywords:function(e){var t="/wcs/resources/store/"+COMMON.storeId+"/search_rest/keywordSuggestions?langId="+COMMON.langId+"&searchTerm="+e;return"404"!==e?s.tcl.restClient.getList(t):Promise.reject({errors:[{errorMessage:"ops"}],reasonCode:404})},getESpotData:function(e,t){var i={async:t},n="/wcs/resources/store/"+COMMON.storeId+"/espot/"+e+"?name="+e+"&langId="+COMMON.langId;return s.tcl.restClient.getList(n,i)},utilRemoveProtocol:function(e){if(null==e||null==e||""==e)return e;if(e.toLowerCase().startsWith("http://"))return e.substring(5);if(e.toLowerCase().startsWith("https://"))return e.substring(6);return e}},s.tcl.register("searchR17Services",s.tcl.searchR17Services)});var B_MINISHOPCART=B_MINISHOPCART||{};!function(p){B_MINISHOPCART={type:"SIZE",init:function(){},showAjaxErrorMessage:function(e){var t="";if(404!==e.status){if(e.responseText&&403!==e.status){var i=e.responseJSON.errors;if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;t=i&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText}else t=403===e.status?errorMessageXSS:e;console.error(t.errorMessage),CMP.modal.error(t.errorMessage)}},getCartR21:function(t,i){B_MINISHOPCART.orderId="";var e=p.tcl.cartServices.refreshCartR21(COMMON.storeId,!1);p.when(e).done(function(e){B_MINISHOPCART.onCartLoaded(e,t,i),"cart-r21"!==MAIN.pageTemplate||t||B_CHECKOUT.onCartLoaded(e)}).fail(function(e,t,i){404===e.status?(debug.info("Cart was NOT found."),p(document).minicartR19("cartDetail")):B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},onCartLoaded:function(h,e,t){if(void 0===h)debug.info("Cart was NOT found."),B_MINISHOPCART.product_map={},p(document).minicartR19("cartDetail","remove"),"homepage"!==MAIN.pageTemplate&&"homepage--r19"!==MAIN.pageTemplate&&"category"!==MAIN.pageTemplate&&"category--r19"!==MAIN.pageTemplate&&"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate||B_GOOGLE_TAG_MANAGER.setDataLayerCart(0,e,t);else{if(debug.log("------Get cart------"),MAIN.isWcsEnv()&&(h=JSON.parse(h.cart)),B_MINISHOPCART.cart=h,B_MINISHOPCART.product_map={},B_MINISHOPCART.sizeAndWidth={},(B_MINISHOPCART.responseToVersaTag=h).recordSetCount=h.orderItem.length,1<=h.recordSetCount?(p(".cart-counter").text(h.recordSetCount),p(".cart-counter").show()):(p(".cart-counter").text(h.recordSetCount),p(".cart-counter").hide()),B_MINISHOPCART.orderId=h.orderId,COMMON.isPresaleEnabled()?B_MINISHOPCART.totalProductPrice=COMMON.formatNumber(h.orderAmount.grandTotal):B_MINISHOPCART.totalProductPrice=h.orderAmount.grandTotal,B_MINISHOPCART.cart.orderAmount.grandTotalNotFormatted=B_MINISHOPCART.cart.orderAmount.grandTotal,"R"===COMMON.userType&&p.isEmptyObject(B_WISHLIST.wishListItem)&&B_WISHLIST.getWishList(!1),h.orderItem){p.each(h.orderItem,function(e,t){var i,n,r,o=t.productInfo,a=(o.partNumber,parseFloat(t.orderItemAmount.totalAdjustment));for(e=0;e<o.prices.length;e++){var s=void 0;COMMON.isPresaleEnabled()?"preSale"===o.prices[e].type?(n=COMMON.formatNumber(o.prices[e].price),s=COMMON.formatNumber(o.prices[e].originalPrice)):"full"===o.prices[e].type&&(i=COMMON.formatNumber(o.prices[e].price)):"preSale"===o.prices[e].type?i=COMMON.formatNumber(o.prices[e].originalPrice):"sale"===o.prices[e].type?(n=COMMON.formatNumber(o.prices[e].price),s=COMMON.formatNumber(o.prices[e].originalPrice)):"full"===o.prices[e].type&&(i=COMMON.formatNumber(parseFloat(o.prices[e].price)+a))}if(r=void 0!==n?n:i,B_MINISHOPCART.product_map[t.orderItemId]={},void 0!==t.inventory[t.inventoryItemSelected.itemCatentryId]&&(B_MINISHOPCART.sizeAndWidth[o.uniqueID]=t.inventory[t.inventoryItemSelected.itemCatentryId],B_MINISHOPCART.product_map[t.orderItemId].Size=B_MINISHOPCART.sizeAndWidth[o.uniqueID].Size,B_MINISHOPCART.product_map[t.orderItemId].Width=B_MINISHOPCART.sizeAndWidth[o.uniqueID].Width,B_MINISHOPCART.sizeAndWidth[o.uniqueID].DisplaySize&&(B_MINISHOPCART.product_map[t.orderItemId].DisplaySize=B_MINISHOPCART.sizeAndWidth[o.uniqueID].DisplaySize),B_MINISHOPCART.sizeAndWidth[o.uniqueID].DisplayWidth&&(B_MINISHOPCART.product_map[t.orderItemId].DisplayWidth=B_MINISHOPCART.sizeAndWidth[o.uniqueID].DisplayWidth),B_MINISHOPCART.sizeAndWidth[o.uniqueID].RtwSize&&(B_MINISHOPCART.product_map[t.orderItemId].RtwSize=B_MINISHOPCART.sizeAndWidth[o.uniqueID].RtwSize),B_MINISHOPCART.sizeAndWidth[o.uniqueID].RtwWidth&&(B_MINISHOPCART.product_map[t.orderItemId].RtwWidth=B_MINISHOPCART.sizeAndWidth[o.uniqueID].RtwWidth)),debug.log("------Get Product------"),B_MINISHOPCART.product_map[t.orderItemId].ProductiveCategoryCode=o.productiveCategoryCode,B_MINISHOPCART.product_map[t.orderItemId].ColorDescription=o.color,B_MINISHOPCART.product_map[t.orderItemId].img=o.image1,B_MINISHOPCART.product_map[t.orderItemId].name=o.name,B_MINISHOPCART.product_map[t.orderItemId].price=COMMON.currencySymbol+" "+COMMON.formatNumberThousandsSeparator(r),B_MINISHOPCART.product_map[t.orderItemId].oldPrice=COMMON.currencySymbol+" "+COMMON.formatNumberThousandsSeparator(s),B_MINISHOPCART.product_map[t.orderItemId].qty=parseFloat(t.quantity),B_MINISHOPCART.product_map[t.orderItemId].partNumber=o.partNumber,B_MINISHOPCART.product_map[t.orderItemId].productId=o.uniqueID,B_MINISHOPCART.product_map[t.orderItemId].url=o.url,B_MINISHOPCART.product_map[t.orderItemId].deliveryDate=t.inventoryItemSelected.msg,"R"==COMMON.userType){var l=B_WISHLIST.wishListItem,c=!1;for(e=0;e<l.length;e++){var d=!1;if(void 0!==l[e].item&&!d)for(var u=0;u<l[e].item.length;u++)if(l[e].item[u].partNumber.substring(0,6)===o.partNumber){c=d=!0,B_MINISHOPCART.product_map[t.orderItemId].wishlistBtn='<svg><use xlink:href="#wishlist-full"/></svg>';break}}c||(B_MINISHOPCART.product_map[t.orderItemId].wishlistBtn='<svg><use xlink:href="#wishlist"/></svg>')}else B_MINISHOPCART.product_map[t.orderItemId].wishlistBtn='<svg><use xlink:href="#wishlist"/></svg>';B_MINISHOPCART.usableShippingMode=h.usableShippingMode})}"homepage"!==MAIN.pageTemplate&&"homepage--r19"!==MAIN.pageTemplate&&"category"!==MAIN.pageTemplate&&"category--r19"!==MAIN.pageTemplate&&"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate||B_GOOGLE_TAG_MANAGER.setDataLayerCart(h,e,t),p(document).minicartR19("cartDetail",t)}},getCart:function(a,s){B_MINISHOPCART.orderId="";var e=p.tcl.cartServices.refreshCart(COMMON.storeId,!1);p.when(e).done(function(e){if(void 0===e)debug.info("Cart was NOT found."),p(document).minicartR19("cartDetail"),"homepage"!==MAIN.pageTemplate&&"homepage--r19"!==MAIN.pageTemplate&&"category"!==MAIN.pageTemplate&&"category--r19"!==MAIN.pageTemplate&&"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate||B_GOOGLE_TAG_MANAGER.setDataLayerCart(0,a);else{if(debug.log("------Get cart------"),B_MINISHOPCART.product_map={},1<=(B_MINISHOPCART.responseToVersaTag=e).recordSetCount?(p(".cart-counter").text(e.recordSetCount),p(".cart-counter").show()):(p(".cart-counter").text(e.recordSetCount),p(".cart-counter").hide()),B_MINISHOPCART.orderId=e.orderId,COMMON.isPresaleEnabled()?B_MINISHOPCART.totalProductPrice=COMMON.formatNumber(e.grandTotal):B_MINISHOPCART.totalProductPrice=e.totalProductPrice,e.orderItem)for(var t=0;t<e.orderItem.length;t++){var i=e.orderItem[t],n=i.partNumber.substring(0,6),r=i.unitPrice,o=void 0;COMMON.isPresaleEnabled()&&(r=COMMON.formatNumber(r)+COMMON.formatNumber(i.totalAdjustment.value),o=COMMON.formatNumber(i.unitPrice)),B_MINISHOPCART.getProductSizeAndWidth(i.productId,COMMON.locale),B_MINISHOPCART.getProduct(i.productId,r,o,i.quantity,i.orderItemId,n,i.xitem_field2,i.order_item_description)}"homepage"!==MAIN.pageTemplate&&"homepage--r19"!==MAIN.pageTemplate&&"category"!==MAIN.pageTemplate&&"category--r19"!==MAIN.pageTemplate&&"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate||B_GOOGLE_TAG_MANAGER.setDataLayerCart(e,a,s),p(document).minicartR19("cartDetail")}}).fail(function(e,t,i){404===e.status?(debug.info("Cart was NOT found."),p(document).minicartR19("cartDetail")):B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},getProduct:function(e,o,a,s,l,c,d,u){var t=p.tcl.cartServices.getProduct(COMMON.storeId,e,!1);p.when(t).done(function(e){debug.log("------Get Product------"),debug.log(e),B_MINISHOPCART.product_map[l]={};for(var t=0;t<e.CatalogEntryView[0].Attributes.length;t++){var i=e.CatalogEntryView[0].Attributes[t];if("Width"===i.name||"Size"===i.name){var n=i.name,r=i.Values[0].values;B_MINISHOPCART.product_map[l][n]=r}}B_MINISHOPCART.getDescriptiveAttributes(c),p(B_MINISHOPCART.attributes).each(function(e,t){if("ProductiveCategoryCode"===t.name){var i=t.Values[0].values;B_MINISHOPCART.product_map[l].ProductiveCategoryCode=i}"ColorDescription"===t.name&&(B_MINISHOPCART.product_map[l].ColorDescription=t.Values[0].values)}),B_MINISHOPCART.sizeAndWidth&&B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID]&&(B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].DisplaySize&&(B_MINISHOPCART.product_map[l].DisplaySize=B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].DisplaySize),B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].DisplayWidth&&(B_MINISHOPCART.product_map[l].DisplayWidth=B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].DisplayWidth),B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].RtwSize&&(B_MINISHOPCART.product_map[l].RtwSize=B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].RtwSize),B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].RtwWidth&&(B_MINISHOPCART.product_map[l].RtwWidth=B_MINISHOPCART.sizeAndWidth[e.CatalogEntryView[0].uniqueID].RtwWidth)),B_MINISHOPCART.product_map[l].img=e.CatalogEntryView[0].thumbnail,B_MINISHOPCART.product_map[l].name=e.CatalogEntryView[0].name,B_MINISHOPCART.product_map[l].price=COMMON.currencySymbol+" "+COMMON.formatNumberThousandsSeparator(o),B_MINISHOPCART.product_map[l].oldPrice=COMMON.currencySymbol+" "+COMMON.formatNumberThousandsSeparator(a),B_MINISHOPCART.product_map[l].qty=parseFloat(s),B_MINISHOPCART.product_map[l].xitem_field2=d,B_MINISHOPCART.product_map[l].order_item_description=u,B_MINISHOPCART.product_map[l].partNumber=e.CatalogEntryView[0].partNumber,B_MINISHOPCART.product_map[l].productId=e.CatalogEntryView[0].uniqueID}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},getProductSizeAndWidth:function(e,t){var i=p.tcl.cartServices.getProductSizeAndWidth(COMMON.storeId,e,t);p.when(i).done(function(e){debug.log("------ Get product Size And Width ------"),debug.log(e),B_MINISHOPCART.sizeAndWidth={},e.item&&(B_MINISHOPCART.sizeAndWidth[e.item.itemCatentryId]=e.item)}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},getDescriptiveAttributes:function(e){var t=p.tcl.cartServices.getProductByPartnum(COMMON.storeId,e,!1);p.when(t).done(function(e){debug.log("------Get Descriptive Attributes------"),debug.log(e),B_MINISHOPCART.attributes=e.CatalogEntryView[0].Attributes}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},removeItem:function(t,e){var i={orderItemId:""+t};B_MINISHOPCART.lastAddedOrRemovedOrderItem=B_MINISHOPCART.product_map[t];var n=p.tcl.cartServices.deleteCartProduct(COMMON.storeId,t,JSON.stringify(i));p.when(n).done(function(e){debug.log("------Delete Cart product------"),debug.log(e),debug.info("OrderItem "+t+" deleted"),p(document).minicartR19("refresh",!0),p("#notice-placeholder").length&&B_MYACCOUNT.getRecordSetCount()}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e),B_MINISHOPCART.getCart(!1,"remove")}).always(function(){})},getPromoCode:function(){var e=p.tcl.promoServices.getPromoCodePreSale(COMMON.storeId);p.when(e).done(function(e){debug.log("------Get Promo Code------"),debug.log(e),e.promotionCode?(debug.info(e.promotionCode.length+" Promotion codes retrieved"),B_MINISHOPCART.promotionCode=e.promotionCode):(debug.info("No Promotion code found"),B_MINISHOPCART.promotionCode=null)}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},applyPromoCode:function(t){var e={promoCode:t},i=p.tcl.promoServices.applyPromoCodePreSale(COMMON.storeId,JSON.stringify(e));p.when(i).done(function(e){debug.log("------Apply Promo Code------"),debug.log(e),debug.info("Promotion code "+t+" applied")}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},orderCalculateNoTaxes:function(e){this.orderCalculate({calculationUsageId:["-1","-4","-5","-6","-7"]},e)},orderCalculate:function(t,e){var i=p.tcl.orderServices.orderCalculatePreSale(COMMON.storeId,e,JSON.stringify(t));p.when(i).done(function(e){console.log("------Order Calculate------"),console.log(e),console.info("Calculate for "+t.calculationUsageId+" components executed")}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},goToPaypal:function(e){var t=p.tcl.orderServices.goToPaypal(COMMON.storeId,COMMON.langId,COMMON.catalogId,e,!0);p.when(t).done(function(e){console.log("-----------Redirect to Paypal----------"),console.log(e),document.location.href=e.redirecturl}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)})},tryAtHomeCheckPostcode:function(e){var t=p.tcl.cartServices.tryAtHomeCheckPostcode(COMMON.storeId,e);p.when(t).done(function(e){!0===e.isValid&&p(document).tryAtHome("onPostcodeSuccessMinicart")}).fail(function(e,t,i){p(document).tryAtHome("onPostcodeFailure",e.responseJSON.error)}).always(function(){})},tryAtHomeCreateCart:function(e){var t=p.tcl.cartServices.tryAtHomeCreateCart(COMMON.storeId,e);p.when(t).done(function(e){p(document).tryAtHome("onCartCreateSuccess",e)}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})},getCartDeliveryDate:function(){B_MINISHOPCART.cartDeliveryDate=[];var e=p.tcl.cartServices.getCartDeliveryDate(COMMON.storeId);p.when(e).done(function(e){debug.log("------load delivery date for orderitems------"),debug.log(e),debug.info("delivery date returned.");for(var t=Object.keys(e),i=0;i<t.length;i++){var n=t[i];B_MINISHOPCART.cartDeliveryDate[n]={msg:e[n].msg,qtySecure:e[n].qtySecure,qtyNotSecure:e[n].qtyNotSecure}}}).fail(function(e,t,i){B_MINISHOPCART.showAjaxErrorMessage(e)}).always(function(){})}}}(jQuery);var B_SEARCH=B_SEARCH||{};!function(a){B_SEARCH={personalInformation:"",searchSuggestionsDefault:[]};var s=!0;searchTerm=a("#searchTerm").text();var i=0,l=0;filter="",filterObj={},B_SEARCH.init=function(){B_SEARCH.showMoreProducts()},B_SEARCH.showAjaxErrorMessage=function(e){var t="";if(e.responseText&&403!==e.status){var i=e.responseJSON.errors;if(null!=i){if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;i&&i[0].errorMessage?(t=i[0].errorMessage,CMP.modal.error(t)):t=i[0]}else t=e.responseText}else t=403===e.status?errorMessageXSS:e;CMP.modal.error(t),console.error(t)},B_SEARCH.showMoreProducts=function(o){i++;var e=numberElementForPage,t=a.tcl.searchR17Services.search(searchTerm,e,filter,i);a.when(t).done(function(e){var t=a("#cpd-grid__item-template").html(),i=_.template(t);if(a(".cpd-grid__container-inner").append(i(e)),(l+=parseInt(e.recordSetCount))>=parseInt(e.recordSetTotal)?a(".cpd-load-more__pager__next").addClass("hidden"):a(".cpd-load-more__pager__next").removeClass("hidden"),CMP.lazy_images(".lazy-load",{callback:function(e){var t="img-loaded";e?a(this).load(function(){a(this).addClass(t)}):a(this).addClass(t)}}),e.shownRes=l,t=a("#cpd-head__title-template").html(),i=_.template(t),a(".cpd-head__title").html(i(e)),e.shownRes=l,t=a("#cpd-load-more__pager__tit-template").html(),i=_.template(t),a(".cpd-load-more__pager__tit").html(i(e)),s){t=a("#productsFacets-template").html(),i=_.template(t);var n={},r=new Array;a(e.FacetView).each(function(e,t){if("ads_f12001_ntk_cs"===t.value)var i="ColorAggregation";else i=t.name;n[i]=t,r.push(i)}),e.catMap=n,e.subCatArr=r,a("#productsFacets").html(i(e)),a(".facet-navigation").facetNavigation("destroy"),a(".facet-navigation").facetNavigation(),a(".facet-navigation").facetNavigation("buildFilterSlider"),s=!1,B_GOOGLE_ANALYTICS.googleAnalyticsEnabled&&B_GOOGLE_ANALYTICS.commonSearchEvent(searchTerm,e.recordSetTotal)}B_GOOGLE_TAG_MANAGER.setDataLayerSearchFilterAndNumberProduct(filterObj,e.recordSetTotal,o),a(".cpd-product").cpdProduct()}).fail(function(e,t,i){(i={recordSetTotal:0}).searchTerm=searchTerm,filterObj={},template=a("#cpd-head__title-template").html(),templateCompiled=_.template(template),a(".cpd-head__title").html(templateCompiled(i)),i.shownRes=0,template=a("#cpd-load-more__pager__tit-template").html(),templateCompiled=_.template(template),a(".cpd-load-more__pager__tit").html(templateCompiled(i)),404!==e.status&&B_SEARCH.showAjaxErrorMessage(e),B_GOOGLE_ANALYTICS.googleAnalyticsEnabled&&B_GOOGLE_ANALYTICS.commonSearchEvent(searchTerm,i.recordSetTotal),B_GOOGLE_TAG_MANAGER.setDataLayerSearchFilterAndNumberProduct(filterObj,i.recordSetTotal,o)}).always(function(){})},B_SEARCH.getSearchSuggestionsDefault=function(){if(B_SEARCH.searchSuggestionsDefaultESpotName="Search_Suggestions_Default",0===B_SEARCH.searchSuggestionsDefault.length){var e=a.tcl.searchR17Services.getESpotData(B_SEARCH.searchSuggestionsDefaultESpotName,!1);a.when(e).done(function(e){var t=e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText;void 0!==t&&(B_SEARCH.searchSuggestionsDefault=t.split(";"))}).fail(function(e,t,i){404!==e.status&&B_SEARCH.showAjaxErrorMessage(e)}).always(function(){})}},a(".cpd-load-more__pager__next").on("click",function(){a(".cpd-load-more__pager__next").blur(),B_SEARCH.showMoreProducts()}),a("#facetNavigation_inStock").on("change",function(){updateFilter()}),a("#productsFacets").on("click",".filteritem",function(){var e=a(this).find(".outline");e.hasClass("facetSelectedHighlight")?e.removeClass("facetSelectedHighlight"):e.addClass("facetSelectedHighlight"),a(".filterCount").text(a("#productsFacets .facetSelectedHighlight").length),updateFilter()}),updateFilter=function(){for(var e in filter="",filterObj={},a("#productsFacets a:has(.facetSelectedHighlight)").each(function(){var e=a(this).data("filtergroup");null==filterObj[e]&&(filterObj[e]=[]),filterObj[e].push(a(this).data("filtervalue"))}),1==a("#facetNavigation_inStock:checked").length&&(filterObj.availability=[],filterObj.availability.push("in stock")),filterObj)a(filterObj[e]).each(function(e,t){""===filter?filter=t+",":filter+=","+t+","});console.log(filter)},a("#applyFilterButton").on("click",function(){a(".cpd-grid__container-inner").html(""),l=i=0,B_SEARCH.showMoreProducts()}),a("#clear_all_filter").on("click",function(){0<a("#productsFacets .facetSelectedHighlight").removeClass("facetSelectedHighlight").length&&(a(".cpd-grid__container-inner").html(""),filter="",filterObj={},l=i=0,a(".filterCount").text("0"),B_SEARCH.showMoreProducts())})}(jQuery);var B_SHOPPING=B_SHOPPING||{};!function(G){B_SHOPPING={storeId:COMMON.storeId,catalogId:COMMON.catalogId,langId:COMMON.langId,locale:COMMON.localeCountry,productDetail:[],productItems:[],availableProductIds:{},availableProducts:{},catalogEntryViewList:{},aggregatedProducts:[],imageGallery:void 0!==window.imageGallery?JSON.parse(window.imageGallery):{},productInfo:{nameProduct:"",model:"",color:"",size:"",width:"",sku:"",image:"",description:"",qty:"",price:""},storeInfo:{nameStore:"",addressStore:"",zipCodeStore:"",phoneStore:"",emailStore:"",emailStoreManager:"",idsap:""},showAjaxErrorMessage:function(e){var t="";if(e.responseText&&403!==e.status){var i=JSON.parse(e.responseText);if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;t=i&&i.errors&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText}else t=403===e.status?errorMessageXSS:e;debug.error(t),CMP.modal.error(t)},fetchCustomProductDetail:function(W){var e=G.tcl.productServices.getCustomProductDetail(W);return G.when(e).done(function(e){e.productDetail&&e.productDetail.inventory&&(e.productDetail.inventory=JSON.parse(e.productDetail.inventory));var t={catentryId:W,partNumber:""+e.productDetail.partNumber,productDetail:e.productDetail,productItems:[],otherInfo:{},synthInfo:{}},i=Object.keys(t.productDetail.inventory),n={parentPartNumber:t.partNumber};if(i&&n){n.attributes=[];for(var r=0;r<i.length;r++){var o=i[r],a={};t.productDetail.inventory[o]&&t.productDetail.inventory[o].Size&&t.productDetail.inventory[o].Width&&(a.size=t.productDetail.inventory[o].Size,a.width=t.productDetail.inventory[o].Width),n.attributes.push(a)}}t.productItems.push(n),t.otherInfo.eyewareCat=!1,t.productDetail.attributes.productiveCategoryCode===eywearCatProdCode&&(t.otherInfo.eyewareCat=!0),t.otherInfo.eanWithCatCode=!1,_.contains(eanWithCatCodeList,t.productDetail.attributes.productiveCategoryCode)&&(t.otherInfo.eanWithCatCode=!0);var s=_.find(t.productItems,function(e){return e.parentPartNumber===t.partNumber});if(void 0!==s&&0<Object.keys(t.productDetail.inventory).length){t.otherInfo.uniqueEan=!1,1===Object.keys(t.productDetail.inventory).length&&(t.otherInfo.uniqueEan=!0);var l=Object.keys(t.productDetail.inventory)[0],c=t.productDetail.inventory[l];if(t.otherInfo.eyewareCat)var d=c.Width,u=c.Size,h=c.Size,p=c.Width;else{u=""==c.Size?void 0:c.Size,d=""==c.Width?void 0:c.Width,h=""==c.Size?void 0:c.Size,p=""==c.Width?void 0:c.Width;t.otherInfo.attrConvertedFlag=!1,c.StoreSize?(u=""==c.Size?void 0:c.StoreSize,t.otherInfo.attrConvertedFlag=!0):c.DisplaySize&&(u=""==c.Size?void 0:c.DisplaySize,t.otherInfo.attrConvertedFlag=!0),c.DisplayWidth&&(d=""==c.Width?void 0:c.DisplayWidth,t.otherInfo.attrConvertedFlag=!0),c.RtwSize&&(u=c.RtwSize),c.RtwWidth&&(d=c.RtwWidth)}var f=t.productDetail.inventory,m=[],g=[],v=[],y=[];for(var b in f){var C=f[b].Width,w=f[b].DisplayWidth,S=f[b].RtwWidth;y=_.contains(m,C)?v[C]:(m.push(C),w?g.push(w):S?g.push(S):g.push(C),[]),(v[C]=y).push(b)}var k=[],I=[],M=[],T=[],O=[],x=[];for(var b in f){C=f[b].Size,w=f[b].DisplaySize;var A=f[b].StoreSize,P=f[b].RtwSize;void 0!==C&&0<C.length&&(x=_.contains(M,C)?O[C]:(M.push(C),A?T.push(A):w?T.push(w):P?T.push(P):T.push(C),[])),x.push(b),O[C]=x}for(var D=["XS","S","M","L","XL","XXL","3XL","7C","7L","7R","8C","8L","8R","9C","9L","9R","Y","AA","B","C","D","E","EE","EEE"],N=0;N<D.length;N++)for(var E=D[N],$=0;$<m.length;$++){var R=m[$],L=g[$];E===R&&(k.push(E),I.push(L))}var B=window.widthLabel,H=!1,j=window.prodCatCodesListRtwChangeWidthLabel.split(",");_.contains(j,t.productDetail.attributes.productiveCategoryCode)&&(B=window.widthForRTWLabel,H=!0),t.synthInfo={entryView_AttrWidth:d,entryView_AttrSize:u,sizeValNotConverted:h,widthValNotConverted:p,uniqueWidth:k,convertedUniqueWidth:I,uniqueSize:M,convertedUniqueSize:T,mapWidth:v,mapSize:O,eyewareCat:t.otherInfo.eyewareCat,widthLabel:B,hideWidth:H,colorDescription:t.productDetail.attributes.colorDescription,name:s.name}}if(t.otherInfo.isEmptyPrice=!1,0!==t.productDetail.prices.length&&null!==t.productDetail.prices[0].value||(t.otherInfo.isEmptyPrice=!0,t.productDetail.inventory[partNumber.partNumber]={},console.error("Price is empty!")),!t.otherInfo.isEmptyPrice){var z=t.productDetail.prices,F=void 0,U=0;z.forEach(function(e){parseInt(e.precedence)>U&&(F=e,U=parseInt(e.precedence))}),F.offerPriceWithSymbol=COMMON.currencySymbol+F.formattedPrice,F.originalFormattedPrice=COMMON.formatNumberThousandsSeparator(F.originalPrice),F.originalPriceWithSymbol=COMMON.currencySymbol+F.originalFormattedPrice,t.otherInfo.offerPrice=F}B_SHOPPING.productDetail[W]=t,B_SHOPPING.product=t,B_SHOPPING.merchAssoc=t.productDetail.merchandisingAssociations,console.log("custom-product-detail-loaded.B_SHOPPING",t),G(document).trigger("custom-product-detail-loaded.B_SHOPPING",t)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){}),e},getCustomProductDetail:function(e){return null!=e?B_SHOPPING.productDetail[e]:void 0},loadCatEntry:function(t){if(t=""+t,B_SHOPPING.productItems.push({parentPartNumber:t}),B_SHOPPING.availableProducts[t]){var e=Object.keys(B_SHOPPING.availableProducts[t]),i=_.find(B_SHOPPING.productItems,function(e){return e.parentPartNumber===t});i.attributes=[];for(var n=0;n<e.length;n++)B_SHOPPING.addAttributes(e[n],t,i)}G(document).trigger("all-attributes-loaded.B_SHOPPING")},getAtpInventory:function(a){var e=G.tcl.orderServices.getAtpInventory(COMMON.storeId,a,B_SHOPPING.locale,!1);G.when(e).done(function(e){for(var t in debug.log("------Atp Inventory------"),debug.log(e),e)if(a===t)var i=t;if(void 0!==i)var n=e[i];else n=e;var r=Object.keys(n).length;debug.info("Inventory helper retrieved "+r+" existing items"),B_SHOPPING.availableProductIds.catentryIds||(B_SHOPPING.availableProductIds={catentryIds:{}}),B_SHOPPING.availableProductIds.catentryIds[a]=[];var o=0;G.map(n,function(e,t){"outofstock"!=e.type&&B_SHOPPING.availableProductIds.catentryIds[a].push(t),o==r-1&&B_SHOPPING.loadProductAvailable(a),o++})}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},loadProductAvailable:function(i){this.getProductCallExecuted=0;var e=B_SHOPPING.availableProductIds.catentryIds[i];G(e).each(function(e,t){B_SHOPPING.getProduct(t,i)})},getProduct:function(i,n){var e=G.tcl.cartServices.getProduct(COMMON.storeId,i,!1);G.when(e).done(function(e){debug.log("------Get Product------"),debug.log(e),_.find(B_SHOPPING.catalogEntryViewList,function(e,t){return t===i})||(B_SHOPPING.catalogEntryViewList[i]=e.CatalogEntryView[0]),G(e.CatalogEntryView).each(function(e,t){G(t.Attributes).each(function(e,t){B_SHOPPING.availableProducts[n]||(B_SHOPPING.availableProducts[n]={}),B_SHOPPING.availableProducts[n][i]||(B_SHOPPING.availableProducts[n][i]={}),B_SHOPPING.availableProducts[n][i][t.identifier]=t.Values[0].values})}),B_SHOPPING.checkAllAttributesRetrieved(i,n)}).fail(function(e){B_SHOPPING.showAjaxErrorMessage(jqXHR),B_SHOPPING.checkAllAttributesRetrieved(i,n)}).always(function(){})},checkAllAttributesRetrieved:function(e,t){this.getProductCallExecuted++;for(var i=0,n=0;n<Object.keys(B_SHOPPING.availableProductIds.catentryIds).length;n++){var r=Object.keys(B_SHOPPING.availableProductIds.catentryIds)[n];i+=B_SHOPPING.availableProductIds.catentryIds[r].length}this.getProductCallExecuted==i&&(B_SHOPPING.addAttributes(e,t),G(document).trigger("all-attributes-loaded.B_SHOPPING"))},addAttributes:function(e,t,i){if(i){var n={};B_SHOPPING.availableProducts[t]&&B_SHOPPING.availableProducts[t][e]&&B_SHOPPING.availableProducts[t][e].Size&&B_SHOPPING.availableProducts[t][e].Width&&(n.size=B_SHOPPING.availableProducts[t][e].Size,n.width=B_SHOPPING.availableProducts[t][e].Width),i.attributes.push(n),debug.log("addAttributes: ",i)}},getNearLocationsFindInStore:function(e,t,i,n,r,o,a,s){var l=G.tcl.locationServices.getNearLocationsFindInStore(COMMON.storeId,e,t,i,n,r,o,a,s);G.when(l).done(function(e){tcl_mocker.enabled&&(e=e.data[0]),debug.log("-----------Near Locations----------"),debug.log(e),debug.log("Store count: ",e.count),debug.log("Store results: ",e.results),G(document).trigger("near-locations-received",e)}).fail(function(e,t,i){debug.log("------ERRORE------"),debug.log("textStatus: "+t),debug.log("data: "+i),debug.log("jqXHR: "+e),B_SHOPPING.showAjaxErrorMessage(e),"xs"===MAIN.responsive_r23.getBreakpoint()&&G("#modalError").css("top","0px")})},sendEmailReserveInStore:function(e,t,i){if(debug.log("action:"+e),debug.log("data:"+t),MAIN.isWcsEnv()){var n=G.tcl.ajax.post(e,t);G.when(n).done(function(e){debug.log("-----------sendEmailReserveInStore----------");e=(e=e.trim()).substr(e.indexOf("/*")+2,e.lastIndexOf("*/")-2);var t=JSON.parse(e);t&&t.errorCode?B_SHOPPING.showAjaxErrorMessage(COMMON.errorDecode.SEND_EMAIL_KO):G(document).trigger("dpd-ris-email-sent",e),i.close(),window.reCaptchaValidityReserveInStore=!1,grecaptcha.reset(window.reCaptchaWidgetIdReserveInStore)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e),window.reCaptchaValidityReserveInStore=!1,grecaptcha.reset(window.reCaptchaWidgetIdReserveInStore)})}else G(document).trigger("dpd-ris-email-sent",null),i.close(),window.reCaptchaValidityReserveInStore=!1,grecaptcha.reset(window.reCaptchaWidgetIdReserveInStore)},shareProduct:function(e){debug.log("data:"+e);var t=G.tcl.userServices.shareProduct(COMMON.storeId,e);G.when(t).done(function(e){G(document).emailSharePopup("onSuccessEmail")}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e),G(document).emailSharePopup("resetReCaptcha")})},getAdditionalInfo:function(e,t){var i=G.tcl.productServices.getProductESpots(e,t);G.when(i).done(function(e){G(document).trigger("additional-info-loaded.B_SHOPPING",e)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getSizeGuideCode:function(e,t){var i=G.tcl.productServices.getSizeGuideCode(e,t);G.when(i).done(function(e){""!==e.sizeGuideCode&&(B_SHOPPING.sizeGuideCode=e.sizeGuideCode,B_SHOPPING.getESpotDataBySizeGuideName(e.sizeGuideCode))}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getESpotDataBySizeGuideName:function(e){var t=G.tcl.productServices.getESpotData("SIZE_GUIDE_"+e);G.when(t).done(function(e){B_SHOPPING.sizeGuideContent=e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText,G(document).sizeGuideR19("initSizeGuide")}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getProductData:function(e,t){t=void 0!==t&&t;var i=G.tcl.productServices.getProduct(e,t);return G.when(i).done(function(e){B_SHOPPING.catalogEntryDetails=e.catalogEntryView[0]}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){}),i},getProductDetails:function(e){B_SHOPPING.getProductAttributes(e),G(document).dpdVisuals("populateTemplate",B_SHOPPING.imageGallery)},getProductAttributes:function(t){var e=G.tcl.productServices.getProductAttributes(t,!1);G.when(e).done(function(e){B_SHOPPING.catalogEntryAttributes=e,B_SHOPPING.getProductVariants(t,B_SHOPPING.catalogEntryDetails.partNumber),B_SHOPPING.getInventoryDetails(B_SHOPPING.catalogEntryDetails.partNumber,COMMON.locale)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getProductImageGallery:function(e){var t=G.tcl.productServices.getProductImageGallery(e,!1);G.when(t).done(function(e){B_SHOPPING.imageGallery=e,G(document).dpdVisuals("populateTemplate",B_SHOPPING.imageGallery)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getProductVariants:function(e,t){var i=G.tcl.wcsProperties.getPDPAggregationAttributeName(),n=G.grep(B_SHOPPING.catalogEntryDetails.attributes,function(e,t){return e.identifier===i}),r="";r=void 0===n||0===n.length?B_SHOPPING.catalogEntryAttributes[i]:n[0].values[0].value;var o=G.tcl.wcsProperties.getPDPDistinguishAttributeName(),a=G.grep(B_SHOPPING.catalogEntryDetails.attributes,function(e,t){return e.identifier===o}),s="",l="",c="";0<a.length&&(c=a[0].values[0].value,l=a[0].identifier,s=a[0].name);var d=G.grep(B_SHOPPING.catalogEntryDetails.attributes,function(e,t){return"Spec"===e.identifier}),u=0<d.length?d[0].values[0].value:"",h=G.tcl.productServices.getProductVariants(e,window.categoryId,window.topCategory,window.parentCategory,t,r,c,l,s,u,!1);return G.when(h).done(function(e){B_SHOPPING.groupedProducts=e}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){}),h},getInventoryDetails:function(e,t){var i=G.tcl.productServices.getInventoryAvailabilityExt(e,t,!1);return G.when(i).done(function(e){var t=JSON.parse(e.items);B_SHOPPING.availableProducts[B_SHOPPING.catalogEntryDetails.partNumber]=t,B_SHOPPING.loadCatEntry(B_SHOPPING.catalogEntryDetails.partNumber)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){}),i},getDisplayAndOfferPrice:function(){var e=G.tcl.productServices.getDisplayPrice(B_SHOPPING.catalogEntryDetails.uniqueID,!0);G.when(e).done(function(e){var t=e.resultList[0].unitPrice[0].price;if(B_SHOPPING.isEmptyPrice=!1,null===t.value&&(B_SHOPPING.isEmptyPrice=!0,B_SHOPPING.availableProducts[B_SHOPPING.catalogEntryDetails.partNumber]={},G(".product-toolbar__attributes").dpdAttributes("refresh"),console.error("Price is empty!")),G(".prod-r23-toolbar").css("visibility","visible"),!B_SHOPPING.isEmptyPrice){var i=COMMON.formatNumberThousandsSeparator(t.value);B_SHOPPING.displayPrice={displayPriceNotFormatted:t.value,formattedPriceWithSymbol:COMMON.currencySymbol+i},B_SHOPPING.getOfferPrice()}}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getOfferPrice:function(){var e=G.tcl.productServices.getOfferPrice(B_SHOPPING.catalogEntryDetails.uniqueID,!0);G.when(e).done(function(e){var t=e.prices.prices,i=void 0,n=0;G(t).each(function(e,t){t.precedence>n&&(n=(i=t).precedence)});var r=COMMON.preSaleDiscountPercent;if(COMMON.catalogId==COMMON.preSaleCatalogId&&""!==r&&0!=r){var o=100-r.substring(1,3);""!==i.type&&void 0!==i.type||(i.price=B_SHOPPING.displayPrice.displayPriceNotFormatted),i.originalPrice=i.formattedPrice,i.price=o*i.price/100,i.formattedPrice=COMMON.formatNumberThousandsSeparator(i.price),i.type="preSale"}i.offerPriceWithSymbol=COMMON.currencySymbol+i.formattedPrice,i.originalFormattedPrice=COMMON.formatNumberThousandsSeparator(i.originalPrice),i.originalPriceWithSymbol=COMMON.currencySymbol+i.originalFormattedPrice,B_SHOPPING.offerPrice=i,G(document).priceDisplay("populateTemplate")}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getPersonalInformation:function(){var e=G.tcl.userServices.loadPersonalInformation(COMMON.storeId,!1);G.when(e).done(function(e){debug.info("-------Personal Information for Reserve in store------"),B_SHOPPING.personalInfo=e}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getProp65California:function(){var e=G.tcl.productServices.getESpotData("INFORMATIVE_PROP_65_CALIFORNIA");G.when(e).done(function(e){G(".product-toolbar__attributes").dpdAttributes("populateProp65California",e)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},getAggregatedProductDetails:function(e){return B_SHOPPING.aggregatedProducts[e]},fetchAggregatedProductDetails:function(r){B_SHOPPING.aggregatedProducts[r]={};var e=G.tcl.productServices.getProduct(r,!0);G.when(e).done(function(e){var z=e.catalogEntryView[0],F={catentryId:r,partNumber:z.partNumber,apiResponses:{catalogEntryDetails:z,catalogEntryAttributes:{},availableProducts:[],imageGallery:{},productItems:[]},otherInfo:{},synthInfo:{}};B_SHOPPING.aggregatedProducts[r]=F;var t=G.tcl.productServices.getProductAttributes(r,!0),i=G.tcl.productServices.getInventoryAvailabilityExt(F.partNumber,COMMON.locale,!0),n=G.tcl.productServices.getProductImageGallery(F.partNumber,!0);G.when(t,i,n).done(function(e,t,i){if(F.apiResponses.catalogEntryAttributes=e[0],F.apiResponses.availableProducts[F.partNumber]=JSON.parse(t[0].items),F.apiResponses.imageGallery=i[0],F.apiResponses.productItems=[],F.apiResponses.productItems.push({parentPartNumber:F.partNumber}),F.apiResponses.availableProducts[F.partNumber]){var n=Object.keys(F.apiResponses.availableProducts[F.partNumber]),r=_.find(F.apiResponses.productItems,function(e){return e.parentPartNumber===F.partNumber});r.attributes=[];for(var o=0;o<n.length;o++){var a=n[o],s=F.partNumber;if(r){var l={};F.apiResponses.availableProducts[s]&&F.apiResponses.availableProducts[s][a]&&F.apiResponses.availableProducts[s][a].Size&&F.apiResponses.availableProducts[s][a].Width&&(l.size=F.apiResponses.availableProducts[s][a].Size,l.width=F.apiResponses.availableProducts[s][a].Width),r.attributes.push(l)}}}F.otherInfo.eyewareCat=!1,F.apiResponses.catalogEntryAttributes.ProductiveCategoryCode===eywearCatProdCode&&(F.otherInfo.eyewareCat=!0),F.otherInfo.fragranceCat=!1,F.apiResponses.catalogEntryAttributes.ProductiveCategoryCode===fragranceCatProdCode&&(F.otherInfo.fragranceCat=!0);var c=_.find(F.apiResponses.productItems,function(e){return e.parentPartNumber===F.partNumber});if(void 0!==c&&0<Object.keys(F.apiResponses.availableProducts[c.parentPartNumber]).length){F.otherInfo.uniqueEan=!1,1===Object.keys(F.apiResponses.availableProducts[c.parentPartNumber]).length&&(F.otherInfo.uniqueEan=!0);var d=Object.keys(F.apiResponses.availableProducts[c.parentPartNumber])[0];if(F.otherInfo.eyewareCat&&!0===F.otherInfo.eyewareCat)var u=F.apiResponses.availableProducts[c.parentPartNumber][d].Width,h=F.apiResponses.availableProducts[c.parentPartNumber][d].Size,p=F.apiResponses.availableProducts[c.parentPartNumber][d].Size,f=F.apiResponses.availableProducts[c.parentPartNumber][d].Width;else{h=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Size?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].Size,u=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Width?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].Width,p=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Size?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].Size,f=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Width?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].Width;F.otherInfo.attrConvertedFlag=!1,F.apiResponses.availableProducts[c.parentPartNumber][d].StoreSize?(h=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Size?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].StoreSize,F.otherInfo.attrConvertedFlag=!0):F.apiResponses.availableProducts[c.parentPartNumber][d].DisplaySize&&(h=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Size?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].DisplaySize,F.otherInfo.attrConvertedFlag=!0),F.apiResponses.availableProducts[c.parentPartNumber][d].DisplayWidth&&(u=""==F.apiResponses.availableProducts[c.parentPartNumber][d].Width?void 0:F.apiResponses.availableProducts[c.parentPartNumber][d].DisplayWidth,F.otherInfo.attrConvertedFlag=!0),F.apiResponses.availableProducts[c.parentPartNumber][d].RtwSize&&(h=F.apiResponses.availableProducts[c.parentPartNumber][d].RtwSize),F.apiResponses.availableProducts[c.parentPartNumber][d].RtwWidth&&(u=F.apiResponses.availableProducts[c.parentPartNumber][d].RtwWidth)}var m=F.apiResponses.availableProducts[c.parentPartNumber],g=[],v=[],y=[],b=[];for(var C in m){var w=m[C].Width,S=m[C].DisplayWidth,k=m[C].RtwWidth;b=_.contains(g,w)?y[w]:(g.push(w),S?v.push(S):k?v.push(k):v.push(w),[]),(y[w]=b).push(C)}var I=[],M=[],T=[],O=[],x=[],A=[];for(var C in m){w=m[C].Size;var P=m[C].StoreSize,D=(S=m[C].DisplaySize,m[C].RtwSize);void 0!==w&&0<w.length&&(A=_.contains(T,w)?x[w]:(T.push(w),P?O.push(P):S?O.push(S):D?O.push(D):O.push(w),[])),A.push(C),x[w]=A}for(var N=["XS","S","M","L","XL","XXL","3XL","7C","7L","7R","8C","8L","8R","9C","9L","9R","Y","AA","B","C","D","E","EE","EEE"],E=0;E<N.length;E++)for(var $=N[E],R=0;R<g.length;R++){var L=g[R],B=v[R];$===L&&(I.push($),M.push(B))}var H=window.widthLabel,j=window.prodCatCodesListRtwChangeWidthLabel.split(",");_.contains(j,F.apiResponses.catalogEntryAttributes.ProductiveCategoryCode)&&(H=window.widthForRTWLabel),F.synthInfo={entryView:z,entryView_AttrWidth:u,entryView_AttrSize:h,sizeValNotConverted:p,widthValNotConverted:f,uniqueWidth:I,convertedUniqueWidth:M,uniqueSize:T,convertedUniqueSize:O,mapWidth:y,mapSize:x,fragranceCat:F.otherInfo.fragranceCat,eyewareCat:F.otherInfo.eyewareCat,widthLabel:H,colorDescription:F.apiResponses.catalogEntryAttributes.ColorDescription,name:c.name}}console.log("aggregated-product-details-loaded.B_SHOPPING",F),G(document).trigger("aggregated-product-details-loaded.B_SHOPPING",F)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)})}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)})},getProductRecommendations:function(e){var t=G.tcl.productServices.getProductRecommendations(e,window.categoryId);G.when(t).done(function(e){G(document).recommendations("showWebActivityRecommendations",e)}).fail(function(e,t,i){B_SHOPPING.showAjaxErrorMessage(e)}).always(function(){})},checkVTOEnabled:function(t,e){var i=G.tcl.productServices.checkVTOEnabled(e);G.when(i).done(function(e){0<e.length&&(B_SHOPPING.productDetail[t].productDetail.vtoEnabled=e[0].available,G(document).trigger("vto-checked.b_shopping"))}).fail(function(e,t,i){console.error("VTO error")}).always(function(){})},getAgecInfo:function(e){var t=G.tcl.productServices.getAgecInfo(e);G.when(t).done(function(e){if(null==e.productDetail.errorCode)G(document).agec("populateTemplate",e);else{var t=e.productDetail.errorCode,i=e.productDetail.errorMessage;"_ERR_RECAPCTHA_VERIFICATION"==t?console.error("Agec: "+i):G(document).agec("populateTemplate",e)}G(document).agec("resetCaptcha",this)}).fail(function(e,t,i){var n=JSON.parse(i.responseText),r=i.status;message=n.errors[0].errorMessage,console.error("Agec: "+r+" - "+message),G(document).agec("populateTemplate",n)}).always(function(){})},clearAllData:function(){B_SHOPPING={storeId:"",catalogId:"",langId:"",locale:"en_US",productItems:[],availableProductIds:{},availableProducts:{},catalogEntryViewList:{},catalogEntryAttributes:{},displayPrice:{},offerPrice:{}}}}}(jQuery);var B_QUICKBUY=B_QUICKBUY||{};!function(c){B_QUICKBUY={storeId:COMMON.storeId,catalogId:COMMON.catalogId,langId:COMMON.langId,locale:COMMON.localeCountry,isAddListenerBloomReachTracking:!1,productItems:[],availableProductIds:{},availableProducts:{},catalogEntryViewList:{},productInfo:{nameProduct:"",model:"",color:"",size:"",width:"",sku:"",image:"",description:"",qty:"",price:""},storeInfo:{nameStore:"",addressStore:"",zipCodeStore:"",phoneStore:"",emailStore:"",emailStoreManager:"",idsap:""},showAjaxErrorMessage:function(e){var t="";if(e.responseText&&403!==e.status){var i=JSON.parse(e.responseText);if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;t=i&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText}else t=403===e.status?errorMessageXSS:e;console.error(t),CMP.modal.error(t)},loadCatEntry:function(t){if(t=""+t,B_QUICKBUY.productItems=[],B_QUICKBUY.productItems.push({parentPartNumber:t}),B_QUICKBUY.availableProducts[t]){var e=Object.keys(B_QUICKBUY.availableProducts[t]),i=_.find(B_QUICKBUY.productItems,function(e){return e.parentPartNumber===t});i.attributes=[];for(var n=0;n<e.length;n++)B_QUICKBUY.addAttributes(e[n],t,i)}c(document).trigger("all-attributes-loaded.B_QUICKBUY")},getAtpInventory:function(a){var e=c.tcl.orderServices.getAtpInventory(B_QUICKBUY.storeId,a,B_QUICKBUY.locale,!1);c.when(e).done(function(e){for(var t in debug.log("------Atp Inventory------"),debug.log(e),e)if(a===t)var i=t;if(void 0!==i)var n=e[i];else n=e;var r=Object.keys(n).length;debug.info("Inventory helper retrieved "+r+" existing items"),B_QUICKBUY.availableProductIds.catentryIds||(B_QUICKBUY.availableProductIds={catentryIds:{}}),B_QUICKBUY.availableProductIds.catentryIds[a]=[];var o=0;c.map(n,function(e,t){"outofstock"!=e.type&&B_QUICKBUY.availableProductIds.catentryIds[a].push(t),o==r-1&&B_QUICKBUY.loadProductAvailable(a),o++})}).fail(function(e,t,i){B_QUICKBUY.showAjaxErrorMessage(e)}).always(function(){})},loadProductAvailable:function(i){this.getProductCallExecuted=0;var e=B_QUICKBUY.availableProductIds.catentryIds[i];c(e).each(function(e,t){B_QUICKBUY.getProduct(t,i)})},getProduct:function(i,n){var e=c.tcl.cartServices.getProduct(B_QUICKBUY.storeId,i,!1);c.when(e).done(function(e){debug.log("------Get Product------"),debug.log(e),_.find(B_QUICKBUY.catalogEntryViewList,function(e,t){return t===i})||(B_QUICKBUY.catalogEntryViewList[i]=e.CatalogEntryView[0]),c(e.CatalogEntryView).each(function(e,t){c(t.Attributes).each(function(e,t){B_QUICKBUY.availableProducts[n]||(B_QUICKBUY.availableProducts[n]={}),B_QUICKBUY.availableProducts[n][i]||(B_QUICKBUY.availableProducts[n][i]={}),B_QUICKBUY.availableProducts[n][i][t.identifier]=t.Values[0].values})}),B_QUICKBUY.checkAllAttributesRetrieved(i,n)}).fail(function(e){B_QUICKBUY.showAjaxErrorMessage(jqXHR),B_QUICKBUY.checkAllAttributesRetrieved(i,n)}).always(function(){})},checkAllAttributesRetrieved:function(e,t){this.getProductCallExecuted++;for(var i=0,n=0;n<Object.keys(B_QUICKBUY.availableProductIds.catentryIds).length;n++){var r=Object.keys(B_QUICKBUY.availableProductIds.catentryIds)[n];i+=B_QUICKBUY.availableProductIds.catentryIds[r].length}this.getProductCallExecuted==i&&(B_QUICKBUY.addAttributes(e,t),c(document).trigger("all-attributes-loaded.B_QUICKBUY"))},addAttributes:function(e,t,i){if(i){var n={};B_QUICKBUY.availableProducts[t]&&B_QUICKBUY.availableProducts[t][e]&&B_QUICKBUY.availableProducts[t][e].Size&&B_QUICKBUY.availableProducts[t][e].Width&&(n.size=B_QUICKBUY.availableProducts[t][e].Size,n.width=B_QUICKBUY.availableProducts[t][e].Width),i.attributes.push(n),debug.log("addAttributes: ",i)}},getNearLocationsFindInStore:function(e,t,i,n,r,o,a,s){var l=c.tcl.locationServices.getNearLocationsFindInStore(B_QUICKBUY.storeId,e,t,i,n,r,o,a,s);c.when(l).done(function(e){console.log("-----------Near Locations----------"),console.log(e),console.log("Store count: ",e.count),console.log("Store results: ",e.results),c(document).trigger("near-locations-received",e)}).fail(function(e,t,i){console.log("------ERRORE------"),console.log("textStatus: "+t),console.log("data: "+i),console.log("jqXHR: "+e),B_CHECKOUT.showAjaxErrorMessage(e)})},sendEmailReserveInStore:function(e,t,a){console.log("action:"+e),console.log("data:"+t);var i=c.tcl.ajax.post(e,t);c.when(i).done(function(e){console.log("-----------sendEmailReserveInStore----------");var t=c("#modalStandard_tpl").text();if(t){c(document.body).append(t);var i=c("#modalStandard");i.one("hidden.bs.modal",function(){i.remove()});var n=i.find(".modal-body"),r=a.vars._$modal.find(".modal-title"),o=c("#modalRRSSuccessMessage").html();n.html(o),void 0!==r&&!1!==r&&i.find(".modal-title").html(r),i.modal(),a.close()}else console.error("Error modal template not found")}).fail(function(e,t,i){console.log("------ERRORE------")})},shareProduct:function(e){console.log("data:"+e);var t=c.tcl.userServices.shareProduct(COMMON.storeId,e);c.when(t).done(function(e){c(document).emailSharePopup("onSuccessEmail")}).fail(function(e,t,i){B_QUICKBUY.showAjaxErrorMessage(e),c(document).emailSharePopup("resetReCaptcha")})},getSizeGuideCode:function(e,t){var i=c.tcl.productServices.getSizeGuideCode(e,t);c.when(i).done(function(e){""!==e.sizeGuideCode&&B_QUICKBUY.getESpotDataBySizeGuideName(e.sizeGuideCode)}).fail(function(e,t,i){B_QUICKBUY.showAjaxErrorMessage(e)}).always(function(){})},getESpotDataBySizeGuideName:function(e){var t=c.tcl.productServices.getESpotData("SIZE_GUIDE_"+e);c.when(t).done(function(e){c(document).sizeguide("populateTemplate",e)}).fail(function(e,t,i){B_QUICKBUY.showAjaxErrorMessage(e)}).always(function(){})},clearAllData:function(){B_QUICKBUY={storeId:"",catalogId:"",langId:"",locale:"en_US",productItems:[],availableProductIds:{},availableProducts:{},catalogEntryViewList:{}}}}}(jQuery);var B_WISHLIST=B_WISHLIST||{};!function(r){B_WISHLIST={storeId:COMMON.storeId,catalogId:COMMON.catalogId,langId:COMMON.langId,locale:COMMON.localeCountry,itemList:[],productInItemWishList:{},wishListItem:{},wishListProduct:{},showAjaxErrorMessage:function(e){var t="";if(404!==e.status){if(e.responseText&&403!==e.status){var i=JSON.parse(e.responseText);if(i&&i[0]&&i[0].errorKey&&"ERR_COOKIE_EXPIRED"===i[0].errorKey)return document.location.href=COMMON.timeoutPageURL,!1;t=i&&0<i.errors.length?i&&i.errors[0].message?i.errors[0].dataPath+": "+i.errors[0].message:i.errors[0].errorMessage?i.errors[0].errorMessage:i.errors[0]:e.responseText}else t=403===e.status?errorMessageXSS:e;console.error(t),CMP.modal.error(t)}},getWishList:function(e){var t=r.tcl.wishListServices.getWishList(COMMON.storeId,e);r.when(t).done(function(e){console.log("--------WishList--------"),console.log(e),B_WISHLIST.totalItems=0,B_WISHLIST.itemList=[],B_WISHLIST.wishListItem=e.GiftList,r(e.GiftList[0].item).each(function(e,t){B_WISHLIST.getProductForWishlist(t.productId),B_WISHLIST.itemList.push(t.partNumber.substring(0,6))});var i=0;r(e.GiftList).each(function(e,t){void 0!==t.item&&(i+=t.item.length)}),B_WISHLIST.totalItems=i,r(document).trigger("wishlist-loaded.B_WISHLIST")}).fail(function(e,t,i){404===e.status?r(document).trigger("wishlist-loaded.B_WISHLIST"):B_WISHLIST.showAjaxErrorMessage(e)})},addProductToWishList:function(e,i){B_WISHLIST.currentProduct=e.item[0];var t=r.tcl.wishListServices.addProductToWishList(COMMON.storeId,i,e);r.when(t).done(function(e){B_WISHLIST.currentProduct.giftListItemID=e.item[0].giftListItemID;var t=jQuery.grep(B_WISHLIST.wishListItem,function(e){return e.uniqueID==i})[0];void 0===t.item&&(t.item=[]),t.item.push(B_WISHLIST.currentProduct),B_WISHLIST.currentProduct="",B_WISHLIST.totalItems+=1,r(document).trigger("wishlist-updated.B_WISHLIST"),debug.log("--------Add new WishList--------"),debug.log(e)}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)})},updateWishList:function(e,t){var i=r.tcl.wishListServices.updateWishList(COMMON.storeId,t,e);r.when(i).done(function(e){debug.log("------Update WishList------"),debug.log(e),debug.info("WishList with externalID '"+t+"' updated")}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)})},deleteWishList:function(t){var e=r.tcl.wishListServices.deleteWishList(COMMON.storeId,t);r.when(e).done(function(e){debug.log("------Delete WishList------"),debug.log(e),debug.info("WishList with externalID '"+t+"' deleted")}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)})},deleteItemOrProductWishList:function(i,e){var t=r.tcl.wishListServices.deleteItemOrProductWishList(COMMON.storeId,i,e);r.when(t).done(function(t){var e=jQuery.grep(B_WISHLIST.wishListItem,function(e){return e.uniqueID==i})[0].item;jQuery.grep(B_WISHLIST.wishListItem,function(e){return e.uniqueID==i})[0].item=jQuery.grep(e,function(e){return e.giftListItemID!=t.item[0].giftListItemID}),B_WISHLIST.totalItems--,r(document).trigger("wishlist-updated.B_WISHLIST"),debug.log("------Delete Item/Product WishList------"),debug.log(t)}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)})},deleteItemOrProductWishListByPartnumber:function(i,e){var t=r.tcl.wishListServices.deleteItemOrProductWishListByPartnumber(COMMON.storeId,i,e);r.when(t).done(function(t){var e=jQuery.grep(B_WISHLIST.wishListItem,function(e){return e.uniqueID==i})[0].item;jQuery.grep(B_WISHLIST.wishListItem,function(e){return e.uniqueID==i})[0].item=jQuery.grep(e,function(e){return e.giftListItemID!=t.item[0].giftListItemID}),B_WISHLIST.totalItems--,r(document).trigger("wishlist-updated.B_WISHLIST"),debug.log("------Delete Item/Product WishList------"),debug.log(t)}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)})},getProductForWishlist:function(n){var e=r.tcl.cartServices.getProduct(COMMON.storeId,n);r.when(e).done(function(e){debug.log("------Get Product------"),debug.log(e),B_WISHLIST.productInItemWishList={},r(e.CatalogEntryView).each(function(e,t){var i=[];i.push(t.name),i.push(t.thumbnail),B_WISHLIST.productInItemWishList[n]=i})}).fail(function(e,t,i){B_WISHLIST.showAjaxErrorMessage(e)}).always(function(){})},clearAllData:function(){B_WISHLIST={storeId:"",catalogId:"",langId:"",locale:"en_US",itemList:[],productInItemWishList:{},wishListItem:{},wishListProduct:{}}}}}(jQuery);var FORMS=FORMS||{};!function(u){FORMS.hasOwnProperty("validateSettingsDefault")||Object.defineProperty(FORMS,"validateSettingsDefault",{get:function(){return{ignore:":hidden:not(.cmp-radio):not(.cmp-checkbox)",errorPlacement:function(e,t){var i=u(t),n=i.closest(".input-group");i.hasClass("cmp-radio")&&(n=i.closest(".cmp-radio-group")),i.hasClass("cmp-checkbox")&&(n=i.closest(".cmp-checkbox-group, .cmp-checkout-wrapper"));var r=n.find(".cmp-select-group");0<r.length&&(n=r),u(e).addClass("cmp-input-error").attr("role","alert"),n.append(u(e))},highlight:function(e,t,i){u(e).closest(".input-group").addClass("input-group--error"),u(e).closest(".input-group").removeClass("input-group--success")},unhighlight:function(e,t,i){u(e).closest(".input-group").removeClass("input-group--error")},success:function(e){u(e).closest(".input-group").addClass("input-group--success")},errorElement:"span"}}}),FORMS.hasOwnProperty("validateSettingsDefaultR19")||Object.defineProperty(FORMS,"validateSettingsDefaultR19",{get:function(){return{ignore:":hidden:not(.cmp-radio):not(.cmp-checkbox)",errorPlacement:function(e,t){var i=u(t),n=i.closest(".input-group--r19");i.hasClass("cmp-radio")&&(n=i.closest(".cmp-radio-group--r19")),i.hasClass("cmp-checkbox--r19")&&(n=i.closest(".cmp-checkbox-group"));var r=n.find(".cmp-select-group");0<r.length&&(n=r),u(e).addClass("cmp-input-error").attr("role","alert"),n.append(u(e))},highlight:function(e,t,i){u(e).closest(".input-group--r19").addClass("input-group--error"),u(e).closest(".input-group--r19").removeClass("input-group--success")},unhighlight:function(e,t,i){u(e).closest(".input-group--r19").removeClass("input-group--error")},success:function(e){u(e).closest(".input-group--r19").addClass("input-group--success")},errorElement:"span"}}}),FORMS.hasOwnProperty("validateSettingsDefaultR21")||Object.defineProperty(FORMS,"validateSettingsDefaultR21",{get:function(){return{ignore:":hidden:not(.cmp-radio):not(.cmp-checkbox)",errorPlacement:function(e,t){var i=u(t),n=i.closest(".input-group");i.hasClass("cmp-radio")&&(n=i.closest(".cmp-radio-group")),i.hasClass("cmp-checkbox")&&(n=i.closest(".cmp-checkbox-group, .cmp-checkout-wrapper"));var r=n.find(".cmp-select-group");0<r.length&&(n=r),u(e).addClass("cmp-input-error").attr("role","alert"),n.append(u(e))},highlight:function(e,t,i){u(e).closest(".input-group").addClass("input-group--error"),u(e).closest(".input-group").removeClass("input-group--success"),u(e).closest(".cmp-checkbox-wrapper").addClass("cmp-checkbox-wrapper--error"),u(e).closest(".cmp-checkbox-wrapper").removeClass("cmp-checkbox-wrapper--success")},unhighlight:function(e,t,i){u(e).closest(".input-group").removeClass("input-group--error"),u(e).closest(".cmp-checkbox-wrapper").removeClass("cmp-checkbox-wrapper--error")},success:function(e){u(e).closest(".input-group").addClass("input-group--success"),u(e).closest(".cmp-checkbox-wrapper").addClass("cmp-checkbox-wrapper--success")},errorElement:"span"}}}),FORMS.init=function(e){u(".selectpicker").on("rendered.bs.select",function(){u(this).closest(".bootstrap-select").find(".dropdown-menu a").each(function(){var e=u(this);""===e.text().trim()&&e.append('<span class="sr-only">Please select an option</span>')})}),u.validator.addMethod("consent",function(e,t){var i=u(t).attr("name");return"Y"===u("input[name="+i+"]:checked").val()},errorJQMsg.JQ_REQUIRED_CONSENT),u.validator.addMethod("acceptTerms",function(e,t){var i=u(t).attr("name");return!0===u("input[name="+i+"]").is(":checked")},errorJQMsg.JQ_REQUIRED_CONSENT),u.validator.addMethod("customDate",function(e,t,i){var n=new Date(e);return Date.parse(n,"mm/dd/yyyy")},errorJQMsg.JQ_VALID_DATE),u.validator.addMethod("birthdayDate",function(e,t,i){var n=i[1],r=moment(e,n).format("MM/DD/YYYY"),o=new Date(r),a=Date.parse(o,"mm/dd/yyyy"),s=!1;if(a){var l=new Date,c=l.getFullYear()-o.getFullYear();if(c<0)a=!1;else if(100<c)a=!1;else if(COMMON.frgStoreIdentifier===COMMON.storeIdES||COMMON.frgStoreIdentifier===COMMON.storeIdFR||COMMON.frgStoreIdentifier===COMMON.storeIdOE||COMMON.frgStoreIdentifier===COMMON.storeIdGB||COMMON.frgStoreIdentifier===COMMON.storeIdIT||COMMON.frgStoreIdentifier===COMMON.storeIdUS||COMMON.frgStoreIdentifier===COMMON.storeIdCA||COMMON.frgStoreIdentifier===COMMON.storeIdAU||COMMON.frgStoreIdentifier===COMMON.storeIdMX||COMMON.frgStoreIdentifier===COMMON.storeIdJP){var d=l.getMonth()-o.getMonth();(d<0||0==d&&l.getDate()<o.getDate())&&c--,c<18&&(s=!(a=!1))}}return u.validator.messages.birthdayDate=s?errorJQMsg.JQ_VALID_BIRTHDATE_16:errorJQMsg.JQ_VALID_DATE,a},""),void 0===e&&(e=u("body")),e.find(".cmp-input-group--floating-label").floatingInputLabels(),e.find(".cmp-select-group--floating-label").floatingSelectLabels(),e.find('[data-toggle="tooltip"]').tooltip(),e.find(".input-group--password").passwordInput()},FORMS.refresh=function(e,t){void 0===e&&(e=u("body")),t&&e.find(".input-group").removeClass("input-group--error input-group--success");"checkout"!==MAIN.pageTemplate&&e.find(".selectpicker").selectpicker("refresh"),e.find(".cmp-input-group--floating-label").floatingInputLabels("refresh"),e.find(".cmp-select-group--floating-label").floatingSelectLabels("refresh"),e.find('[data-toggle="tooltip"]').tooltip(),e.find(".input-group--password").passwordInput()}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(i){"use strict";return void 0===i&&(i=jQuery),i.widget("custom.loader",{options:{},_create:function(){this.vars={visibilityStatus:!1,disabled:!1},this._initUIElements(),this._initListeners(),this._initUI()},getVisibility:function(){return this.vars.visibilityStatus},setVisibility:function(e){var t=this;t.options.disabled||(e?(t.vars.visibilityStatus=!0,t.vars._$body.addClass("page-loader-visible"),t.vars._$loader.fadeIn().css("display","block"),t.vars._$msgLoading.css("display","block"),t.vars._$msgLoaded.css("display","none")):(t.vars.visibilityStatus=!1,t.vars._$loader.fadeOut(),t.vars._$body.removeClass("page-loader-visible"),t.vars._$msgLoading.css("display","none"),t.vars._$msgLoaded.css("display","block")))},start:function(){this.options.disabled||(this.vars.visibilityStatus=!0,this.vars._$body.addClass("page-loader-visible"),this.vars._$loader.fadeIn().css("display","block"),this.vars._$msgLoading.css("display","block"),this.vars._$msgLoaded.css("display","none"))},stop:function(){this.options.disabled||(this.vars.visibilityStatus=!1,this.vars._$loader.fadeOut(),this.vars._$body.removeClass("page-loader-visible"),this.vars._$msgLoading.css("display","none"),this.vars._$msgLoaded.css("display","block"))},_initUIElements:function(){this.vars._$loader=this.element,this.vars._$body=i("body"),this.vars._$msgLoading=this.vars._$loader.find(".cmp-page-loader__msg-loading"),this.vars._$msgLoaded=this.vars._$loader.find(".cmp-page-loader__msg-loaded")},_initListeners:function(){},_initUI:function(){}}),i.loader=function(e,t){i(e).loader(t)},i(function(){i(".cmp-page-loader").loader()}),i}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(a){"use strict";return void 0===a&&(a=jQuery),a.widget("custom.wishlistAdder",{options:{},templates:{},_create:function(){MAIN.isWcsEnv()&&(this.vars={id:"wishlistAdder"+this.uuid},this._initUIElements(),this._initTemplates(),this._initListeners(),this._initUI(),this._initAPI())},_initUIElements:function(){this.vars._$wishlistAdder=a("#addToWishlist")},_initTemplates:function(){void 0===this.templates.wishlistAdderTmplCompiled&&(this.templates.wishlistAdderTmplCompiled=_.template(a("#wishlistAdderTmpl").html()))},_initListeners:function(){var t=this;a(document).on("wishlist-loaded.B_WISHLIST",function(e){t._refreshCounter()}),a(document).on("wishlist-updated.B_WISHLIST",function(e){t._refreshCounter()}),a(document).on("toolbar-loaded",function(e){a("[data-attr-id='wishListButtonProd']").on("click ",function(e){t.wishListButton(e)})}),a("[data-attr-id='wishListButton']").on("click ",function(e){t.wishListButton(e)}),a('[data-button-id="virtual-tour"]').on("click ",function(e){t.wishListButtonVirtualTour(e)}),a(document).on("products-loaded.ALGOLIA_SEARCH",function(e){a("[data-attr-id='wishListButtonSearch']").off("click"),a("[data-attr-id='wishListButtonSearch']").on("click",function(e){e.preventDefault(),t.wishListButtonVirtualTour(e.currentTarget.getAttribute("data-partnumber")),B_GOOGLE_TAG_MANAGER.setDataLayerClickWishList()})})},_populateTemplate:function(e){var t=this;if("R"==COMMON.userType){var i={widgetId:t.vars.id,wishListItems:B_WISHLIST.wishListItem,wishListProducts:B_WISHLIST.wishListProduct};i.currentProductPartNumber=e.currentTarget.getAttribute("data-partnumber"),i.catalogEntryID=e.currentTarget.getAttribute("data-catentry-id"),a(document.body).append(t.templates.wishlistAdderTmplCompiled(i))}else{var n=a("#modalProductWishlistLogin_tpl");if(0===n.length)return void console.error("Error modal template not found");var r=_.template(n.html());a(document.body).append(r())}B_GOOGLE_TAG_MANAGER.setDataLayerClickWishList(),a(".wishlist-adder__btn").on("click ",function(e){t._onButtonClick(e)})},_populateTemplateForVitualTour:function(e){var t=this;if("R"==COMMON.userType){var i={widgetId:t.vars.id,wishListItems:B_WISHLIST.wishListItem,wishListProducts:B_WISHLIST.wishListProduct};i.currentProductPartNumber=e,i.catalogEntryID="",a(document.body).append(t.templates.wishlistAdderTmplCompiled(i))}else{var n=a("#modalProductWishlistLogin_tpl");if(0===n.length)return void console.error("Error modal template not found");var r=_.template(n.html());a(document.body).append(r())}a(".wishlist-adder__btn").on("click ",function(e){t._onButtonClickForVirtualTour(e)})},_initUI:function(){COMMON.isUserLogged&&0<a(".header-r23__actions__wishlist").length&&a(".header-r23__actions__wishlist").attr("href",myWishlistDisplayUrl),this._refreshCounter()},_initAPI:function(){},_onButtonClick:function(e){var t=a(e.currentTarget),i=t.attr("data-wishlist-id"),n=t.attr("data-product-id"),r=t.attr("data-partnumber");if(t.hasClass("state-added"))void 0!==i&&void 0!==n&&(B_WISHLIST.deleteItemOrProductWishList(i,n),t.addClass("hidden"),a('[data-wishlist-id="'+i+'"].state-not-added').removeClass("hidden"),"cart-r21"===MAIN.pageTemplate&&a('[data-catentry-id="'+n+'"]').find(".cart-r21-products__item__wishlist__add").removeClass("hidden"),a('[data-catentry-id="'+n+'"]').find(".cart-r21-products__item__wishlist__added").addClass("hidden"),a('[data-catentry-id="'+n+'"]').not('[data-attr-id="wishListButtonCart"]').attr("aria-label",a.i18n._("ADD_TO_WISHLIST")),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').removeClass("active"),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').find(".ssicon--r23-actions-heart-full").addClass("hidden"),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').find(".ssicon--r23-actions-heart").removeClass("hidden"),a('[data-catentry-id="'+n+'"]').closest(".r23-grid--list-plp__item").removeClass("r23-grid--list-plp__item--in-wishlist"));else if(i)if(void 0!==n&&""!==n){var o={item:[{quantityRequested:"1",productId:n,partNumber:r}]};B_WISHLIST.addProductToWishList(o,i),t.addClass("hidden"),a('[data-wishlist-id="'+i+'"].state-added').removeClass("hidden"),"cart-r21"===MAIN.pageTemplate&&a('[data-catentry-id="'+n+'"]').find(".cart-r21-products__item__wishlist__add").addClass("hidden"),a('[data-catentry-id="'+n+'"]').find(".cart-r21-products__item__wishlist__added").removeClass("hidden"),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').addClass("active"),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').find(".ssicon--r23-actions-heart").addClass("hidden"),a('[data-catentry-id="'+n+'"][data-attr-id="wishListButtonProd"]').find(".ssicon--r23-actions-heart-full").removeClass("hidden"),a('[data-catentry-id="'+n+'"]').closest(".r23-grid--list-plp__item").addClass("r23-grid--list-plp__item--in-wishlist")}else CMP.modal.error(window.addToWishlistErrorMsg);a.isEmptyObject(B_WISHLIST.wishListItem)||("product--r23"===MAIN.pageTemplate?B_GOOGLE_TAG_MANAGER.setDataLayerProductPageAddToWishlistR24(n):"category--r19"===MAIN.pageTemplate&&B_GOOGLE_TAG_MANAGER.setDataLayerAddToWishlistR24(n))},_onButtonClickForVirtualTour:function(e){var t=a(e.currentTarget),i=t.attr("data-wishlist-id"),n=t.attr("data-partnumber");if(t.hasClass("state-added"))void 0!==i&&void 0!==n&&(B_WISHLIST.deleteItemOrProductWishListByPartnumber(i,n),t.addClass("hidden"),a('[data-wishlist-id="'+i+'"].state-not-added').removeClass("hidden"),"true"===COMMON.algoliaEnabled&&0===a('.modal-wishlist__item[data-partnumber="'+n+'"].state-added').not(".hidden").length&&(a('[data-partnumber="'+n+'"]').not(".modal-wishlist__item").closest(".r23-grid--list-plp__item").removeClass("r23-grid--list-plp__item--in-wishlist"),a('[data-partnumber="'+n+'"]').not(".modal-wishlist__item").attr("aria-label",a.i18n._("ADD_TO_WISHLIST"))));else if(i)if(void 0!==n&&""!==n){var r={item:[{quantityRequested:"1",productId:"",partNumber:n}]};B_WISHLIST.addProductToWishList(r,i),t.addClass("hidden"),a('[data-wishlist-id="'+i+'"].state-added').removeClass("hidden"),"true"===COMMON.algoliaEnabled&&(a('[data-partnumber="'+n+'"]').not(".modal-wishlist__item").closest(".r23-grid--list-plp__item").addClass("r23-grid--list-plp__item--in-wishlist"),a('[data-partnumber="'+n+'"]').not(".modal-wishlist__item").attr("aria-label",a.i18n._("ADDED_TO_WISHLIST")))}else CMP.modal.error(window.addToWishlistErrorMsg)},wishListButton:function(e){e.preventDefault();var t=a("#addToWishlist");0<t.length&&t.remove(),this._populateTemplate(e),a("#addToWishlist").modal("show")},wishListButtonVirtualTour:function(e){var t=a("#addToWishlist");0<t.length&&t.remove(),this._populateTemplateForVitualTour(e),a("#addToWishlist").modal("show")},_refreshCounter:function(){0<B_WISHLIST.totalItems?(a('[data-attr-id="wishlist-counter"]').text("("+B_WISHLIST.totalItems+")"),a('[data-attr-id="wishlist-counter"]').css("display","block")):(a('[data-attr-id="wishlist-counter"]').css("display","none"),a('[data-attr-id="wishlist-counter"]').text(""))},refresh:function(){MAIN.isWcsEnv()&&(this.vars={id:"wishlistAdder"+this.uuid},this._initUIElements(),this._initTemplates(),this._initListeners(),this._initUI(),this._initAPI())}}),a.wishlistAdder=function(e,t){a(e).wishlistAdder(t)},a(function(e){e(".page--r19").wishlistAdder()}),a}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(d){"use strict";return void 0===d&&(d=jQuery),d.widget("custom.tryAtHome",{options:{},vars:{storeListTmplCompiled:!1,markers:[],markerListeners:[],markerIcons:{}},state:{storeServiceCountryCodes:"",storeServiceLimit:"",storeServiceRadius:"",storeServiceOffset:"",baseUrlIco:null,mapInitialized:!1,mapBounds:null,autocomplete:null,searchMode:!1,position:!1,geolocationEnabled:!1,geolocationPosition:{},geolocationId:!1,currPlaceName:null,errorMessageGetStores:null,errorMessageGeolocation:null,errorMessageAutocomplete:null},_create:function(){this._initTemplates(),this._initUIElements(),this._initListeners()},onPostcodeSuccess:function(){this._createCart()},onPostcodeSuccessMinicart:function(){this._createCartFromMiniCart()},onPostcodeFailure:function(e,t){t?(d("#checkMessageFailureCart").text(e),d("#checkMessageFailureCart").toggleClass("hidden")):(d("#checkMessageFailure").text(e),d("#checkMessageFailure").toggleClass("hidden"))},onCartCreateSuccess:function(e){ga("send","event","Go to Harper",e.data.cart.cart_id),document.location.href=tryAtHomeCheckoutUrl+"/?c="+e.data.cart._id},refreshListeners:function(){var t=this;d('[data-action="tryAtHomeCTA"]').on("click",function(e){t._openTryAtHome(e)}),d('[data-action="tryAtHomeCartCTA"]').on("click",function(e){t._openTryAtHomeFromCart(e)}),d('[data-action="tryAtHomePopup"]').on("click",function(e){t._openPopupInfo(e)}),d('[data-action="tryAtHomeCheckPostcode"]').on("click",function(e){t._tryAtHomeCheckPostcode()}),d('[data-action="tryAtHomeCheckPostcodeCart"]').on("click",function(e){t._tryAtHomeCheckPostcodeCart()})},_initTemplates:function(){},_initUIElements:function(){this.vars._$cartWrapper=d(".cart-recap_tryathome-wrapper"),this.vars._$modalCheckPostcode=d("#modalTryAtHomeCheckPostcode"),this.vars._$pdpAccordion=d('[data-id="espotTryAtHome"]'),this.vars._$formSignInReturning=d("#AjaxLogonTryAtHome")},_initListeners:function(e){var t=this;d('[data-action="tryAtHomeCTA"]').on("click",function(e){t._openTryAtHome(e)}),d('[data-action="tryAtHomePopup"]').on("click",function(e){t._openPopupInfo(e)}),d('[data-action="tryAtHomeCartCTA"]').on("click",function(e){t._openTryAtHomeFromCart(e)}),t._on(t.vars._$cartWrapper,{'click [data-action="tryAtHomeCartPopup"]':t._openCartPopupInfo}),d('[data-action="tryAtHomeCheckPostcode"]').on("click",function(e){t._tryAtHomeCheckPostcode()}),t._on(t.vars._$modalCheckPostcode,{'click [data-action="tryAtHomeCheckPostcodeCart"]':t._tryAtHomeCheckPostcodeCart}),t._on(t.vars._$pdpAccordion,{'click [data-id="tryAtHomePopupOpener"]':t._openPopupInfo}),d("#signin_returning_tryathome").on("click",function(){t._submitFormSignin()}),d("#signin_returning_mob_tryathome").on("click",function(){t._submitFormSignin()}),d('[data-action="registerTryAtHome"]').on("click",function(){t._registerTryAtHome()})},_openTryAtHome:function(){ga("send","event","Try at Home",B_GOOGLE_ANALYTICS.frgCanonicalPath);var e=0,t="";if(void 0!==window.tryAtHomeCartMinimum&&0<window.tryAtHomeCartMinimum&&(t="true"===window.minicart?(e=B_MINISHOPCART.totalProductPrice,B_MINISHOPCART.orderId):(e=B_CHECKOUT.grandTotal,B_CHECKOUT.orderId),e<window.tryAtHomeCartMinimum))return ga("send","event","Try at Home - Insufficient amount",t),void d("#modalTryAtHomeInsufficientItems").modal();"R"===COMMON.userType||"false"===window.tryAtHomeRegOnly?d("#modalTryAtHomeCheckPostcode").modal():(d('[name="reLogonURL"]').val(document.URL),d('[name="URL"]').val(document.URL),d("#tryAtHomeLogin").modal())},_openTryAtHomeFromCart:function(){ga("send","event","Try at Home",B_GOOGLE_ANALYTICS.frgCanonicalPath);var e=0,t="";if(void 0!==window.tryAtHomeCartMinimum&&0<window.tryAtHomeCartMinimum&&(t="true"===window.minicart?(e=B_CHECKOUT.cart.orderAmount.grandTotal,B_CHECKOUT.cart.orderId):(e=B_CHECKOUT.grandTotal,B_CHECKOUT.orderId),e<window.tryAtHomeCartMinimum))return ga("send","event","Try at Home - Insufficient amount",t),void d("#modalTryAtHomeInsufficientItems").modal();"R"===COMMON.userType||"false"===window.tryAtHomeRegOnly?d("#modalTryAtHomeCheckPostcodeCart").modal():(d('[name="reLogonURL"]').val(document.URL),d('[name="URL"]').val(document.URL),d("#tryAtHomeLogin").modal())},_openCartPopupInfo:function(){d("#modalTryAtHomeCart").modal()},_openPopupInfo:function(){d("#modalTryAtHome").modal()},_tryAtHomeCheckPostcode:function(){d("#checkMessageFailure").addClass("hidden");var e=d("#modalTryAtHomePostcode").val();void 0!==e&&e&&B_MINISHOPCART.tryAtHomeCheckPostcode(e)},_tryAtHomeCheckPostcodeCart:function(){d("#checkMessageFailureCart").addClass("hidden");var e=d("#modalTryAtHomePostcodeCart").val();void 0!==e&&e&&B_CHECKOUT.tryAtHomeCheckPostcode(e)},_createCart:function(){B_CHECKOUT.tryAtHomeCreateCart(d("#modalTryAtHomePostcodeCart").val())},_createCartFromMiniCart:function(){B_MINISHOPCART.tryAtHomeCreateCart(d("#modalTryAtHomePostcode").val())},_registerTryAtHome:function(){sessionStorage.registrationReturnURL=document.URL,document.location.href=window.registerURL+"&tryAtHome=true"},_submitFormSignin:function(e){this.vars._$formSignInReturning.valid()&&(debug.log("submit sign in form"),this._login())},_login:function(){this._submitLogin()},_submitLogin:function(){var c=this,e=d("#AjaxLogonTryAtHome"),t=d.tcl.userServices.login(e);d.when(t).done(function(e){e=(e=e.trim().substring(2,e.length-2)).replace("/*","").replace("*/","");var t=JSON.parse(e);if(void 0!==t.ErrorCode){var i="",n=parseInt(t.ErrorCode);switch(n){case 2e3:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2000,CMP.modal.error(i);break;case 2010:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2010,CMP.modal.error(i);break;case 2020:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2020,CMP.modal.error(i);break;case 2030:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2030,CMP.modal.error(i);break;case 2031:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2031,d("#signin_recaptcha").is(":visible")||d("#signin_recaptcha").show(),grecaptcha.reset(window.reCaptchaWidgetIdSignIn),window.reCaptchaValiditySignIn=!1,c.state.skipReCaptcha=!1,CMP.modal.error(i);break;case 2032:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2032,d("#signin_recaptcha").is(":visible")||d("#signin_recaptcha").show(),grecaptcha.reset(window.reCaptchaWidgetIdSignIn),window.reCaptchaValiditySignIn=!1,c.state.skipReCaptcha=!1,CMP.modal.error(i);break;case 2110:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2110,CMP.modal.error(i);break;case 2300:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2300,CMP.modal.error(i);break;case 2340:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2340,CMP.modal.error(i);break;case 2400:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2400,CMP.modal.error(i);break;case 2410:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2410,CMP.modal.error(i);break;case 2420:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2420,CMP.modal.error(i);break;case 2430:document.location.href="ResetPasswordForm?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&errorCode="+n;break;case 2170:document.location.href="ChangePassword?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&errorCode="+n+"&logonId="+e.logonId;break;case 2570:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2570,CMP.modal.error(i);break;case 2440:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2440,CMP.modal.error(i);break;case 2450:i=window.GLOBALLOGIN_SIGN_IN_ERROR_2450,CMP.modal.error(i)}}else{var r=t.redirecturl.split("?")[0];if("RESTOrderCalculate"===r){var o=COMMON.myAccountURL.search("dashboard");document.location.href=-1!==o?COMMON.myAccountURL+"?firstAccess=1":COMMON.myAccountURL+"&firstAccess=1"}else if("Shopcart"===r)document.location.href=COMMON.shopCartURL;else if("AjaxLogonForm"===r)document.location.href=COMMON.myAccountURL;else{var a=t.redirecturl,s=document.createElement("div");s.innerHTML=a;var l=s.firstChild.nodeValue;document.location.href=l}}}).fail(function(e,t,i){COMMON.showAjaxErrorMessage(e)}).always(function(){})},_destroy:function(){},_setOptions:function(){}}),d.tryAtHome=function(e,t){d(e).tryAtHome(t)},d(function(e){e(document).tryAtHome()}),d}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e($)}(function($){"use strict";return void 0===$&&($=jQuery),$.widget("custom.minicartR19",{options:{},templates:{},_create:function(){0!==$("#minicartr21").length&&(this.vars={checkToHideMillisecs:3e3},$(".footer-r23").after($(".minicart-r21")),this._initTemplates(),this._initUI(!0),this._initUIElements(),this._initListeners())},refresh:function(e,t){var i="add";e&&(i="remove");var n=this;"xs"==n.vars._$bp?(n._initTemplates(),n._initUI(!1,i,t),n._initUIElements(),n._initListeners("refresh"),"cart-r21"!==MAIN.pageTemplate&&(n.showMinicart(),n._openSidebar())):(n.vars={checkToHideMillisecs:3e3},n._initTemplates(),n._initUI(!1,i,t),n._initUIElements(),n._initListeners("refresh"),e?$.isEmptyObject(B_MINISHOPCART.product_map)&&($(".minicart-r21__list").hide(),$(".minicart-r21__foot").hide(),$(".minicart-r21__promo-message").hide(),$(".minicart-r21__empty__container").show()):n.showMinicart())},showMinicart:function(){var e=this;"xs"==e.vars._$bp?(e.vars._$headerTrigger.on("click",function(){$("html").animate({scrollTop:50},"500","linear",e._openSidebar())}),$(".minicart-r21-mob__overlay").show()):e._openSidebar()},cartDetail:function(actionType){var widget=this;MAIN.isWcsEnv()||(B_MINISHOPCART.product_map={notEmpty:!0},B_MINISHOPCART.totalProductPrice=COMMON.formatNumber(1300)),!B_MINISHOPCART.product_map||$.isEmptyObject(B_MINISHOPCART.product_map)?($(".minicart-r21__list").hide(),$(".minicart-r21__foot").hide(),$(".minicart-r21__promo-message").hide(),$(".minicart-r21__empty__container").show()):($(".minicart-r21__list").show(),$(".minicart-r21__foot").show(),$(".minicart-r21__promo-message").show(),$(".minicart-r21__empty__container").hide());var miniShopCartTmplData={product_map:B_MINISHOPCART.product_map,totalProductPrice:B_MINISHOPCART.totalProductPrice,enableFakeImg:enableFakeImg};if(B_MINISHOPCART.product_map&&!$.isEmptyObject(B_MINISHOPCART.product_map))var miniShopCartMobileTmplData={product_map:B_MINISHOPCART.product_map[B_MINISHOPCART.lastAddedOrRemovedOrderItemId],totalProductPrice:B_MINISHOPCART.totalProductPrice,enableFakeImg:enableFakeImg};if(!B_MINISHOPCART.product_map||$.isEmptyObject(B_MINISHOPCART.product_map))$("#minicartr21").empty().append(widget.templates.miniShopCartEmptyTmplCompiled(miniShopCartTmplData)),$('[data-attr-id="shopping-bag-counter"]').css("display","none"),$('[data-attr-id="shopping-bag-counter"]').text(""),$(".minicart-r21__empty__container").show(),$("#taxesSentence").hide();else if("xs"==widget.vars._$bp?(!MAIN.isWcsEnv()||B_MINISHOPCART.lastAddedOrRemovedOrderItemId&&"remove"!==actionType)&&$("#minicartR21Mobile").empty().append(widget.templates.miniShopCartMobileTmplCompiled(miniShopCartMobileTmplData)):$("#minicartr21").empty().append(widget.templates.miniShopCartTmplCompiled(miniShopCartTmplData)),$('[data-attr-id="shopping-bag-counter"]').text("("+Object.keys(B_MINISHOPCART.product_map).length+")"),$('[data-attr-id="shopping-bag-counter"]').css("display","block"),$(document).on("click",'[data-button-id="paypal"]',function(){B_MINISHOPCART.goToPaypal(!1)}),"true"===COMMON.klarnaMessagingEnabled){var inventoryOk=!0,isEmployee=!1;"R"===COMMON.userType&&$(COMMON.userGroups).each(function(e,t){t.memberGroupName.startsWith(COMMON.employeeGroup)&&(isEmployee=!0)}),isEmployee||$.each(B_MINISHOPCART.sizeAndWidth,function(e,t){if("available"!==t.inventoryType)return inventoryOk=!1}),!isEmployee&&inventoryOk&&(window.KlarnaOnsiteService=window.KlarnaOnsiteService||[],window.KlarnaOnsiteService.push({eventName:"refresh-placements"}))}try{$(document).tryAtHome("refreshListeners")}catch(e){$(document).tryAtHome(),$(document).tryAtHome("refreshListeners")}if("true"===COMMON.paypalExpressCheckoutEnabled||"true"===COMMON.applePayCartEnabled&&void 0!==window.ApplePaySession&&window.ApplePaySession.canMakePayments()){try{$(document).expressCheckout("refreshListeners")}catch(e){void 0!==window.expressCheckoutJsBundleUrl&&$.ajax({type:"GET",url:window.expressCheckoutJsBundleUrl,async:!1,success:function(script){"1"!==jQuery.fn.jquery.split(".")[0]&&function(){eval(script)}.apply(window),$(document).expressCheckout()}})}$(document).trigger("cart-loaded.minicart")}if(0<$('[data-toggle="tooltip"]').length&&$('[data-toggle="tooltip"]').tooltip({container:".minicart-r21"}),MAIN.isWcsEnv())try{$(".page--r19").wishlistAdder("refresh")}catch(e){$(".page--r19").wishlistAdder()}},_initUIElements:function(){var e=this;e.vars._$bp=MAIN.responsive.getBreakpoint(),e.vars._$html=e.element.find("html"),e.vars._$headerTrigger=e.element.find('[data-toggle="minicart-r19"]'),e.vars._$headerCart="xs"==e.vars._$bp?e.element.find("#minicartR21Mobile"):e.element.find("#minicartr21"),e.vars._$headMinicart=e.element.find("#minicartr21 .minicart-r21__head"),e.vars._$closeTriggers=$('.minicart-r21__head__close, .minicart-r21__backdrop, .continue-shopping, [data-id="continue-shopping-cta"]'),e.vars._$footMinicart=e.element.find("#minicartr21 .minicart-r21__foot"),e.vars._$list=e.element.find("#minicartr21 .minicart-r21__list"),e.vars._$listItems=$(".minicart-r21__item"),e.vars._$removeButton=$(".minicart-r21__item__remove"),e.vars._$addToBag=$('[data-toggle="addToBagMinicartr21"]'),"xs"!==e.vars._$bp&&(0===$("body").find(".minicart-r21-overlay").length?(e.vars._$overlay=$('<div class="minicart-r21-overlay"></div>'),$("body").append(e.vars._$overlay)):e.vars._$overlay=$(".minicart-r21-overlay")),0<e.vars._$listItems.length&&(e.vars._$listItems.closest(".minicart-r21__list").addClass("scroll_bar"),"xs"!==MAIN.responsive_r23.getBreakpoint()&&"sm"!==MAIN.responsive_r23.getBreakpoint()&&$(".minicart-r21__list.scroll_bar").mCustomScrollbar({theme:"dark"})),!B_MINISHOPCART.product_map||$.isEmptyObject(B_MINISHOPCART.product_map)?($(".minicart-r21__list").hide(),$(".minicart-r21__foot").hide(),$(".minicart-r21__promo-message").hide(),$(".minicart-r21__empty__container").show()):($(".minicart-r21__list").show(),$(".minicart-r21__foot").show(),$(".minicart-r21__promo-message").show(),$(".minicart-r21__empty__container").hide())},_initListeners:function(e){var t=this,i=$(".minicart-r21__foot__cart").attr("href");"xs"==t.vars._$bp?MAIN.isWcsEnv()?t.vars._$headerTrigger.attr("href",i):t.vars._$headerTrigger.attr("href","checkout.html"):t._on(t.vars._$headerTrigger,{click:function(e){e.preventDefault(),t._openSidebar()}}),t._on(t.vars._$closeTriggers,{click:function(){t._closeSidebar(),B_GOOGLE_TAG_MANAGER.setDataLayerClickCloseBtnMinicartR24()}}),void 0===e&&t._on(t.vars._$overlay,{click:function(){t._closeSidebar(),B_GOOGLE_TAG_MANAGER.setDataLayerClickGreyAreaMinicartR24()}}),t._on(t.vars._$removeButton,{click:t._removeProdFromCart}),"xs"!==MAIN.responsive_r23.getBreakpoint()&&"sm"!==MAIN.responsive_r23.getBreakpoint()?$(document).trigger("miniCartLoadedDesktop"):$(document).trigger("miniCartLoadedMobile"),"xs"!==t.vars._$bp&&setTimeout(function(){if(0<t.vars._$listItems.length){var e=t.vars._$headMinicart.outerHeight()+t.vars._$footMinicart.outerHeight();t.vars._$list.css("height","calc(100% - "+e+"px)"),t.vars._$listItems.closest(".minicart-r21__list").addClass("scroll_bar"),$(".scroll_bar").mCustomScrollbar({theme:"dark"})}},200)},_initTemplates:function(){this._createMiniShopCartTmpl()},_createMiniShopCartTmpl:function(){var e=$("#miniShopCartTmpl").html(),t=$("#miniShopCartMobileTmpl").html(),i=$("#miniShopCartEmptyTmpl").html();this.templates.miniShopCartTmplCompiled=_.template(e),this.templates.miniShopCartMobileTmplCompiled=_.template(t),this.templates.miniShopCartEmptyTmplCompiled=_.template(i)},_initUI:function(e,t,i){MAIN.isWcsEnv()?i?B_MINISHOPCART.onCartLoaded(B_CHECKOUT.responseCart,!1,"remove"):B_MINISHOPCART.getCartR21(e,t):this.cartDetail()},_openSidebar:function(){if(this.vars._$headerCart.stop().fadeIn(),"xs"!==this.vars._$bp){if(0<this.vars._$listItems.length){var e=this.vars._$headMinicart.outerHeight()+this.vars._$footMinicart.outerHeight();this.vars._$list.css("height","calc(100% - "+e+"px)")}}else this.vars._$html.removeClass("product--expanded-toolbar"),$(".product-toolbar__scroll-wrapper--r21").css("display","none");this._showOverlay()},_closeSidebar:function(){this.vars._$headerCart.stop().fadeOut(),"xs"===this.vars._$bp&&($(".product-toolbar__scroll-wrapper--r21").css("display",""),$(".minicart-r21-mob__overlay").hide()),this._hideOverlay()},_onTriggerMouseEnter:function(){var e=this;e.vars.timeout=setTimeout(function(){e._closeSidebar()},e.vars.checkToHideMillisecs)},_onTriggerMouseLeave:function(){clearTimeout(this.vars.timeout)},_showOverlay:function(){"xs"!==this.vars._$bp?(this.vars._$html.addClass("minicart-r21-overlay-visible"),this.vars._$overlay.stop().fadeIn(),$(".minicart-r21__head__close").focus()):this.vars._$html.addClass("minicart-r21-overlay-visible-mobile")},_hideOverlay:function(){"xs"!==this.vars._$bp?(this.vars._$html.removeClass("minicart-r21-overlay-visible"),this.vars._$overlay.stop().fadeOut()):this.vars._$html.removeClass("minicart-r21-overlay-visible-mobile")},_removeProdFromCart:function(e){if(e.preventDefault(),"click"===e.type||e.keyCode==Keyboard.ENTER){var t=$(e.currentTarget),i=t.data("attr-order-item-id"),n=t.data("attr-attr-product-id");B_MINISHOPCART.removeItem(i,n)}}}),$.minicartR19=function(e,t){$(e).minicartR19(t)},$(document).on("mousemove mouseenter keypress keyup keydown scroll blur",function(){MAIN.isWcsEnv()?null!=COMMON.storeId&&$(document).minicartR19():$(document).minicartR19()}),$}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(s){"use strict";var l=9,a=13,c=27,d=38,u=40;return s.widget("custom.productR19",{options:{},_create:function(){this.vars={},this._initDictionary(),B_SHOPPING.fetchCustomProductDetail(productId),this._initUIElements(),this._initListeners(),this._initUI()},_initUIElements:function(){this.vars._$html=s("html")},_initListeners:function(){var r=this;document.addEventListener("scroll",function(){r._checkScroll()},{passive:!0}),s(window).on("resize",function(){r._checkScroll()}),s(".prod-r23-toolbar").on("wheel",function(e){0<s(e.target).closest(".product-toolbar__attribute").length&&(e.preventDefault(),e.stopPropagation())}),s(document).on("click",function(e){r._onDocumentClickToggleAttributeToolbar(e)}),s(document).on("click",'.prod-r23-toolbar input[type="radio"]',function(e){r._onToolbarClick(e)}),s(document).on("keydown",".product-toolbar__attribute-wrapper--dropdown",function(e){r._onAttributeKeydown(e)});var o=!1;s(document).on("keydown",function(e){e.keyCode===l&&(o=!0)});var a=!1;s(document).on("focus",".product-toolbar__attribute-wrapper--dropdown",function(e){var t=s(e.target).closest(".product-toolbar__attribute-wrapper"),i=t.find(".product-toolbar__attribute"),n=t.find(".product-toolbar__attribute-value__combobox");a||n.is(":disabled")||!o||(r.closeAttributeSelectors(!0),r.openAttributeSelector(!0,i),a=!0)}),s(document).on("keydown",".product-toolbar__attribute-value__combobox",function(e){if(!s(e.target).is(":disabled")){var t=e.keyCode||e.which,i=e.shiftKey;9===t&&(a=!1),i&&(a=!0)}}),s(document).on("focus",".product-toolbar__attribute-value__combobox",function(){window.pdpR23AttributeInputFocused=!0}),s(document).on("keydown",".product-toolbar__attribute-list label",function(e){r._onAttributeItemKeydown(e)}),s(document).on("submit",".prod-r23-toolbar",function(e){r._onSubmitToolbarForm(e)}),s(document).on("click","#findInStoreBtn",function(e){r._onSubmitToolbarForm(e),B_GOOGLE_TAG_MANAGER.setDataLayerClickFindInBoutiqueR24()})},_initDictionary:function(){s.i18n.load(lbdR21Dictionary)},_initUI:function(){this.initAttributeScrollbar(),this.initToolbarAttributes(),this._initBreadcrumb()},_checkScroll:function(){var e=s(".product-toolbar__attribute-wrapper--dropdown");if(0!==e.length){window.pdpR23AttributeInputFocused||this.closeAttributeSelectors(!1),window.pdpR23AttributeInputFocused=!1;var n=this.vars._$html[0].clientHeight;e.each(function(){var e=s(this),t=!1,i=e[0].getBoundingClientRect().top;0<e.closest(".dpd-fis").length?"xs"===MAIN.responsive_r23.getBreakpoint()?(t=!0,i=n-70):t=!1:t=n/2<i,e.css("--attribute-viewport-top",i+"px"),e.toggleClass("product-toolbar__attribute-wrapper--open-up",t)})}},initAttributeScrollbar:function(){s(".product-toolbar__attribute-wrapper--dropdown .product-toolbar__attribute-list").each(function(){var e=s(this).data("attribute-scrollbar-ps");e?e.update():(e=new PerfectScrollbar(this,{wheelSpeed:.35}),s(this).data("attribute-scrollbar-ps",e)),s(this).find(".ps__thumb-y").attr("tabindex","-1")})},updateAttributeScrollbar:function(){setTimeout(function(){s(".product-toolbar__attribute-wrapper--dropdown .product-toolbar__attribute-list").each(function(){var e=s(this).data("attribute-scrollbar-ps");e&&e.update(),s(this).find(".ps__thumb-y").attr("tabindex","-1")})},350)},_selectAttributeValue:function(e){var t=e.find("input:checked");if(0!=t.length){var i=e.closest(".product-toolbar__attribute-wrapper");if(i.hasClass("product-toolbar__attribute-wrapper--dropdown")){var n=i.find(".product-toolbar__attribute-value__placeholder"),r=s(".prod-r23-toolbar").find('label[for="'+t.prop("id")+'"]').html();n.html(r)}else{if(B_SHOPPING.productDetail[productId].productDetail.attributes.productiveCategoryCode===COMMON.prodCatCodeToReplaceSwatch)t.siblings().find(".product-toolbar__attribute-color-without-swatch").toggleClass("hovered");else{var o=e.find(".product-toolbar__attribute-value");r=s(".prod-r23-toolbar").find('label[for="'+t.prop("id")+'"]').html();o.html(r)}}}},_onToolbarClick:function(e){e.stopPropagation();var t=s(e.target).closest(".product-toolbar__attribute");0===t.closest(".product-toolbar__attribute-wrapper--color").length&&this._selectAttributeValue(t),this._checkParameterValidity(t),this.closeAttributeSelectors(!1)},_onDocumentClickToggleAttributeToolbar:function(e){if("tooltip"!==s(e.target).parent().attr("data-toggle")&&void 0!==s(e.target).parent().attr("class")&&s(e.target).parent().attr("class").indexOf("product-toolbar__attribute-value__label")<0&&null!=s(e.target).attr("class")&&s(e.target).attr("class").indexOf("product-toolbar__attribute-value__label")<0){var t=s(e.target).closest(".product-toolbar__attribute-wrapper"),i=t.find(".product-toolbar__attribute"),n=t.hasClass("product-toolbar__attribute-wrapper--expanded");this.closeAttributeSelectors(!1),n||this.openAttributeSelector(!1,i)}},_onAttributeItemKeydown:function(e){var t=s(e.target).closest(".product-toolbar__attribute");switch(e.keyCode||e.which){case a:var i=s(e.target).parent().find("input");i.prop("checked",!0),0===t.closest(".product-toolbar__attribute-wrapper--color").length&&this._selectAttributeValue(t),this._checkParameterValidity(t),this.closeAttributeSelectors(!0),t.focus(),s(".product-toolbar__attributes").dpdAttributes("onAttributeValueChangeUI",e,i)}},_onAttributeKeydown:function(e){var t=s(e.target),i=t.closest(".product-toolbar__attribute-wrapper").find(".product-toolbar__attribute"),n=e.keyCode||e.which,r=!1;switch(n){case a:s(e.target).is(".product-toolbar__attribute-value__combobox")&&(r=!0,this.closeAttributeSelectors(!0),this.openAttributeSelector(!0,i))}var o=i.find(":tabbable");switch(n){case l:e.shiftKey&&s(e.target).is(o.first())&&(r=!0,o.last().focus()),!e.shiftKey&&s(e.target).is(o.last())&&(r=!0,o.first().focus());break;case u:r=!0,o.filter(":gt("+o.index(t)+"):first").focus();break;case d:r=!0,o.filter(":lt("+o.index(t)+"):last").focus();break;case c:r=!0,this.closeAttributeSelectors(!0)}r&&e.preventDefault()},_checkParameterValidity:function(e,t){s(".prod-r23-toolbar").removeClass("product-toolbar--checked");var i=!0,n=e.find(":checked").val();e.toggleClass("product-toolbar__attribute--invalid",!n);var r=e.closest(".product-toolbar__attribute-wrapper").attr("data-attr-id");return n?s(".add-to-bag-invalid span."+r).addClass("hidden"):(t&&s(".add-to-bag-invalid span."+r).removeClass("hidden"),i=!1),i},_onSubmitToolbarForm:function(e){var t=this;e.preventDefault(),s(".prod-r23-toolbar").find(".product-toolbar__attribute").each(function(){return t._checkParameterValidity(s(this),!0)}),s(".prod-r23-toolbar").addClass("product-toolbar--checked")},_initBreadcrumb:function(){var e=document.referrer.indexOf("filter=true"),t=document.referrer.indexOf("fromPdp=true");if(0<=e&&t<0){var i=(n=s(".prod-r23-breadcrumb__list > li:last-child > a")).attr("href")+"?filter=true";n.attr("href",i)}else if(e<0&&0<=t){i=(n=s(".prod-r23-breadcrumb__list > li:last-child > a")).attr("href")+"?fromPdp=true";n.attr("href",i)}else if(0<=e&&0<=t){var n;i=(n=s(".prod-r23-breadcrumb__list > li:last-child > a")).attr("href")+"?fromPdp=true&filter=true";n.attr("href",i)}},initToolbarAttributes:function(){var e=this;s(".product-toolbar__attribute").each(function(){e._selectAttributeValue(s(this))}),e.initAttributeScrollbar(),setTimeout(function(){e._checkScroll()},0)},closeAttributeSelectors:function(i){var n=s(".product-toolbar__attribute-wrapper--expanded");0<n.length&&(n.removeClass("in"),setTimeout(function(){n.removeClass("product-toolbar__attribute-wrapper--expanded");var e=n.find(".product-toolbar__attribute-value__combobox");e.attr("aria-expanded","false");var t=e.attr("id");i&&setTimeout(function(){s("#"+t).focus()},200)},200))},openAttributeSelector:function(i,n){var r=this,o=n.closest(".product-toolbar__attribute-wrapper");o.hasClass("product-toolbar__attribute-wrapper--dropdown")&&(o.addClass("product-toolbar__attribute-wrapper--expanded"),setTimeout(function(){if(o.addClass("in"),o.find(".product-toolbar__attribute-value__combobox").attr("aria-expanded","true"),r.updateAttributeScrollbar(),i){var e=n.find(".dpd-attributes__value"),t=e.filter("input:checked");0<t.length?t.siblings("label").focus():e.first().siblings("label").focus()}},0))}}),s.productR19=function(e,t){s(e).productR19(t)},s(function(e){e(".page-product--r23").productR19()}),s}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(p){"use strict";var n=27;return void 0===p&&(p=jQuery),p.widget("custom.dpdVisuals",{templates:{},_create:function(){if(0!==p(".page-product--r23").length){this.vars={id:"dpdVisuals"+this.uuid},this.vars.isZoomOpen=!1,this.vars.zoomScrollbarWidth=0,this.vars.isFirstGalleryInitialization=!0,this.vars.isScrolling=!1,B_SHOPPING.isFirstImgLoad=!0,B_SHOPPING.isEdtImg=!1,this._initUIElements(),this._initListeners(),this.populateTemplate()}},_initUIElements:function(){this.vars._$body=p("body"),this.vars._$scrollableGallery=p(".product-gallery-r23__items"),this.vars._$items=this.vars._$scrollableGallery.find(".product-gallery-r23__items__container"),this.vars._$counter=p(".product-gallery-r23__zoom-counter"),this.vars._$galleryThumb=p(".product-gallery-thumb-r23__inner"),this.vars._$galleryThumbSection=p(".product-gallery-thumb-r23"),this.vars._$galleryNext=p(".product-gallery-r23__next"),this.vars._$galleryPrev=p(".product-gallery-r23__prev")},_initListeners:function(){var i=this;i._on(p(".product-gallery__zoom-close"),{click:i.closeZoom}),p(document).on("keydown",".product--zoomed-gallery",function(e){var t=e.keyCode||e.which;i.vars.isZoomOpen&&t===n&&(e.preventDefault(),i.closeZoom())}),p(document).on("click",".product-gallery-r23__items__container",function(e){i.vars.isZoomOpen||i.openZoom(e)}),p(document).on("click",".product-gallery-r23__items__container.zoomed",function(e){i.closeAdditionalZoom()}),p(document).on("click",".sizeOptions-details_current-product",function(e){p("#modalSizeOptions").modal("hide")}),p(window).on("resize",_.debounce(function(){i.vars.isScrolling||i.vars.isZoomOpen||(p(".primary-gallery-dots").remove(),i._initGallerySlick(),i._initGalleryThumb(),i.initSizeOptionsGallery(),i._initGalleryDots())},100)),p(window).on("scroll",function(){i.vars.isScrolling=!0,setTimeout(function(){i.vars.isScrollin=!1},100)})},_initGallery:function(){this.vars.infiniteGallery=!1,void 0!==B_SHOPPING.imageGallery.images&&1<B_SHOPPING.imageGallery.images.length&&(this.vars.infiniteGallery=!0),this._settingsGalleryNav(),this._initGallerySlick(p(".product-gallery-r23__items")),this._initGalleryThumb(),this._initGalleryDots(),this._showHidePrevIcon(),this.initSizeOptionsGallery()},_settingsGalleryNav:function(){var n=this,r=n.vars._$scrollableGallery.not(".slick-initialized"),o=n.vars._$galleryThumb.not(".slick-initialized");o.on("click",".slick-slide",function(e){e.preventDefault();var t=p(this).data("slick-index"),i=p(this).data("slick-index")+1;o.slick("slickGoTo",i),r.slick("slickGoTo",t),n._showHidePrevIcon(),n._updateDots()}),o.on("swipe",function(e){e.preventDefault();var t=p(this).find(".slick-current").data("slick-index")-1;r.slick("slickGoTo",t),n._showHidePrevIcon(),n._updateDots()}),r.on("swipe",function(e){e.preventDefault();var t=p(this).find(".slick-current").data("slick-index")+1;o.slick("slickGoTo",t),n._showHidePrevIcon(),n._updateDots()}),p(document).on("click",".primary-gallery-dots button",function(e){e.preventDefault(),p(".primary-gallery-dots li").removeClass("slick-active"),p(this).parent().addClass("slick-active");var t=p(this).data("index"),i=t+1;r.find(".slick-current").data("slick-index")!==t&&(o.slick("slickGoTo",i),r.slick("slickGoTo",t),n._showHidePrevIcon())}),p(document).on("click",".product-gallery-thumb-r23__next",".product-gallery-thumb-r23__prev",function(e){e.preventDefault();var t=o.find(".slick-active").data("slick-index")-1;r.slick("slickGoTo",t),n._showHidePrevIcon(),n._updateDots()}),p(document).on("click",".product-gallery-thumb-r23__prev",function(e){e.preventDefault();var t=o.find(".slick-active").data("slick-index")-1;r.slick("slickGoTo",t),n._showHidePrevIcon(),n._updateDots()})},_updateDots:function(){p(".primary-gallery-dots li").removeClass("slick-active");var e=p(".product-gallery-r23__items").find(".slick-active").data("slick-index");p(".primary-gallery-dots").find("[data-index='"+e+"']").parent().addClass("slick-active")},_initGallerySlick:function(n){if(p.fn.slick)try{var e=this.vars._$scrollableGallery.filter(".slick-initialized");if(0<e.length&&e.slick("unslick"),0<(n=this.vars._$scrollableGallery.not(".slick-initialized")).length){var t={arrows:!0,nextArrow:p(".product-gallery-thumb-r23__next"),prevArrow:p(".product-gallery-thumb-r23__prev"),dots:!0,appendDots:p(".product-gallery-thumb-r23"),infinite:this.vars.infiniteGallery,focusOnSelect:!1,lazyLoad:"ondemand",accessibility:!1,swipe:!0,speed:600,swipeToSlide:!0,slidesToShow:1,responsive:[{breakpoint:768,settings:"unslick"},{breakpoint:850,settings:"unslick"},{breakpoint:1024,settings:"unslick"},{breakpoint:650,settings:{slidesToShow:1,swipe:!0,dots:!0,swipeToSlide:!0,appendDots:p(".product-gallery-r23__items")}}]};n.slick(t)}}catch(e){console.error(e)}this._checkIfDesktop()&&this.vars.isFirstGalleryInitialization&&(this.vars.isFirstGalleryInitialization=!1,p(document).on("click",".product-gallery-r23__items__container",function(e){if(!p("body").hasClass("product--zoomed-gallery")){var t=p(this).data("slickIndex"),i=n.slick("slickCurrentSlide");t!==i&&(e.preventDefault(),setTimeout(function(){n.slick("slickGoTo",t)},0))}})),this._checkIfDesktop()&&n.find(".product-gallery-r23__items__container").first().trigger("focus")},_initGalleryThumb:function(){if(p.fn.slick)try{var e=this.vars._$galleryThumb.filter(".slick-initialized");0<e.length&&e.slick("unslick");var t=this.vars._$galleryThumb.not(".slick-initialized");if(0<t.length){var i={arrows:!0,nextArrow:p(".product-gallery-thumb-r23__next"),prevArrow:p(".product-gallery-thumb-r23__prev"),dots:!1,speed:600,focusOnSelect:!1,lazyLoad:"ondemand",accessibility:!1,swipe:!0,swipeToSlide:!0,slidesToShow:1,initialSlide:1,responsive:[{breakpoint:768,settings:{variableWidth:!0,centerMode:!0,centerPadding:"0px"}},{breakpoint:850,settings:{variableWidth:!0,centerMode:!0,centerPadding:"0px"}},{breakpoint:1024,settings:{variableWidth:!0,centerMode:!0,centerPadding:"0px"}},{breakpoint:650,settings:{variableWidth:!0,centerMode:!0,centerPadding:"0px"}}]};t.slick(i)}}catch(e){console.error(e)}},initSizeOptionsGallery:function(){var e=this;p("#modalSizeOptions").off("shown.bs.modal.initSizeOptionsGallery").on("shown.bs.modal.initSizeOptionsGallery",function(){e.initSizeOptionsGallerySlick()})},initSizeOptionsGallerySlick:function(){if(p.fn.slick)try{var e=p(".sizeOptions-gallery"),t=e.filter(".slick-initialized");0<t.length&&t.slick("unslick");var i=e.not(".slick-initialized");if(0<i.length){i.slick({arrows:!0,dots:!0,speed:600,focusOnSelect:!1,accessibility:!1,infinite:!1,swipe:!0,swipeToSlide:!0,slidesToShow:1})}}catch(e){console.error(e)}this._setSizeOptionsCardsHeight(p(".sizeOptions-details_title")),this._setSizeOptionsCardsHeight(p(".sizeOptions-details_measures"))},_setSizeOptionsCardsHeight:function(a){p(a).each(function(e){if(e%2==0){var t=p(this),i=p(a).eq(e+1);if(0<i.length){var n=t.height(),r=i.height(),o=Math.max(n,r);t.height(o),i.height(o)}}})},_showHidePrevIcon:function(){var e=this.vars._$galleryThumb.find(".slick-current").data("slick-index");p(".product-gallery-thumb-r23__prev").hide(),1!=e&&p(".product-gallery-thumb-r23__prev").show()},_initGalleryDots:function(){var e=this.vars._$galleryThumbSection.find(".slick-dots"),t=p(".product-gallery-r23__items");this._checkIfDesktop()||(e=t.find(".slick-dots")),e.clone().addClass("primary-gallery-dots").appendTo(t),p(".primary-gallery-dots").find("li button").each(function(e){p(this).attr("data-index",e)})},_zoomInitCounter:function(){var e=this;0!==e.vars._$scrollableGallery.length&&(e.vars._$scrollableGallery.on("scroll.prodR23Visuals",_.throttle(function(){e._zoomCheckCount()},300)),e._zoomCheckCount())},_zoomDestroyCounter:function(){this.vars._$scrollableGallery.off("scroll.prodR23Visuals")},_zoomCheckCount:function(){var e=this._zoomGetCurrentSlideIndex();this.vars._$counter.html(e+1+" / "+this.vars._$items.length)},_zoomGetCurrentSlideIndex:function(){var e,t=this,i=90;if(t._checkIfDesktop()){var n=p(window).height(),r=t.vars._$scrollableGallery.scrollTop(),o=t.vars._$scrollableGallery[0].scrollHeight,a=t.vars._$items.first().height(),s=(i=90,30*n/100);i=90;t._checkIfDesktop(),e=Math.round(r/(a-i)),o-40<r+n+s&&(e=t.vars._$items.length-1),t.vars._$scrollableGallery.scrollTop()<1&&(e=0)}else{var l=p(window).width(),c=t.vars._$scrollableGallery.scrollLeft(),d=t.vars._$scrollableGallery[0].scrollWidth,u=t.vars._$items.first().width(),h=30*l/100;e=Math.round(c/(u-i)),d-40<c+l+h&&(e=t.vars._$items.length-1),t.vars._$scrollableGallery.scrollLeft()<1&&(e=0)}return e},_zoomScrollToSlide:function(e){var t=this.vars._$items.first().height(),i=e*this.vars._$items.first().width(),n=e*t;this._checkIfDesktop()?this.vars._$scrollableGallery.scrollTop(n):this.vars._$scrollableGallery.scrollLeft(i),this.vars._$scrollableGallery.trigger("scroll")},_zoomResizeListeners:function(){var e=this;e.isZoomOpen?p(window).on("resize.prodR23Visuals",function(){e._zoomAdjustDialog()}):p(window).off("resize.prodR23Visuals")},_zoomAdjustDialog:function(){var e=this.vars._$scrollableGallery[0].scrollHeight>document.documentElement.clientHeight;document.documentElement.style.setProperty("--product-gallery-r23-scrollbar-width",(e?this.vars.zoomScrollbarWidth:0)+"px")},_zoomResetAdjustments:function(){document.documentElement.style.setProperty("--product-gallery-r23-scrollbar-width","0px")},_zoomMeasureScrollbar:function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.vars._$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.vars._$body[0].removeChild(e),t},_zoomLoadImages:function(e){var t=this;t._zoomLoadSingleImage(e),setTimeout(function(){t.vars._$scrollableGallery.find(".product-gallery-r23__items__container__img:not(.zoom-img-loaded)").not(e).each(function(){t._zoomLoadSingleImage(p(this))})},200)},_zoomLoadSingleImage:function(e){var t=e.closest("a");if(0<e.is("img")&&!e.hasClass("zoom-img-loaded")){var i=new Image;i.src=t.attr("href"),i.onload=function(){e.attr("src",i.src),e.addClass("zoom-img-loaded")},i.complete&&i.onload()}},_checkIfDesktop:function(){var e=MAIN.responsive_r23.getBreakpoint();return"md"===e||"lg"===e},_pinchZoom:function(o){console.log("Inizializzazione pinchZoom");var a=1,s={},l=p(".product-gallery-r23__items"),c=o.find("img");o.find("img").data("slide-number");o.on("touchstart touchmove touchend",function(e){console.log("Evento touch rilevato:",e.type);var t=e.originalEvent.touches;if("touchstart"===e.type&&2===t.length&&(console.log("Inizio pinch zoom"),l.css({overflow:"hidden","touch-action":"none"}),s.x=(t[0].pageX+t[1].pageX)/2,s.y=(t[0].pageY+t[1].pageY)/2,s.distance=Math.hypot(t[0].pageX-t[1].pageX,t[0].pageY-t[1].pageY)),"touchmove"===e.type&&2===t.length){e.preventDefault();var i=Math.hypot(t[0].pageX-t[1].pageX,t[0].pageY-t[1].pageY);if(1<(a=Math.max(i/s.distance,1))){console.log("ImagrScle2",a);var n=(t[0].pageX+t[1].pageX)/2-s.x,r=(t[0].pageY+t[1].pageY)/2-s.y;c.css({transform:"scale("+Math.min(Math.max(a,1),3)+") translate("+n+"px, "+r+"px)","z-index":"10"})}}"touchend"===e.type&&(a<=1&&(console.log("dentro fine "),l.css({overflow:"auto","touch-action":"pan-x pan-y"}),o.removeClass("zoomed"),c.removeClass("zoomed"),l.removeClass("max-zoom"),c.css({transform:"","z-index":""})),a=1)})},populateTemplate:function(){this._initGallery()},openZoom:function(e){var t=this;e.preventDefault(),t.vars.isZoomOpen=!0,t.vars.zoomScrollbarWidth=t._zoomMeasureScrollbar(),t._zoomResizeListeners(),t.vars._$body.addClass("product--zoomed-gallery"),(document.scrollingElement||document.documentElement).scrollTop=0;var i=p(e.currentTarget),n=i.find("img")||i.find(".video-container"),r=n.data("slide-number");0<i.find(".video-container").length&&setInterval(function(){var e=BCPM.getPlayerById(i.find(".video-container").attr("id"));e&&e.paused()&&BCPM.playPlayer(i.find(".video-container"))},200),t.vars._$scrollableGallery.slick("unslick"),t._zoomLoadImages(n),t._zoomAdjustDialog(),t._zoomScrollToSlide(r),t._checkIfDesktop()||0<p("#kampyleButtonContainer").length&&p("#kampyleButtonContainer").hide(),t._zoomInitCounter(),p(".primary-gallery-dots").hide(),p(document).on("click",".product-gallery-r23__items__container:not(.zoomed):not(.slick-slide)",function(e){e.preventDefault(),t.vars.isZoomOpen&&(t.vars._$scrollableGallery.addClass("max-zoom"),t.openAdditionalZoom(p(this)))}),t.vars._$galleryThumb.slick("unslick"),p(".prod-23-section__thumb").addClass("sidethumb"),t.initSideThumScrollSync()},initSideThumScrollSync:function(){var t=this,e=p(".prod-23-section__thumb.sidethumb .product-gallery-thumb-r23__inner__item");if(6<e.length&&t._checkIfDesktop()){var i=Math.round(100/e.length-1.2);e.css("height",i+"%")}p(".product-gallery-thumb-r23__inner__item img").on("click",function(){if(!p(".product-gallery-r23__items").hasClass("max-zoom")){var e=p(this).attr("sync-scroll-index");t._zoomScrollToSlide(e)}})},openAdditionalZoom:function(e){var t=e.find("img");t.addClass("zoomed"),e.addClass("zoomed"),this._checkIfDesktop()||(p(".ssicon--r23-actions-close-big").hide(),this._pinchZoom(e)),p(".product-gallery-thumb-r23__inner__item").css("cursor","default");var i=parseInt(t.attr("data-slide-number"));this.vars._$counter.html(i+1+" / "+this.vars._$items.length),this._checkIfDesktop()?p(".product-gallery-r23__items__container").on("mousemove",function(e){p(this).find(".zoomed").css("--x",100*e.offsetX/p(this).width()+"%"),p(this).find(".zoomed").css("--y",100*e.offsetY/p(this).height()+"%")}):p(".product-gallery-r23__items__container.zoomed").on("touchstart touchmove touchend",function(e){p(this).find(".zoomed").css("--x",100*e.originalEvent.changedTouches[0].clientX/p(this).width()+"%"),p(this).find(".zoomed").css("--y",100*e.originalEvent.changedTouches[0].clientY/p(this).height()+"%")})},closeAdditionalZoom:function(){console.log("Close"),p(".ssicon--r23-actions-close-big").show();var e=this.vars._$scrollableGallery.find(".zoomed"),t=this.vars._$scrollableGallery.find("img.zoomed").attr("data-slide-number");e.removeClass("zoomed"),this.vars._$scrollableGallery.removeClass("max-zoom"),p(".product-gallery-thumb-r23__inner__item").css("cursor","pointer"),this._zoomScrollToSlide(t)},closeZoom:function(){var e=this,t=e._zoomGetCurrentSlideIndex();e.vars.isZoomOpen=!1,e.vars._$body.removeClass("product--zoomed-gallery"),e._zoomResizeListeners(),e._zoomDestroyCounter(),e._zoomResetAdjustments(),p(".primary-gallery-dots").remove(),e.populateTemplate(),p(".prod-23-section__thumb").removeClass("sidethumb"),e._initGalleryThumb(),e.vars._$scrollableGallery.slick("slickGoTo",t,!0),e.vars._$galleryThumb.slick("slickGoTo",t+1,!0),p(".primary-gallery-dots").show(),e._showHidePrevIcon(),e._updateDots()}}),p.dpdVisuals=function(e,t){p(e).dpdVisuals(t)},p(function(){p(document).dpdVisuals()}),p}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(D){"use strict";return void 0===D&&(D=jQuery),D.widget("custom.dpdAttributes",{templates:{},commonModel:{},_create:function(){this.vars={id:"dpdAttr"+this.uuid,parentPartNumber:""+partNumber,productId:productId,inventoryType:void 0},this._initUIElements(),this._initTemplates(),this._initListeners(),this._initAPI()},getCurrentProductItem:function(){return this._getEntryModel()},changeAttribute:function(e){this.onAttributeValueChangeUI(e)},populateProp65California:function(e){var t={espotHTML:e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText,espotName:e.MarketingSpotData[0].eSpotName};D("[data-id=modalProp65California]").empty().append(this.templates.california65TmplCompiled(t))},_initUIElements:function(){this.vars._$attributes=this.element,this.vars._$collapse=this.vars._$attributes.find(".collapse"),this.vars._$main=this.element.closest(".dpd-main")},_initTemplates:function(){var e=this;void 0===e.templates.attrTmplCompiled&&(e.templates.attrTmplCompiled=_.template(D("#dpdAttrDeskTmpl").html())),e.templates.shopperActionsTmplCompiled=_.template(D("#shopperActionsTmpl").html()),"true"===COMMON.klarnaMessagingEnabled&&(e.templates.klarnaTmplCompiled=_.template(D("#klarnaProduct_tmpl").html()),e.templates.klarnaStaticTmplCompiled=_.template(D("#klarnaProductStatic_tmpl").html())),e.templates.availabilityMsgTmplCompiled=_.template(D("#availabilityMsgTmpl").html()),"mob"===e.vars.responsiveMode&&void 0===e.templates.addToCartMobileTmplCompiled&&(e.templates.addToCartMobileTmplCompiled=_.template(D("#addToCartMobileTmpl").html())),e.templates.longDescriptionTmplCompiled=_.template(D("#longDescriptionTmpl").html()),e.templates.shortDescriptionTmplCompiled=_.template(D("#shortDescriptionTmpl").html()),e.templates.secondDescriptionTmplCompiled=_.template(D("#secondDescriptionTmpl").html()),e.templates.agecCtaTmplCompiled=_.template(D("#agecCtaTmpl").html()),e.templates.sizeAndFitTmplCompiled=_.template(D("#sizeAndFitTmpl").html()),e.templates.california65TmplCompiled=_.template(D("#modalProp65California_tpl").html());var t=D("#espotTmpl").html();e.templates.espotTmplCompiled=_.template(t)},_initListeners:function(){var r=this;r._on(r.vars._$attributes,{"click .dpd-attributes__value":r.onAttributeValueChangeUI,"change .cmp-select":r.onAttributeValueChangeUI}),D(document).on("custom-product-detail-loaded.B_SHOPPING",function(){r._populateTemplate()}),D(document).on("attribute-value-changed.dpdAttributes",function(e){r._updateTemplate(e),D(".product-toolbar__attribute-value__label").hide(),D(".product-toolbar__attribute-value__label--selected").css("display","flex");var t=D('[data-attr-id="widthSelector"]').find("li"),i=D('[data-attr-id="widthSelector"]').find(".product-toolbar__attribute-value__arrow"),n=D("#comboWidth");i.hide(),n.prop("disabled",!0),n.attr("aria-disabled",!0),1<t.length&&(i.show(),n.prop("disabled",!1),n.attr("aria-disabled",!1))}),D(document).on("additional-info-loaded.B_SHOPPING",function(e,t){r._populateAdditionalInfo(t)}),D(document).on("wishlist-loaded.B_WISHLIST",function(e){r._updateWishedStatus(e)})},_initAPI:function(){var e=["ShippingAndReturn","HelpAndAdvice"];"true"===window.bookAnAppointmentEnabled&&e.push("BookAnAppointment"),"true"===window.showGiftWrap&&e.push("PDPGiftWrap"),"true"==window.pdpPaymentOptionsEnabled&&e.push("PDPPaymentOptions"),"true"==window.pdpHolidayShippingEnabled&&e.push("PDPHolidayShipping"),"true"==window.tryAtHomeEnabled&&e.push("TryAtHome"),B_SHOPPING.getAdditionalInfo(productId,e)},_populateAdditionalInfo:function(e){if(e&&e.espots)for(var t in e.espots){var i=e.espots[t];if("RECENTLY_VIEWED_PDP"!==t&&(i&&(""!==i.content||""!==i.title))){var n={espotHTML:i.content,espotTitle:i.title,espotName:t};D('[data-id="espot'+t+'"]').empty().append(this.templates.espotTmplCompiled(n))}}},_populateTemplate:function(){var t=this,i=t._getEntryModel();if(i&&0<Object.keys(i.productDetail.inventory).length){var e={widgetId:t.vars.id,entryView_AttrWidth:void 0,entryView_AttrSize:void 0,sizeValNotConverted:void 0,widthValNotConverted:void 0,uniqueWidth:i.synthInfo.uniqueWidth,convertedUniqueWidth:i.synthInfo.convertedUniqueWidth,uniqueSize:i.synthInfo.uniqueSize,convertedUniqueSize:i.synthInfo.convertedUniqueSize,mapWidth:i.synthInfo.mapWidth,mapSize:i.synthInfo.mapSize,eyewareCat:i.synthInfo.eyewareCat,widthLabel:i.synthInfo.widthLabel,hideWidth:i.synthInfo.hideWidth,selectDescription:i.productDetail.selectDescription,products:i.productDetail.groupedProducts,name:i.synthInfo.name,gender:i.productDetail.attributes.gender};i.otherInfo.uniqueEan&&!i.otherInfo.eanWithCatCode||(0<Object.keys(i.synthInfo.mapWidth).length&&null!=i.synthInfo.entryView_AttrWidth&&(e.entryView_AttrWidth=""),e.entryView_AttrSize="")}else e={widgetId:t.vars.id,entryView_AttrWidth:void 0,entryView_AttrSize:void 0,sizeValNotConverted:void 0,widthValNotConverted:void 0,uniqueWidth:[],convertedUniqueWidth:[],uniqueSize:[],convertedUniqueSize:[],mapWidth:{},mapSize:{},eyewareCat:i.synthInfo.eyewareCat,widthLabel:"",hideWidth:!0,selectDescription:i.productDetail.selectDescription,products:i.productDetail.groupedProducts,name:i.productDetail.name,gender:""};e.prodCat=i.productDetail.attributes.productiveCategoryCode;var n=D(t.templates.attrTmplCompiled(e));t.vars._$attributes.empty().append(n),t.vars._$collapse=t.vars._$attributes.find(".collapse"),D("[name=productColor]").on("click",function(e){t._onAttributeValueChangedColor(e)}),D(".product-toolbar__attribute-wrapper--color .product-toolbar__attribute-list label").on("keydown",function(e){t._onAttributeLabelKeydownColor(e)}),D(".page-product--r23").productR19("initToolbarAttributes"),D(".dpd-main__details__size-guide").appendTo('[data-attr-button="size-guide"]').show(),D(document).trigger("template-populated.dpdAttributes"),D(document).on("click keydown",'[data-target="#modalSizeguide"]',function(e){var t=e.keyCode||e.which;"click"===e.type&&e.preventDefault(),("click"===e.type||"keydown"===e.type&&13===t)&&D(document).sizeGuideR19("openSizeGuide",i.productDetail.attributes.productiveCategoryCode,i.productDetail.attributes.merchandisingTypology,!1)}),D(document).on("click keydown",'[data-target="#modalWidthguide"]',function(e){var t=e.keyCode||e.which;"click"===e.type&&e.preventDefault(),("click"===e.type||"keydown"===e.type&&13===t)&&D(document).sizeGuideR19("openWidthGuide",i.productDetail.attributes.productiveCategoryCode,i.productDetail.attributes.merchandisingTypology,!0)}),D(document).on("click keydown",'[data-target="#modalSizeOptions"]',function(e){var t=e.keyCode||e.which;"click"===e.type&&e.preventDefault(),("click"===e.type||"keydown"===e.type&&13===t)&&D("#modalSizeOptions").modal()}),D(document).on("click keydown",".prod-r24__agec-link",function(e){var t=e.keyCode||e.which;"click"===e.type&&e.preventDefault(),("click"===e.type||"keydown"===e.type&&13===t)&&grecaptcha.execute(window.reCaptchaWidgetIdAgec)});var r="",o="",a=addToBagBundle.addToBagAvailableLabel;B_SHOPPING.microformatLabelBtnCart="InStock";var s=!0,l=Object.keys(i.productDetail.inventory);if(0<l.length&&(B_SHOPPING.catalogEntryIDChild=Object.keys(i.productDetail.inventory)[0]),i.otherInfo.uniqueEan&&0<l.length)switch(r=B_SHOPPING.catalogEntryIDChild,o=i.productDetail.inventory[r].DDate,B_SHOPPING.catalogEntryID=B_SHOPPING.catalogEntryIDChild,t.vars.inventoryType=i.productDetail.inventory[r].inventoryType,t.vars.inventoryType){case"outofstock":a=addToBagBundle.addToBagOutOfStockLabel,s=!1,B_SHOPPING.microformatLabelBtnCart="OutOfStock",D('[data-attr-id="sizeSelector"]').addClass("hidden"),D('[data-attr-id="widthSelector"]').addClass("hidden");break;case"available":a=addToBagBundle.addToBagAvailableLabel,B_SHOPPING.microformatLabelBtnCart="InStock";break;case"pre_preorder":a=addToBagBundle.addToBagPrePreOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder";break;case"preorder":a=addToBagBundle.addToBagPreOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder";break;case"backorder":a=addToBagBundle.addToBagBackOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder"}else null!=i.productDetail.inventory&&0!=l.length||(s=!1,B_SHOPPING.microformatLabelBtnCart="OutOfStock",D('[data-attr-id="sizeSelector"]').addClass("hidden"),D('[data-attr-id="widthSelector"]').addClass("hidden"),t.vars.inventoryType="outofstock");"true"===COMMON.findYourSizeEnabled&&s&&0<i.synthInfo.uniqueSize.length&&t._createFindYourSizeScript(),i.otherInfo.eanWithCatCode&&(r="");var c={parentCatentryId:i.catentryId,catalogEntryID:r,ddate:o,labelAddToCart:a,available:s,catentryIdParent:i.productDetail.uniqueID,partNumber:t.vars.parentPartNumber};i.synthInfo&&0<i.synthInfo.length&&(0<i.synthInfo.uniqueSize.length||0<i.synthInfo.uniqueWidth.length)?c.selectAttributes=!0:c.selectAttributes=!1,D(".product-toolbar__controls").empty().append(t.templates.shopperActionsTmplCompiled(c)),"R"===COMMON.userType&&D.isEmptyObject(B_WISHLIST.wishListItem)&&B_WISHLIST.getWishList(!1),D("[data-attr-id='wishListButtonProd']").on("click ",function(e){D(".page--r19").wishlistAdder("wishListButton",e)});var d={ddate:o,available:s},u=t.templates.availabilityMsgTmplCompiled(d);D(".product-toolbar__availability").empty().append(u),0<d.ddate.length||!s?(D(".product-toolbar__availability").removeClass("hidden"),s||D(".product-toolbar__availability").addClass("out-of-stock")):(D(".product-toolbar__availability").addClass("hidden"),D(".product-toolbar__availability").removeClass("out-of-stock"));var h={longDescription:i.productDetail.longDescription};D("[data-id=longDescription]").empty().append(t.templates.longDescriptionTmplCompiled(h)),D('[data-id="productDetails"]').removeClass("hidden");var p={shortDescription:i.productDetail.shortDescription,productiveCategoryCode:i.productDetail.attributes.productiveCategoryCode,high:i.productDetail.attributes.high,length:i.productDetail.attributes.length,largeness:i.productDetail.attributes.largeness,spec:i.productDetail.attributes.spec,occasionOfUse:i.productDetail.attributes.occasionOfUse,partnumber:i.productDetail.partNumber,modelCode:i.productDetail.attributes.modelCode};if(D("#materialsInfo").html(p.shortDescription),COMMON.frgStoreIdentifier==COMMON.storeIdKR){var f=!1,m=i.productDetail.attributes.productiveCategoryCode;catProduttiveKR=catProduttiveKR.substring(1,catProduttiveKR.length-1);for(var g=catProduttiveKR.split(","),v=0;v<g.length;v++){g[v].trim()==m&&!1===f&&(f=!0,p.frgKRWPMsg=frgKRWPCustom)}i.productDetail.attributes.warrantyPeriod&&!1===f&&(f=!0,p.frgKRWPMsg=frgKRWPGeneral)}p.watchesTimepiecesInfoEnabled=!1,"true"===madeInEnabled&&p.occasionOfUse&&(p.occasionOfUse.includes("SWISS")&&(p.occasionOfUse=p.occasionOfUse.replace("SWISS","SWITZERLAND")),p.productiveCategoryCode.includes(prodCatCodesListSwissMade)?(p.madeInMessage=madeInSwiss,"true"===confWatchesTimepiecesInfoEnabled&&(p.watchesTimepiecesInfoEnabled=!0,p.watchAdditionalInfoMessage=window.watchAdditionalInfoMessage+":")):p.madeInMessage=madeInLabel+" "+p.occasionOfUse,p.productiveCategoryCode&&COMMON.frgStoreIdentifier==COMMON.storeIdUS&&p.productiveCategoryCode==eyewearCat&&(p.california65Enabled=!0,p.infoLegalUSAEyewear=infoLegalUSAEyewear,0===D("#modalProp65California").html().length&&B_SHOPPING.getProp65California())),COMMON.frgStoreIdentifier!=COMMON.storeIdCA&&COMMON.frgStoreIdentifier!=COMMON.storeIdUS||(p.high=i.productDetail.attributes.inchHigh,p.length=i.productDetail.attributes.inchLength,p.largeness=i.productDetail.attributes.inchLargeness),void 0!==p.high&&0<p.high.length?p.highMsg=i.productDetail.attributes.highLabel+" "+p.high+" "+frgUnit:p.highMsg="",void 0!==p.length&&0<p.length.length?p.lengthMsg=i.productDetail.attributes.lengthLabel+" "+p.length+" "+frgUnit:p.lengthMsg="",void 0!==p.largeness&&0<p.largeness.length?p.largenessMsg=i.productDetail.attributes.largenessLabel+" "+p.largeness+" "+frgUnit:p.largenessMsg="";var y=[],b=[],C=i.productDetail.attributes.additionalData;if(void 0!==C&&0<C.length){y=C.split("|");var w=void 0;D(y).each(function(e,t){if(t.includes("url=")){t.substring(t.indexOf("[")+1,t.indexOf("]"));w={title:t.substring(t.indexOf("=")+1,t.indexOf("[")).trim(),url:t.substring(t.indexOf("[")+1,t.indexOf("]")).trim()}}else b.push(t)});var S={additionalData:b,productiveCategoryCode:i.productDetail.attributes.productiveCategoryCode,sizeAndFitImg:i.productDetail.sizeAndFit,findYourSizeUrl:w};D("[data-id=sizeAndFitSection]").empty().append(t.templates.sizeAndFitTmplCompiled(S))}p.additionalData=b,p.additionalData1=i.productDetail.attributes.additionalData1,p.additionalData2=i.productDetail.attributes.additionalData2,p.additionalData3=i.productDetail.attributes.additionalData3,D("[data-id=shortDescription]").empty().append(t.templates.shortDescriptionTmplCompiled(p)),!0===p.california65Enabled&&D(".california65").removeClass("hidden");var k="";for(v=0;v<i.productDetail.attributes.length-1;v++)_.contains(i.productDetail.attributes[v],"SecondDescription")&&(k=i.productDetail.attributes[v].values[0].value);if(0<k.trim().length){var I={secondDescription:k};D("[data-id=secondDescription]").empty().append(t.templates.secondDescriptionTmplCompiled(I))}var M=window.agecProductiveCatCodeEnabled.split(",");if(0<D("#agecCtaTmpl").length&&_.contains(M,i.productDetail.attributes.productiveCategoryCode)){D('[data-id="agec"]').empty().append(t.templates.agecCtaTmplCompiled({}))}D(document).priceDisplay("populateTemplate",i.catentryId),D('[data-toggle="tooltip"]').tooltip(),D('.size-width-r23-infobox__action > [data-toggle="tooltip"]').on("shown.bs.tooltip",function(){var e=D(this).siblings(".tooltip"),t=D(this).parent().attr("class"),i=MAIN.responsive_r23.getBreakpoint();-1<t.indexOf("selected")&&"xs"===i&&(e.find(".tooltip-inner").addClass("selected"),B_SHOPPING.isFirstTapTooltip?(e.find(".tooltip-arrow").addClass("selected"),B_SHOPPING.isFirstTapTooltip=!1):e.find(".tooltip-arrow").removeClass("selected"))}),D('.bags-tooltip-r24-infobox__action > [data-toggle="tooltip"]').on("shown.bs.tooltip",function(){if("xs"===MAIN.responsive_r23.getBreakpoint()){var e=D(this).siblings(".tooltip"),t=parseInt(e.css("left"))-20;e.css("left",t+"px");var i=D(".tooltip-arrow"),n=parseInt(i.css("left"))+21;i.css("left",n+"px")}})},_createFindYourSizeScript:function(e){var t=this._getEntryModel(),i=document.getElementsByClassName("product-toolbar__attribute__ctas__find-your-size");if(null!=i&&!e){var n=document.createElement("script");n.setAttribute("id","measmerize-script"),n.setAttribute("src","https://client.measmerize.com/script.js"),n.setAttribute("defer","defer"),n.setAttribute("data-brand-code",COMMON.findYourSizeBrandId),n.setAttribute("data-product-code",t.productDetail.partNumber),n.setAttribute("data-lang-code",COMMON.localeCountry.split("_")[0]),n.setAttribute("data-country-code",COMMON.localeCountry.split("_")[1]),D("body").append(n),D(window).on("load",function(){D(".product-toolbar__attributes").dpdAttributes("initMeasemerizeCookies")})}e?D("#measmerize-button").removeClass("hidden").appendTo(D(".product-toolbar__attribute__ctas")):(D(".product-toolbar__attribute__ctas__find-your-size").clone().appendTo(D(".product-toolbar__attribute__ctas")),D(".product-toolbar__attribute__ctas > .product-toolbar__attribute__ctas__find-your-size").attr("id","measmerize-button").removeClass("hidden"))},initMeasemerizeCookies:function(){void 0!==window.measmerize&&("yes"==B_GOOGLE_ANALYTICS.getCookie("FRG_analytics")?(window.measmerize.tracking.enableAnalytics(),window.measmerize.tracking.enableCustom()):(window.measmerize.tracking.disableAnalytics(),window.measmerize.tracking.disableCustom()),"yes"==B_GOOGLE_ANALYTICS.getCookie("FRG_profiling")?window.measmerize.cookies.enableFunctional():window.measmerize.cookies.disableFunctional())},_getEntryModel:function(){return B_SHOPPING.getCustomProductDetail(this.vars.productId)},_getAllowdProductId:function(e,t,i,n){var r="";if("size"===e){var o=t.split(",");if(i)for(var a=i,s=0;s<o.length;s++)_.contains(a,o[s])&&(r=o[s]);else r=o[0];""==r&&(r=o[0])}else if("width"===e){a=t.split(",");if(n)for(o=n,s=0;s<a.length;s++)_.contains(o,a[s])&&(r=a[s])}return r},onAttributeValueChangeUI:function(e,t){var i=this,n=i._getEntryModel(),r="",o=e.keyCode||e.which,a="";if("click"===(r="change"===e.type?"change":"click")){var s=D(e.currentTarget);13===o&&(s=t);var l=s.closest(".dpd-attributes__values").find(".dpd-attributes__value--selected"),c=0<l.length?D('[id$="'+l[0].id.substring(4)+'"]'):void 0;void 0!==c&&(c.removeClass("dpd-attributes__value--selected"),c.prop("checked",!1)),D('[id$="'+s[0].id.substring(4)+'"]').addClass("dpd-attributes__value--selected"),D('[id$="'+s[0].id.substring(4)+'"]').prop("checked",!0),0<s.closest(".dpd-attributes__values--size").length?m="size":0<s.closest(".dpd-attributes__values--width").length?m="width":0<s.closest(".dpd-attributes__values--color").length&&(m="color");var d=s.attr("data-catentry-id"),u=null;if(0<(g=i.element.find(".dpd-attributes__values--width .dpd-attributes__value--selected")).length){u=g.attr("data-catentry-id").split(",");g.attr("value")}var h=null;if(0<(v=i.element.find(".dpd-attributes__values--size .dpd-attributes__value--selected")).length)h=v.attr("data-catentry-id").split(","),a=v.attr("value")}else{var p=D(e.currentTarget),f=p.find(":selected"),m="";0<p.closest(".dpd-attributes__col--size").length?m="size":0<p.closest(".dpd-attributes__col--width").length?m="width":0<p.closest(".dpd-attributes__col--color").length&&(m="color");var g;d=f.attr("data-catentry-id"),u=null;if(0<(g=i.element.find(".dpd-attributes__col--width .cmp-select :selected")).length){u=g.attr("data-catentry-id").split(",");g.attr("value")}var v;h=null;if(0<(v=i.element.find(".dpd-attributes__col--size .cmp-select :selected")).length)h=v.attr("data-catentry-id").split(","),a=v.attr("value")}var y=i._getAllowdProductId(m,d,u,h),b=0;if("size"===m||"width"===m){if("size"===m&&1<n.synthInfo.uniqueWidth.length)for(var C=0;C<n.synthInfo.uniqueWidth.length;C++){var w=n.synthInfo.uniqueWidth[C],S=n.synthInfo.mapWidth[w],k=n.synthInfo.mapSize[a];D(k).each(function(e,t){_.contains(S,t)&&b++})}var I=0;"click"===r&&(I=350),setTimeout(function(){1<b?(n.synthInfo.entryView_AttrWidth=void 0,n.synthInfo.widthValNotConverted=void 0):(n.synthInfo.entryView_AttrWidth=""==n.productDetail.inventory[y].Width?void 0:n.productDetail.inventory[y].Width,n.synthInfo.widthValNotConverted=""==n.productDetail.inventory[y].Width?void 0:n.productDetail.inventory[y].Width,n.productDetail.inventory[y].DisplayWidth&&(n.synthInfo.entryView_AttrWidth=n.productDetail.inventory[y].DisplayWidth),n.productDetail.inventory[y].RtwWidth&&(n.synthInfo.entryView_AttrWidth=n.productDetail.inventory[y].RtwWidth)),n.synthInfo.entryView_AttrSize=""==n.productDetail.inventory[y].Size?void 0:n.productDetail.inventory[y].Size,n.synthInfo.sizeValNotConverted=""==n.productDetail.inventory[y].Size?void 0:n.productDetail.inventory[y].Size,n.productDetail.inventory[y].StoreSize?n.synthInfo.entryView_AttrSize=n.productDetail.inventory[y].StoreSize:n.productDetail.inventory[y].DisplaySize&&(n.synthInfo.entryView_AttrSize=n.productDetail.inventory[y].DisplaySize),n.productDetail.inventory[y].RtwSize&&(n.synthInfo.entryView_AttrSize=n.productDetail.inventory[y].RtwSize),n.otherInfo.uniqueEan?B_SHOPPING.catalogEntryID=B_SHOPPING.catalogEntryIDChild:B_SHOPPING.catalogEntryID=y,D(document).trigger("attribute-value-changed.dpdAttributes",{parentPartNumber:i.vars.parentPartNumber,changedAttrName:m})},I);var M=addToBagBundle.addToBagAvailableLabel;i.vars.inventoryType=n.productDetail.inventory[y].inventoryType;var T=!(B_SHOPPING.microformatLabelBtnCart="");switch(i.vars.inventoryType){case"outofstock":M=addToBagBundle.addToBagOutOfStockLabel,T=!1,B_SHOPPING.microformatLabelBtnCart="OutOfStock",D('[data-attr-id="sizeSelector"]').addClass("hidden"),D('[data-attr-id="widthSelector"]').addClass("hidden");break;case"available":M=addToBagBundle.addToBagAvailableLabel,B_SHOPPING.microformatLabelBtnCart="InStock";break;case"pre_preorder":M=addToBagBundle.addToBagPrePreOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder";break;case"preorder":M=addToBagBundle.addToBagPreOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder";break;case"backorder":M=addToBagBundle.addToBagBackOrderLabel,B_SHOPPING.microformatLabelBtnCart="PreOrder"}var O=n.productDetail.sKus.filter(function(e){return e.uniqueID==y})[0];B_SHOPPING.ean=O.partNumber;var x={parentCatentryId:n.catentryId,catalogEntryID:y,ddate:n.productDetail.inventory[y].DDate,labelAddToCart:M,available:T,catentryIdParent:n.productDetail.uniqueID,partNumber:i.vars.parentPartNumber};n&&(0<n.synthInfo.uniqueSize.length||0<n.synthInfo.uniqueWidth.length)?(x.selectAttributes=!0,"size"===m&&1<b&&(x.catalogEntryID="")):x.selectAttributes=!1,i.populateKlarnaTemplate(),D(".product-toolbar__controls").empty().append(i.templates.shopperActionsTmplCompiled(x)),"R"===COMMON.userType&&D.isEmptyObject(B_WISHLIST.wishListItem)&&B_WISHLIST.getWishList(!1),D("[data-attr-id='wishListButtonProd']").on("click ",function(e){D(".page--r19").wishlistAdder("wishListButton",e)});var A={ddate:n.productDetail.inventory[y].DDate,available:T},P=i.templates.availabilityMsgTmplCompiled(A);"Ferragamo_AU"!=COMMON.frgStoreIdentifier&&"Ferragamo_MX"!=COMMON.frgStoreIdentifier&&(D(".product-toolbar__availability").empty().append(P),0<A.ddate.length||!T?(D(".product-toolbar__availability").removeClass("hidden"),T||D(".product-toolbar__availability").addClass("out-of-stock")):(D(".product-toolbar__availability").addClass("hidden"),D(".product-toolbar__availability").removeClass("out-of-stock"))),B_SHOPPING.selectedItemId=y,D(document).priceDisplay("populateTemplate",n.catentryId),B_GOOGLE_TAG_MANAGER.setDataLayerProductID(O.partNumber),B_SHOPPING.selectedItemPartNumber=O.partNumber}},_updateTemplate:function(){var t=this,e=t._getEntryModel(),i={widgetId:t.vars.id,entryView_AttrWidth:e.synthInfo.entryView_AttrWidth,entryView_AttrSize:e.synthInfo.entryView_AttrSize,sizeValNotConverted:e.synthInfo.sizeValNotConverted,widthValNotConverted:e.synthInfo.widthValNotConverted,uniqueWidth:e.synthInfo.uniqueWidth,convertedUniqueWidth:e.synthInfo.convertedUniqueWidth,uniqueSize:e.synthInfo.uniqueSize,convertedUniqueSize:e.synthInfo.convertedUniqueSize,mapWidth:e.synthInfo.mapWidth,mapSize:e.synthInfo.mapSize,eyewareCat:e.synthInfo.eyewareCat,widthLabel:e.synthInfo.widthLabel,hideWidth:e.synthInfo.hideWidth,selectDescription:e.productDetail.selectDescription,products:e.productDetail.groupedProducts,name:e.synthInfo.name,gender:e.productDetail.attributes.gender};i.prodCat=e.productDetail.attributes.productiveCategoryCode,"true"===COMMON.findYourSizeEnabled&&0<e.synthInfo.uniqueSize.length&&(0===D(".prod-r23-toolbar > .product-toolbar__attribute__ctas__find-your-size").length&&D(".prod-r23-toolbar").append(D(".product-toolbar__attribute__ctas__find-your-size")),D(".prod-r23-toolbar > .product-toolbar__attribute__ctas__find-your-size").replaceWith(D("#measmerize-button").addClass("hidden")));var n=D(t.templates.attrTmplCompiled(i));t.vars._$attributes.empty().append(n),"true"===COMMON.findYourSizeEnabled&&0<e.synthInfo.uniqueSize.length&&t._createFindYourSizeScript(!0);var r={ddate:e.productDetail.inventory[B_SHOPPING.selectedItemId].DDate,available:!0},o=t.templates.availabilityMsgTmplCompiled(r);"Ferragamo_AU"!=COMMON.frgStoreIdentifier&&"Ferragamo_MX"!=COMMON.frgStoreIdentifier&&D(".product-toolbar__availability").empty().append(o),t.vars._$collapse=t.vars._$attributes.find(".collapse"),D("[name=productColor]").on("click",function(e){t._onAttributeValueChangedColor(e)}),D(".product-toolbar__attribute-wrapper--color .product-toolbar__attribute-list label").on("keydown",function(e){t._onAttributeLabelKeydownColor(e)}),D(".dpd-main__details__size-guide").appendTo('[data-attr-button="size-guide"]').show();var a=D(t.element).data("widget-type");"undefined"!=typeof dpdFindInStore&&D("#dpdFindInStore").is(":visible")&&"sticky-bar"!==a&&D("#dpdFindInStore").dpdFindInStore().dpdFindInStore("refresh"),D(document).priceDisplay("populateTemplate",t.vars.productId),D(".page-product--r23").productR19("initToolbarAttributes"),D('[data-toggle="tooltip"]').tooltip(),B_SHOPPING.isFirstTapTooltip=!0,D('.size-width-r23-infobox__action > [data-toggle="tooltip"]').on("shown.bs.tooltip",function(){var e=D(this).siblings(".tooltip"),t=D(this).parent().attr("class"),i=MAIN.responsive_r23.getBreakpoint();-1<t.indexOf("selected")&&"xs"===i&&(e.find(".tooltip-inner").addClass("selected"),B_SHOPPING.isFirstTapTooltip?(e.find(".tooltip-arrow").addClass("selected"),B_SHOPPING.isFirstTapTooltip=!1):e.find(".tooltip-arrow").removeClass("selected"))})},_onAttributeValueChanged:function(e,t){this.vars.parentPartNumber===t.parentPartNumber&&this.onAttributeValueChangeUI(e)},_onAttributeValueChangedColor:function(e){var t=this._getEntryModel(),i=D(e.currentTarget).attr("attr-id");if(i!==productId){var n=D.grep(t.productDetail.groupedProducts,function(e){return e.catentryId==i});window.location.href=n[0].url}},_onAttributeLabelKeydownColor:function(e){var t=e.keyCode||e.which;if("keydown"===e.type&&13===t){var i=this._getEntryModel(),n=D(e.currentTarget).closest("li").find("input").attr("attr-id");if(n!==productId){var r=D.grep(i.productDetail.groupedProducts,function(e){return e.catentryId==n});window.location.href=r[0].url}}},refresh:function(){this.vars={id:"dpdAttr"+this.uuid,parentPartNumber:""+partNumber},this._initUIElements(),this._initTemplates(),this._initListeners(),this._initAPI()},populateKlarnaTemplate:function(){var i=this,n=!1;if("R"===COMMON.userType&&D(COMMON.userGroups).each(function(e,t){t.memberGroupName.startsWith(COMMON.employeeGroup)&&(n=!0)}),"true"!==COMMON.klarnaMessagingEnabled||n||void 0!==i.vars.inventoryType&&"available"!==i.vars.inventoryType)D('[data-attr-id="klarnaProductDiv"]').empty();else if(D('[data-attr-id="klarnaProductDiv"]').first().html().length<1)if(COMMON.storeIdOE===COMMON.frgStoreIdentifier)D('[data-attr-id="klarnaProductDiv"]').each(function(e,t){D(t).empty().append(i.templates.klarnaStaticTmplCompiled())});else{var r={displayPrice:100*parseFloat(D(".prod-r23-prices__item:not(.hidden)").attr("data-item-price")).toFixed(2)};D('[data-attr-id="klarnaProductDiv"]').each(function(e,t){D(t).empty().append(i.templates.klarnaTmplCompiled(r))}),window.KlarnaOnsiteService=window.KlarnaOnsiteService||[],window.KlarnaOnsiteService.push({eventName:"refresh-placements"})}},_updateWishedStatus:function(){B_WISHLIST.itemList.includes(partNumber)?(D('[data-attr-id="wishListButtonProd"] .ssicon--r23-actions-heart-full').removeClass("hidden"),D('[data-attr-id="wishListButtonProd"] .ssicon--r23-actions-heart').addClass("hidden")):(D('[data-attr-id="wishListButtonProd"] .ssicon--r23-actions-heart').removeClass("hidden"),D('[data-attr-id="wishListButtonProd"] .ssicon--r23-actions-heart-full').addClass("hidden"))}}),D.dpdAttributes=function(e,t){D(e).dpdAttributes(t)},D(function(e){e(".product-toolbar__attributes").dpdAttributes()}),D}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){"use strict";return void 0===n&&(n=jQuery),n.widget("custom.namePartNumberAndPrice",{_create:function(){this.vars={},this._initListeners()},_initListeners:function(){var i=this;n(document).on("custom-product-detail-loaded.B_SHOPPING",function(e,t){i._initTemplates(),i._render(t)})},_initTemplates:function(){if(void 0===this.vars.namePartNumberAndPriceTmplCompiled){var e=n("#namePartNumberAndPrice_tpl").html();this.vars.namePartNumberAndPriceTmplCompiled=_.template(e)}},_render:function(e){var t={name:e.productDetail.name};n('[data-attr-id="namePartNumberAndPriceDiv"]').empty().append(this.vars.namePartNumberAndPriceTmplCompiled(t)),n('[data-attr-id="modelCodeMobile"]').text(e.productDetail.attributes.modelCode),n('[data-attr-id="partNumberMobile"]').text(e.productDetail.partNumber)}}),n.sizeguide=function(e,t){n(e).namePartNumberAndPrice(t)},n(function(){n(document).namePartNumberAndPrice()}),n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){"use strict";return void 0===n&&(n=jQuery),n.widget("custom.dpdMain",{templates:{},_create:function(){this.vars={id:"dpdMain"+this.uuid},this._initListeners()},_initListeners:function(){var i=this;n(document).on("custom-product-detail-loaded.B_SHOPPING",function(e,t){i._render(t)})},_render:function(e){B_SHOPPING.ean=e.productDetail.sKus[0].partNumber,"product--r23"===MAIN.pageTemplate&&(5===e.productDetail.attributes.exclusive&&(n(".prod-r23-exclusive").find("span").html(e.productDetail.attributes.exclusivePDPLabel).addClass("holiday-label"),n(".prod-r23-exclusive").show()),0<e.productDetail.attributes.exclusive&&(n(".prod-r23-exclusive").find("span").html(e.productDetail.attributes.exclusivePDPLabel),n(".prod-r23-exclusive").show()),e.productDetail.attributes.showSTLogo&&this._showSustainableThinking(),void 0!==B_SHOPPING.merchAssoc&&0<B_SHOPPING.merchAssoc.length&&this.populateSizeOptionsTemplate(e.productDetail))},_showSustainableThinking:function(){n(".prod-r23-st").show()},populateSizeOptionsTemplate:function(e){var t={relatedProducts:B_SHOPPING.merchAssoc,productDetail:e};this.templates.optionsGuideTmplCompiled=_.template(n("#sizeOptionsTmpl").html()),n(document.body).append(this.templates.optionsGuideTmplCompiled(t)),n(document).dpdVisuals("initSizeOptionsGallery")},openModalProp65California:function(){n("#modalProp65California").modal()}}),n.dpdMain=function(e,t){n(e).dpdMain(t)},n(function(e){e(".prod-r23-main").dpdMain()}),n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(c){"use strict";return void 0===c&&(c=jQuery),c.widget("custom.dpdPrimaryActions",{_create:function(){this.vars={productId:void 0,checkLoadedMaps:!1},this._initListeners()},_initListeners:function(){var i=this;c(document).on("custom-product-detail-loaded.B_SHOPPING",function(e,t){i.vars.productId=t.catentryId}),i._on(document,{"click #findInStoreBtn":i._onClickInYourStoreProductPage}),i._on(document,{"click #frg_instore_button":i._onClickInYourStoreCategoryPage})},_getEntryModel:function(){return B_SHOPPING.getCustomProductDetail(this.vars.productId)},onClickAddToBag:function(e){c(".add-to-bag").toggleClass("hidden"),c(".added-to-bag").toggleClass("hidden"),c(document).minicartR19("refresh"),setTimeout(function(e){c(".add-to-bag").toggleClass("hidden"),c(".added-to-bag").toggleClass("hidden")},5e3)},_onClickInYourStoreProductPage:function(e){var t=this._getEntryModel();if(void 0!==t){var i=c(e.target);debug.log("_onClickInYourStore");var n=!1,r=!0;if(c.isEmptyObject(t.productDetail.inventory))n=!1;else{var o=Object.keys(t.productDetail.inventory),a=t.productDetail.inventory[o[0]].Size,s=t.productDetail.attributes.productiveCategoryCode;if(!t.otherInfo.uniqueEan||void 0!==a&&""!==a&&"51"!==s)0===c('[name="productSize"].dpd-attributes__value--selected').length&&(r=!1)}if(!n&&r){if(0==c("#dpdFindInStore").length){var l=c("#dpdFindInStore_tpl").text();if(!l)return void console.error("Error modal template not found");c(document.body).append(l),c("#dpdFindInStore").dpdFindInStore()}this.vars.checkLoadedMaps?(c("#dpdFindInStore").dpdFindInStore("open"),i.attr("aria-expanded","true"),"xs"!==MAIN.responsive.getBreakpoint()&&c("html,body").stop().animate({scrollTop:c("#dpdFindInStore").offset().top-79},500)):(c.ajax({url:mapsUrl,dataType:"script",cache:!0}),i.attr("aria-expanded","true"),this.vars.checkLoadedMaps=!0)}}},_onClickInYourStoreCategoryPage:function(){this.vars.checkLoadedMaps?c("body").pickingPopup("open"):(c.ajax({url:mapsUrl,dataType:"script",cache:!0}),this.vars.checkLoadedMaps=!0)}}),c.dpdPrimaryActions=function(e,t){c(e).dpdPrimaryActions(t)},c(function(e){e(document).dpdPrimaryActions()}),c}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){"use strict";return void 0===n&&(n=jQuery),n.widget("custom.priceDisplay",{options:{},_create:function(){this.vars={},this._initTemplates()},_initTemplates:function(){var e=n("#mainPrice_tmpl").html();this.vars.mainPriceTmplCompiled=_.template(e)},_getEntryModel:function(e){return B_SHOPPING.getCustomProductDetail(e)},_showPrice:function(){if(0<n(".presalePrice").length)if(COMMON.isPresaleEnabled())n(".presalePrice").removeClass("hidden"),n(".dpd-main__price__other").removeClass("hidden");else{var e=n(".dpd-main__price__line-through");n(e).removeClass("dpd-main__price__line-through"),n(".dpd-main__price__discount").addClass("hidden"),n(".dpd-main__price__other").removeClass("hidden")}},populateTemplate:function(e){var t=this._getEntryModel(e),i={offerPrice:t.otherInfo.offerPrice,name:t.productDetail.name,includingTaxesLabel:includingTaxesLabel};n('[data-attr-id="mainPriceDiv"]').empty().append(this.vars.mainPriceTmplCompiled(i)),this._showPrice(),this.updateMicroformatPpd(),n(".product-toolbar__attributes").dpdAttributes("populateKlarnaTemplate")},updateMicroformatPpd:function(){if("undefined"!=typeof microformatPdp){var e=this._getEntryModel(productId);n("#microformat_pdp").text(function(){return JSON.stringify({"@context":"http://schema.org/","@type":"Product",name:microformatPdp.name,image:microformatPdp.image,description:microformatPdp.description,category:microformatPdp.category,mpn:microformatPdp.mpn,brand:{"@type":"Thing",name:"Salvatore Ferragamo"},offers:{"@type":"Offer",priceCurrency:microformatPdp.priceCurrency,price:2===parseInt(e.otherInfo.offerPrice.precedence,10)&&"preSale"===e.otherInfo.offerPrice.type?parseFloat(e.otherInfo.offerPrice.originalPrice).toFixed(2):parseFloat(e.otherInfo.offerPrice.price).toFixed(2),availability:B_SHOPPING.microformatLabelBtnCart,url:microformatPdp.url}})})}}}),n.priceDisplay=function(e,t){n(e).priceDisplay(t)},n(function(){n(document).priceDisplay()}),n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){"use strict";return void 0===n&&(n=jQuery),n.widget("custom.vtn",{vars:{catentryId:void 0},templates:{},_create:function(){this.vars._$html=n("html"),this.vars._$page=n(".page-product--r23"),this.vars._$vtnSection=n(".prod-r23-vtn"),this._initTemplates(),this._initListeners()},_initTemplates:function(){void 0===this.templates.virtualTryOnCtaTmpl&&(this.templates.virtualTryOnCtaTmpl=_.template(n("#virtualTryOnCtaTmpl").html()))},_initListeners:function(){var i=this;n(document).on("click","#tryNow",function(){MAIN.isWcsEnv()&&dataLayer&&dataLayer.push({event:"VTO_TryThem"}),i.openVTNModal()}),n(document).on("click",".prod-r23-vtn__close",function(){i.closeVTNModal()}),n(document).on("custom-product-detail-loaded.B_SHOPPING",function(e,t){i.vars.productId=t.catentryId,B_SHOPPING.checkVTOEnabled(i.vars.productId,t.productDetail.ean13)}),n(document).on("vto-checked.b_shopping",function(e,t){i._initVTOCTA()})},_getEntryModel:function(){return B_SHOPPING.getCustomProductDetail(this.vars.productId)},_initVTOCTA:function(){var e=n("#prodR23VTOContainer");if(0<e.length){var t=this._getEntryModel();e.empty().append(this.templates.virtualTryOnCtaTmpl({vtoEnabled:t.productDetail.vtoEnabled}))}},_showVTN:function(){var i=this,e={apiKey:"IpquQXN07sECQAh5cFQd2LAqHW9xUgt5tvgtSm9v",frame:i._getEntryModel().productDetail.ean13,onStopVto:i._hideVTN,watermark:!1,css:'[data-style="vto-adv-main-error-btn-photo-container"] { display: none; } [data-style="vto-adv-main-error-separator"] { display: none; }',uiConfiguration:{livePhotoButton:!1}};B_SHOPPING.fitmixInstance=FitMix.createWidget("frg-fitmix-container",e,function(e,t){e?(console.log("fitmixInstance is now ready, live compatible"),i.vars._$vtnSection.show(),B_SHOPPING.fitmixInstance.startVto("live")):console.log("fitmixInstance is now ready, live not compatible:",t.liveCompatibilityDetails)})},openVTNModal:function(){this._showVTN(),this.vars._$page.addClass("product--vtn--open"),(document.scrollingElement||document.documentElement).scrollTop=0,n(".page__main-content--r19").addClass("page__main-content--r19--vto-enabled")},closeVTNModal:function(){this.vars._$page.removeClass("product--vtn--open"),void 0!==B_SHOPPING.fitmixInstance&&B_SHOPPING.fitmixInstance.stopVto(),n(".page__main-content--r19").removeClass("page__main-content--r19--vto-enabled")},_hideVTN:function(){n(".prod-r23-vtn").hide()}}),n.vtn=function(e,t){n(e).vtn(t)},n(function(e){e(".page-product--r23").vtn()}),n});var MAIN=MAIN||{};!function(d){MAIN={},d.extend({isValidSelector:function(e){if("string"!=typeof e)return!1;try{d(e)}catch(e){return!1}return!0}});var i={};window.template=function(e,t){return i[e](t)},MAIN.init=function(){MAIN.$doc=d(document),MAIN.$win=d(window),MAIN.$body=d("body"),MAIN.fifi=window.fifi,function(){MAIN.pageTemplate="";var e=MAIN.$body.attr("class");if(e){var t=e.match(/page-([^\s]*)/i);null!==t&&2<=t.length&&(MAIN.pageTemplate=t[1])}}(),MAIN.responsive=jRespond([{label:"xs",enter:0,exit:767},{label:"sm",enter:768,exit:991},{label:"md",enter:992,exit:1289},{label:"lg",enter:1290,exit:1e4}]),MAIN.responsive_r19=jRespond([{label:"xs",enter:0,exit:767},{label:"sm",enter:768,exit:1024},{label:"md",enter:1025,exit:1920},{label:"lg",enter:1921,exit:1/0}]),MAIN.responsive_r23=jRespond([{label:"xs",enter:0,exit:767},{label:"sm",enter:768,exit:1023},{label:"md",enter:1024,exit:1439},{label:"lg",enter:1440,exit:1/0}]),d("[data-template]").each(function(){var e=d(this);i[e.attr("data-template")]=_.template(e.html())}),COMMON.activeAjaxConnections=0,COMMON.checkNotAjaxConn=!0,0<d(".video-container").length&&BCPM.prepare(),MAIN.applyFifiToElements=function(i,n){n=n||[];var r=!1,e=MAIN.responsive.getBreakpoint();!0!==i.data("animate-fifi")||i.hasClass("fifi-end")||(d.each(n,function(e){var t=i.find(n[e]);0<t.length&&(t.addClass("fifi-add"),r=!0)}),r||i.addClass("fifi-add"),setTimeout(function(){fifi({targetSelector:".fifi-add",excludedSelector:"",delayBetweenElements:500,offset:"xs"==e?150:50})},500))},d(function(){if("xs"!==MAIN.responsive.getBreakpoint()&&"sm"!==MAIN.responsive.getBreakpoint()||void 0!==d(document).minicartR19&&d(document).minicartR19(),"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate&&(FORMS.init(),setTimeout(function(){FORMS.refresh()},2e3)),d.fn.loader&&"checkout"!==MAIN.pageTemplate&&"cart-r21"!==MAIN.pageTemplate&&"checkout-r21"!==MAIN.pageTemplate&&"cart"!==MAIN.pageTemplate){var e=d(".cmp-page-loader--main");e.loader(),e.loader("setVisibility",!1),d(document).trigger("loader_hidden")}var i;d(".whole").after(d(".whole .modal").not("#dpdFindInStore")),d("[data-fiscal-code-shipto=fiscalCodeRO]").appendTo(d("[data-container=fiscalCode]")),d("[data-fiscal-code-billto=fiscalCodeRO]").appendTo(d("[data-container=fiscalCode]")),window.matchMedia&&window.matchMedia("print").addListener(function(e){e.matches?(i=d(".slick-slider")).each(function(){var e=d(this),t=e.slick("getSlick").options;e.data("slickOptionsPrePrint",t),e.slick("unslick")}):i.each(function(){var e=d(this),t=i.data("slickOptionsPrePrint");t?e.slick(t):e.slick()})});d("input[type=search]").on("focus",function(){d(this).data("fontSize",d(this).css("font-size")).css("font-size","16px")}).on("blur",function(){d(this).css("font-size",d(this).data("fontSize"))}),d(".modal").on("hidden.bs.modal",function(e){0<d(".modal.in").length&&d("body").addClass("modal-open")}),d(document).ready(function(){d(".btn-gen-print").on("click",function(e){e.preventDefault(),window.print()})});function t(){d(".cmp-button span[class*=ico-desk-], .cmp-button span[class^=ico-desk-], .cmp-button span[class*=ico-mob-], .cmp-button span[class^=ico-mob-]").each(function(){d(this).closest(".cmp-button").addClass("cmp-button--outgray")})}switch(d("[data-modal-content]").on("click",function(){var e=d(this),t=function(e){var t=d(e);if(0===t.length){var i=d(e+"_tpl").text();if(!i)return console.error("maniaListR19: Error modal template not found",e+"_tpl"),d("modaltemplatenotfound");t=d(i),d("body").append(t)}return t}(e.attr("data-target")),i="true"===e.attr("data-modal-wide"),n=t.hasClass("modal--r19");t.toggleClass(n?"modal--r19-wide":"cmp-modal--wide",i);var r=t.find(".modal-body"),o=e.attr("data-modal-content"),a=d(o).html(),s=e.attr("data-modal-title");r.html(a),void 0!==s&&!1!==s&&t.find(".modal-title").html(s)}),t(),d(document).on("cart-loaded.b_checkout",t),d(".dashbox--clickable").on("click",function(e){if(COMMON.isUserLogged)return window.location=d(this).find("[href]").attr("href"),!1}),d(".bg-img-div").each(function(){var e=d(this),t=e.data("img-w"),i=e.data("img-h"),n=e.data("img-bg"),r=i/t;e.attr("aria-hidden","true").css({"background-image":"url("+n+")","padding-top":100*r+"%","max-width":t+"px"})}),"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate&&(CMP.lazy_images(".lazy-load",{callback:function(e){var t="img-loaded";e?d(this).on("load",function(){d(this).addClass(t)}):d(this).addClass(t)}}),MAIN.initCustomPopover=function(){d('[data-toggle="popover"]').popover("destroy"),d('[data-toggle="popover"]').popover().on("mouseenter",function(){var e=this;d(this).popover("show"),d(".popover").on("mouseleave",function(){d(e).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){d(".popover:hover").length||d(e).popover("hide")},300)})},MAIN.initCustomPopover()),MAIN.pageTemplate){case"homepage":break;case"cart":PAGES.CART.init();break;case"cart-r21":case"checkout-r21":case"thank-you-r21":case"checkout":case"signin":case"signup":case"mycart":case"mypersonalinformation":var n=d("body").data("widget");d("body")[n]();break;case"myaccount":d("body").myAccountWelcomePopup(),d("#notice-placeholder").notice();n=d("body").data("widget");d("body")[n]();break;case"myprivacy":n=d("body").data("widget");d("body")[n](),"xs"!=MAIN.responsive.getBreakpoint()&&d(".privacy__customs-scroll").customScrollbar();break;case"myaddressbook":n=d("body").data("widget");d("body")[n](),d("body").editAddress(),d("body").pickingPopup();break;case"myorders":n=d("body").data("widget");d("#notice-placeholder").notice(),d("body")[n](),d("body").myOrdersReturnPopup(),d("body").myOrdersCancelPopup();break;case"mywishlist":n=d("body").data("widget");d("#notice-placeholder").notice(),d("body")[n]();break;case"myprofiles":n=d("body").data("widget");d("#notice-placeholder").notice(),d("body").createProfilesPopup(),d("body")[n](),d("body").editProfilesPopup();break;case"example-form":var r=FORMS.validateSettingsDefaultR21;d(".example-form-validation-r21").validate(r)}"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate&&(d.fn.customSlider&&d(".dashbox .wishlist-slider").customSlider({responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2,infinite:!1,dots:!1,arrows:!0,nextArrow:'<span class="ico-desk-arrow2-right"></span>',prevArrow:'<span class="ico-desk-arrow2-left"></span>'}}]}),d.fn.customSlider&&d(".recently-viewed .recently-viewed__slider").customSlider({slidesToShow:6,slidesToScroll:6,dots:!0,arrows:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1,dots:!1}}]}));var o=d(".back-to-top-r19");if("undefined"!=typeof enableBackToTop&&enableBackToTop&&0<o.length){o.on("click",function(){if(d("html,body").stop().animate({scrollTop:0},300),"category--r19"===MAIN.pageTemplate&&void 0!==sessionStorage.isBackFromPDPData&&(sessionStorage.removeItem("isBackFromPDPData"),history.pushState)){var e=new URL(window.location.href).searchParams,t=window.location.protocol+"//"+window.location.host+window.location.pathname;null!==e.get("filter")&&(t+="?filter=true"),window.history.pushState({path:t},"",t)}}),d(".footer-r23").before(o);var a=d(window).height();d(window).on("scroll",_.throttle(function(){d(window).scrollTop()>a?o.stop().fadeIn():o.stop().fadeOut()},400))}"md"!==MAIN.responsive.getBreakpoint()&&"lg"!==MAIN.responsive.getBreakpoint()||d(".choose-countries-r19__group").matchHeight(),"product"!==MAIN.pageTemplate&&"product--r19"!==MAIN.pageTemplate&&"product--r23"!==MAIN.pageTemplate&&MAIN.responsive.addFunc({breakpoint:"xs",enter:function(){d(".country_select ul").slick({autoplay:!1,dots:!1,variableWidth:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".countries .row",infinite:!1,arrows:!1,dots:!1}),d(".countries .row").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".country_select ul",infinite:!1,arrows:!1,dots:!1}),d(".country_select ul li").on("click",function(){var e=d(this).attr("data-slick-index");d(".country_select ul li").removeClass("slick-current"),d(this).addClass("slick-current"),d(".countries .row").slick("slickGoTo",e)})}});var s=d('input[name="modalFaqNavRadio"]');if(0<s.length&&"xs"==MAIN.responsive.getBreakpoint()){var l=0;d(".form-container .cmp-radio-group").scroll(function(e){0<d(this)[0].scrollLeft&&(l=d(this)[0].scrollLeft)}),s.on("click",function(e){var t=d("#"+e.currentTarget.id).val();d("#"+t).is(":visible")&&(e.preventDefault(),e.stopPropagation()),setTimeout(function(){d(".form-container .cmp-radio-group")[0].scrollLeft=l},0)})}var c=d(".cat");0<c.length&&MAIN.applyFifiToElements(c,[".cat_col-50",".cat_col-100"])}),d(window).on("load",function(){0<d(".video-container").length&&BCPM.initManager()})},MAIN.isElementInViewport=function(e){if("function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]),!d(e).is(":visible"))return!1;var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return!1;var i=t.bottom<0,n=0<t.top-(window.innerHeight||document.documentElement.clientHeight);return!i&&!n},setTimeout(function(){var e=.01*window.innerHeight;console.log("set initial VH css variable: --initial-vh",e),document.documentElement.style.setProperty("--initial-vh",e+"px")},0),window.updateVHCssVariable(),d(window).resize(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}),d(window).trigger("resize"),MAIN.isWcsEnv=function(){return!window.isStaticFE},MAIN.isStaticPdp=function(){return!MAIN.isWcsEnv()&&(d("body").hasClass("page-product--r19")||d("body").hasClass("page-product--r23"))};var e=navigator.userAgent||navigator.vendor||window.opera;if(-1<e.indexOf("Instagram")||-1<e.indexOf("FBAN")){d(".product-gallery__image-container--r19 .product-gallery__image--r19, .tcl-cover-r19 .tcl-cover-r19__item__inner, .tcl-cover-r19 .tcl-cover-r19__item__inner figure, .tcl-cover-r19 .tcl-cover-r19__item__inner figure img.tcl-img-full, .tcl-cover-r19 .video-container").height(435);function t(){window.updateVHCssVariable(),d(".product-gallery__scrollable-items--r19, .tcl-cover-r19__list").each(function(){var e=d(this);e.is(".slick-initialized")&&e.slick("refresh")})}setTimeout(t,3e3),setTimeout(t,5e3),setTimeout(t,1e4)}MAIN.init()}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e($)}(function($){"use strict";var Keyboard={TAB:9,ENTER:13,ESCAPE:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40};return $.widget("custom.headerR23",{options:{},templates:{},_create:function(){var e=this;e.vars={isDesktop:!0,cycleTimeout:void 0,currentIndex:0,isPaused:!1,menuStack:[]},e._checkH1Existance(),e._initUIElements(),e._consolidateUIElements(),e._initResponsive(),e._initAlert(),e._initPlayPause(),e._initFixedOnScroll(),e._initCloseMenuOnScroll(),e._initVCenterOnScroll(),e._initMobileMenu(),e._showHideLinkIcon(),e._initDesktopMenu(),e._initShipping(),e._initLanguageSelector(),e._initPresale(),e._initSearch(),e._closeMenuOnModalOpening(),e._checkIsUserLogged(),e._initLoggedUserName(),$(document).trigger("headerloaded")},_checkH1Existance:function(){if(0===$("h1:visible").length){var e=$(".header-r23__logo--default"),t=$("<h1>"+e.html()+"</h1>");t.attr("class",e.attr("class")),e.replaceWith(t)}},_initUIElements:function(){this.vars._$html=$("html"),this.vars._$alert=$(".header__alert--r23"),this.vars._$mainHeader=$(".header-r23"),this.vars._$mainMenu=$(".main-menu"),this.vars._$languageSelectorModal=$("#languageSelector"),this.vars._$searchContainer="true"===COMMON.algoliaEnabled?$("#algoliaSearch"):$("#searchR19")},_checkIfDesktop:function(){var e=MAIN.responsive_r23.getBreakpoint();return"md"===e||"lg"===e},_checkIsUserLogged:function(){0<$("#userLoggedHighlightedActionTmpl").length&&(this.templates.userLoggedHighlightedActionTmpl=_.template($("#userLoggedHighlightedActionTmpl").html()),COMMON.isUserLogged&&$('[data-attr-id="main-menu-aciton_account"]').addClass("main-menu__actions__item--account-logged")),"R"===COMMON.userType&&"checkout-r21"!==MAIN.pageTemplate&&void 0!==B_WISHLIST&&$.isEmptyObject(B_WISHLIST.wishListItem)&&B_WISHLIST.getWishList(!1)},_consolidateUIElements:function(){$(".main-menu__tree-link.visible-xs-block--r19.visible-sm-block--r19").each(function(){var e=$(this).closest(".main-menu__tree-list--ul"),t=$('.main-menu__tree-link--title[aria-controls="'+e.attr("id")+'"]');1===e.find(".main-menu__tree-link--item").length&&(e.remove(),t.removeAttr("aria-controls"))})},_initResponsive:function(){var e=this;function t(){e.closeMenu(),e.vars.isDesktop=e._checkIfDesktop(),e.vars.isDesktop?($(".main-menu__actions").relocate("prepend",".header-r23__actions"),$(".header-r23__search").relocate("prepend",".header-r23__actions")):$(".main-menu__actions").relocate("origin")}MAIN.responsive_r23.addFunc({breakpoint:["xs","sm"],enter:t}),MAIN.responsive_r23.addFunc({breakpoint:["md","lg"],enter:t}),t()},_setCurrentBranch:function(e,t){var n=this;n.vars.menuStack=e;var i=0<n.vars.menuStack.length;$(".main-menu__tree-link").attr("aria-expanded",!1),$(".main-menu__tree-link--last-open").removeClass("main-menu__tree-link--last-open"),t||(n.vars._$html.toggleClass("header-open-menu-r23",i),n.vars._$mainHeader.toggleClass("header-r23--open-menu",i),i&&n.vars._$mainHeader.removeClass("header-r23--vcenter")),i?(n.vars._$mainMenu.find(".main-menu__tree").scrollTop(0),n.vars._$mainMenu.attr("data-current-branch",n.vars.menuStack.join("_")),n.vars.menuStack.forEach(function(e,t){var i="#btn_"+n.vars.menuStack.slice(0,t+1).join("_");$(i).attr("aria-expanded",!0)}),$("#btn_"+n.vars.menuStack.join("_")).addClass("main-menu__tree-link--last-open")):n.vars._$mainMenu.removeAttr("data-current-branch")},_initAlert:function(){var t=this,e=t.vars._$alert.find("div.widget_height"),i=e.html();e.remove(),t.vars._$alert.append(i),t.vars._$alert.find(".header__alert__close-button").on("click keydown",function(e){t.vars._isClosed=!0,t.vars._$alert.css("display","none"),document.documentElement.style.setProperty("--r23-header-alert-height-visible","0px"),document.documentElement.style.setProperty("--r23-header-alert-ingombro-current","0px"),document.documentElement.style.setProperty("--r23-header-alert-height-visible-xs","0px"),document.documentElement.style.setProperty("--r23-header-alert-ingombro-current-xs","0px")})},_initPlayPause:function(){var e=this,t=e.vars._$alert.find(".header__alert__text"),i=e.vars._$alert.find(".header__alert__play-button"),n=e.vars._$alert.find(".ssicon--r23-actions-play-video-black"),r=e.vars._$alert.find(".ssicon--r23-actions-pause-video-black");if(1<t.length){i.removeClass("hidden"),t.hide(),t.eq(e.vars.currentIndex).fadeIn(500);var o=function(){e.vars.isPaused||t.eq(e.vars.currentIndex).fadeOut(500,function(){e.vars.currentIndex=(e.vars.currentIndex+1)%t.length,t.eq(e.vars.currentIndex).fadeIn(500),e.vars.cycleTimeout=setTimeout(o,3e3)})};o(),i.on("click",function(){e.vars.isPaused=!e.vars.isPaused,e.vars.isPaused?(clearTimeout(e.vars.cycleTimeout),n.removeClass("hidden"),r.addClass("hidden")):(o(),n.addClass("hidden"),r.removeClass("hidden"))})}},_initFixedOnScroll:function(){var e=this;0<e.vars._$mainHeader.length&&(document.addEventListener("scroll",function(){e._checkFixedHeader()},{passive:!0}),e._checkFixedHeader())},_checkFixedHeader:function(){var e=this.vars._$mainHeader[0].getBoundingClientRect().top;this.vars._$mainHeader.toggleClass("header--fixed-r23",e<0),this.vars._$html.toggleClass("header--fixed-r23",e<0),e<0?this.vars._$alert.addClass("hidden"):this.vars._$alert.removeClass("hidden")},_initCloseMenuOnScroll:function(){var t=this;$(window).on("scroll",_.throttle(function(){var e=MAIN.responsive_r23.getBreakpoint();"xs"!==e&&"sm"!==e&&t.closeMenu()},1e3))},_initVCenterOnScroll:function(){function e(){1<$(window).scrollTop()&&(t.vars._$mainHeader.removeClass(i),t.vars._$mainHeader.removeClass(n),$(window).off("scroll.headerR23CheckVCenter"))}var t=this,i="header-r23--scroll-down",n="header-r23--vcenter",r=t.vars._$mainHeader.hasClass(i),o=t.vars._$mainHeader.hasClass(n);(o||r)&&($(window).on("scroll.headerR23CheckVCenter",_.throttle(function(){e()},200)),e())},_openRelMenuStack:function(e){var t=$(e).attr("aria-controls"),i=$(e).closest(".main-menu__tree-first-level").hasClass("main-menu__tree-first-level--image");void 0===t||i?i&&this._setCurrentBranch([],!1):this._setCurrentBranch(t.split("_").slice(1),!1)},_openMenuDesktop:function(e,t){this.vars.isDesktop&&(0<$("#filterBy").length&&$("#filterBy").toggleClass("hidden",!0),0<this.vars._$searchContainer.length&&this.vars._$searchContainer.is(":visible")&&(this.vars._$searchContainer.find("input").val("").trigger("input"),this.vars._$searchContainer.addClass("hidden"),$("body").removeClass("header-open-search-r19")),this._openRelMenuStack(t))},_closeMenuDesktop:function(e,t){var i,n;!this.vars.isDesktop||(i=e.relatedTarget,(n=$(i)).hasClass("main-menu__tree-first-level")||n.hasClass("main-menu__tree-list--ul"))||this.closeMenu()},_initMobileMenu:function(){var t=this;$("#openMainMenu").on("click",function(){t.vars._$html.addClass("header-open-menu-r23"),t.vars._$mainHeader.addClass("header-r23--open-menu"),t.vars._$mainHeader.removeClass("header-r23--vcenter")}),$("#closeMainMenu").on("click",function(){t.closeMenu()}),$("#goBackMenu").on("click",function(){t._setCurrentBranch(t.vars.menuStack.slice(0,t.vars.menuStack.length-1),!0)}),$(document).on("click",".main-menu__tree-link[aria-controls]",function(e){t.vars.isDesktop||(e.preventDefault(),t._openRelMenuStack(this))})},_initDesktopMenu:function(){var n=this;$(document).on("mouseenter",".main-menu__tree-first-level > .main-menu__tree-link",function(e){n._openMenuDesktop(e,$(this))}),$(document).on("mouseleave",".main-menu__tree-first-level",function(e){n._closeMenuDesktop(e,$(this))}),$(document).on("focus",".main-menu__tree-first-level > .main-menu__tree-link",function(e){n._openMenuDesktop(e,$(this))}),$(document).on("keydown",".main-menu__tree > .main-menu__tree-list",function(e){if(n.vars.isDesktop){var t=$(e.target);switch(e.keyCode||e.which){case Keyboard.TAB:n._closeMenuDesktop(e,$(this));break;case Keyboard.LEFT:if(e.preventDefault(),t.is(".main-menu__tree-first-level > .main-menu__tree-link"))(i=$(".main-menu__tree-first-level > .main-menu__tree-link:tabbable")).filter(":lt("+i.index(t)+"):last").focus();break;case Keyboard.RIGHT:if(e.preventDefault(),t.is(".main-menu__tree-first-level > .main-menu__tree-link"))(i=$(".main-menu__tree-first-level > .main-menu__tree-link:tabbable")).filter(":gt("+i.index(t)+"):first").focus();break;case Keyboard.DOWN:e.preventDefault(),t.is(".main-menu__tree-first-level > .main-menu__tree-link[aria-controls]")&&n._openRelMenuStack(this),setTimeout(function(){var e=$(".main-menu__tree .main-menu__tree-list :tabbable");e.filter(":gt("+e.index(t)+"):first").focus()},0);break;case Keyboard.UP:var i;if(e.preventDefault(),t.is($(".main-menu__tree-first-level > .main-menu__tree-link[aria-controls]").first()))n.closeMenu();else(i=$(".main-menu__tree .main-menu__tree-list :tabbable")).filter(":lt("+i.index(t)+"):last").focus();break;case Keyboard.ESCAPE:e.preventDefault(),t.closest(".main-menu__tree-first-level").children(".main-menu__tree-link").first().focus(),n.closeMenu()}}})},_initSearch:function(){var widget=this;$(document).on("click",".header-r23__search",function(event){var bp=MAIN.responsive_r23.getBreakpoint();"xs"!==bp&&"sm"!==bp&&$(".search__blocks[data-bg-image]").each(function(){var e=$(this);e.css("background-image","url("+e.attr("data-bg-image")+")")}),$(".search__card-img [data-src]").each(function(){var e=$(this);e.attr("src",e.attr("data-src"))}),0<$("div#searchR19").length?void 0===widget.vars.searchOverlayLoaded||!0!==widget.vars.searchOverlayLoaded?MAIN.isWcsEnv()&&$.ajax({type:"GET",url:searchFormViewURL,success:function(e){widget.vars._$searchContainer.empty(),widget.vars._$searchContainer.html(e),widget.vars._$searchContainer.searchR19("populateSearchSuggestionsDefault"),widget.vars.searchOverlayLoaded=!0}}):widget.vars._$searchContainer.searchR19("populateSearchSuggestionsDefault"):COMMON.algoliaEnabled&&0<widget.vars._$searchContainer.length&&(void 0===widget.vars.searchOverlayLoaded||!0!==widget.vars.searchOverlayLoaded?MAIN.isWcsEnv()&&$.ajax({type:"GET",url:searchFormViewURL,async:!1,success:function(e){widget.vars._$searchContainer.empty(),widget.vars._$searchContainer.html(e),widget.vars.searchOverlayLoaded=!0},complete:function(resp){!0===widget.vars.searchOverlayLoaded&&void 0!==window.searchJsBundleUrl&&$.ajax({type:"GET",url:window.searchJsBundleUrl,async:!1,success:function(script){"1"!==jQuery.fn.jquery.split(".")[0]&&function(){eval(script)}.apply(window),widget.vars._$searchContainer.algoliaSearch(),widget.vars._$searchContainer.algoliaSearch("startSearch")}})}}):widget.vars._$searchContainer.algoliaSearch("startSearch")),widget.closeMenu(),widget.vars._$searchContainer.modal("show"),$(".main-menu__actions").addClass("hidden"),$(".header-r23__actions__bag").addClass("hidden"),setTimeout(function(){widget.vars._$searchContainer.find("input").focus()},1e3),$("body").addClass("header-open-search-r19")}),$(document).on("click","#closeSearch",function(e){$(".main-menu__actions").removeClass("hidden"),$(".header-r23__actions__bag").removeClass("hidden"),widget.vars._$searchContainer.modal("hide"),$("body").removeClass("header-open-search-r19")}),$(document).on("click",".search__suggestion-item",function(e){if(!$(this).parent().hasClass("search__suggestions-list--default")){var t=$(this).text().trim();MAIN.responsive_r23.getBreakpoint();window.location.replace(searchPageUrl+t)}})},_initShipping:function(){$(".country__header").html(COMMON.country_shipping_to_full),$(".currency__header").html(COMMON.currency)},_initLanguageSelector:function(){var e=$('[data-toggle="modal"][data-target="#languageSelector"]');this.vars._$languageSelectorModal.on("shown.bs.modal",function(){e.addClass("active")}).on("hidden.bs.modal",function(){e.removeClass("active")})},_closeLanguageSelector:function(){this.vars._$languageSelectorModal.modal("hide")},_initPresale:function(){COMMON.isPresaleEnabled()&&this.vars._$mainMenu.find(".fg-presale-menuitem").each(function(){$(this).removeClass("hidden")}),COMMON.isFlashSaleEnabled()&&this.vars._$mainMenu.find(".fg-flashsale-category").each(function(){$(this).removeClass("hidden")})},_initLoggedUserName:function(){void 0!==COMMON.personalInformation&&$("#loggedUserName").text(COMMON.personalInformation.firstName+" "+COMMON.personalInformation.lastName)},_closeMenuOnModalOpening:function(){var t=this;$(".modal-customer-service--r19").on("show.bs.modal",function(e){$("#returnsInfo").modal("hide"),t.closeMenu()})},_showHideLinkIcon:function(){var e=this.vars._$mainMenu.find(".main-menu__tree-link");$(e).each(function(){var e=$(this).find("span");0<e.length&&!e.text().trim()&&$(this).hide();var t=$(this).next();!t.is("ul")&&0<!t.children().length&&$(this).find(".ssicon--r23-utility-chevronright").hide()})},closeMenu:function(){this._closeLanguageSelector(),this._setCurrentBranch([],!1)},switchLanguageCurrency:function(n,r){localStorage.clear(),sessionStorage.clear();var o=this,e=document.getElementById("languageSelectionHidden").value,t=$("meta[name='pageId']").attr("content"),i=$("meta[name='pageGroup']").attr("content"),a="alternate_"+document.getElementById("langSEO"+e).value+"_"+COMMON.country,s=window[a];""!==s&&null!=s?i="coreMediaURL":s="";var l=$.tcl.userServices.switchLanguage(COMMON.storeId,e,t,i,s,COMMON.catalogId);$.when(l).done(function(e){console.log("-------Switch language------"),console.log(e),document.location.href=e.redirectURL}).fail(function(e,t,i){o.switchLanguageCurrencyOld(n,r)}).always(function(){})},switchLanguageCurrencyOld:function(e,t){var i=null!=t&&0<t.length?t:document.location.href;localStorage.clear();var n="/"+document.getElementById("currentLanguageSEO").value;i.endsWith("/")&&(n+="/"),-1==i.indexOf("SearchDisplay")&&-1==i.indexOf("CategoryDisplay")||-1==i.indexOf("#")||(i=i.split("#")[0]);var r=i;if(-1!=i.indexOf(n)&&document.getElementById("langSEO"+document.getElementById("languageSelectionHidden").value)){var o="/"+document.getElementById("langSEO"+document.getElementById("languageSelectionHidden").value).value;n.endsWith("/")&&(o+="/"),r=i.replace(n,o)}if(-1!=r.indexOf("&")){var a=r.split("&");r="";for(var s=0;s<a.length;s++)-1==a[s].indexOf("langId=")?r=""==r?a[s]:r+"&"+a[s]:0<=a[s].indexOf("langId=")&&(0==s?r=a[0].substring(0,a[0].indexOf("langId=")):r+="&",r=r+"langId="+document.getElementById("languageSelectionHidden").value)}r=this.switchLanguageCurrencyFilter(r),$("#LangCurrChange").find("input[name=URL]").value=r,$("#LangCurrChange").find("input[id=languageSelectionHidden]").value=document.getElementById("languageSelectionHidden").value,"function"==typeof changeStoreViewLanguage&&changeStoreViewLanguage(document.forms[e].languageSelectionHidden.value),document.location.href=r},switchLanguageCurrencyFilter:function(e){var t=[];t.push({exclude:"UserRegistrationAdd",replace:"UserRegistrationForm",param:[{key:"registerNew",value:"Y"}]});for(var i=0;i<t.length;i++)if(0<e.indexOf(t[i].exclude)){if(e=e.replace(t[i].exclude,t[i].replace),null!=t[i].param)for(var n=t[i].param,r=0;r<n.length;r++)e=appendToURL(e,n[r].key,n[r].value,!1);break}return e}}),$.headerR23=function(e,t){$(e).headerR23(t)},$(function(e){e("body").headerR23()}),$}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(l){"use strict";return void 0===l&&(l=jQuery),l.widget("custom.footer",{options:{},vars:{_$footer:null,_$form:null},_create:function(){this.vars._$footer=l(".footer-r23"),this.vars._$footer.length&&(this._initUIElements(),this._initListeners(),this._initShipping(),this._initLanguage(),this._initNewsletterFormValidation(),this._initSocial(),this._initLinks())},resetCaptcha:function(e){grecaptcha.reset(window.reCaptchaWidgetIdNewsletter)},submitForm:function(e){var t=l("input[id=footer_newsletter_form_email]").val(),i="";l(".footer-r23__newsletter__gender input").each(function(){!0===this.checked&&(0<i.length&&(i+=","),i+=this.value)}),COMMON.registerNewsletterQuick(t,i)},confirmMessagePopup:function(e){var t=l("#modalNewsletterSuccessMessage").html(),i=l("#footerNewsletterForm"),n=l(".footer-r23__newsletter-thank-you");0<i.length&&(i[0].reset(),i.hide(),n.html(t).show())},_initUIElements:function(){this.vars._$form=l("#footerNewsletterForm")},_initListeners:function(){var t=this;t._on({"submit #footerNewsletterForm":t._preventFormSubmission}),t._on(document,{"click [data-attr-id=modalContact]":t._onTriggerClickContactForm}),MAIN.isWcsEnv()&&t._on({"change [name=languageSelect]":t._onChangeLanguage}),l("[data-attr-id=shippingInfo]").on("click",function(e){t._onTriggerClickModalInfo(e,l("#shippingInfo"))}),l("[data-attr-id=returnsInfo]").on("click",function(e){t._onTriggerClickModalInfo(e,l("#returnsInfo"))}),l("[data-attr-id=paymentsInfo]").on("click",function(e){t._onTriggerClickModalInfo(e,l("#paymentsInfo"))}),l("[data-attr-id=holidayShippingInfo]").on("click",function(e){t._onTriggerClickModalInfo(e,l("#holidayShippingInfo"))}),l('a[href$="modalFollowWeChat"]').on("click",function(e){t._onTriggerClickFollowWeChat()}),l('a[href$="modalFollowSnapChat"]').on("click",function(e){t._onTriggerClickFollowSnapChat()});var e=l(".footer-r23__newsletter__gender [type=checkbox]");e.on("change",function(){this.checked&&e.not(this).prop("checked",!1)})},_initShipping:function(){l(".footer-r23__country").html(COMMON.country_shipping_to_full),l(".footer-r23__currency").html(COMMON.currency)},_initLanguage:function(){var e=l("#footerLanguageSelect");e.length<1||(l(".footer-r23 #menuLanguageSelect").remove(),e.append(l("#menuLanguageSelect").clone()),e.find("#menuLanguageSelect").removeAttr("id"),e.find("#currentLanguageMenu").attr("id","currentLanguageFooter"))},_onChangeLanguage:function(e){l("#languageSelectionHidden").val(e.currentTarget.selectedOptions[0].value),l("body").headerR23("switchLanguageCurrency","LangCurrChange",COMMON.homePageURL)},_preventFormSubmission:function(e){e.preventDefault()},_initNewsletterFormValidation:function(){var e=FORMS.validateSettingsDefaultR21;e.submitHandler=function(e){grecaptcha.execute()},e.rules={footer_newsletter_form_email:{required:!0}},this.vars._$form.validate(e)},_onTriggerClickContactForm:function(e){if(MAIN.isWcsEnv()){var t=l(e.currentTarget);l("#modalContact").empty(),l("#modalContact").load(t.attr("href"),function(){l(document).contactPopup("refresh")})}},_onTriggerClickModalInfo:function(e,t){if(MAIN.isWcsEnv()&&0===t.html().length){var i=l(e.currentTarget);t.empty(),t.load(i.attr("href"))}},_onTriggerClickFollowWeChat:function(e){var t=l("#modalFollowWeChat_tpl").text();if(t){l(document.body).append(t);var i=l("#modalFollowWeChat");i.one("hidden.bs.modal",function(){i.remove()});var n=l("#modalFollowWeChat").find(".bg-img-div"),r=n.data("img-w"),o=n.data("img-h"),a=n.data("img-bg"),s=o/r;n.attr("aria-hidden","true").css({"background-image":"url("+a+")","background-position":"center","background-size":"cover","padding-top":100*s+"%","max-width":r+"px"})}else console.error("Error modal template not found")},_onTriggerClickFollowSnapChat:function(e){var t=l("#modalFollowSnapChat_tpl").text();if(t){l(document.body).append(t);var i=l("#modalFollowSnapChat");i.one("hidden.bs.modal",function(){i.remove()});var n=l("#modalFollowSnapChat").find(".bg-img-div"),r=n.data("img-w"),o=n.data("img-h"),a=n.data("img-bg"),s=o/r;n.attr("aria-hidden","true").css({"background-image":"url("+a+")","padding-top":100*s+"%","background-size":"cover","max-width":r+"px"})}else console.error("Error modal template not found")},_initSocial:function(){l(".footer-r23__social__more").on("click",function(){l(".footer-r23__social").addClass("footer-r23__social--show-all")})},_initLinks:function(){"undefined"!=typeof contactFormModalURL&&(l("[data-attr-id=modalContact]").attr("href",contactFormModalURL),-1!=window.location.href.indexOf("#modalContact")&&l("[data-attr-id=modalContact]").first().click()),"undefined"!=typeof shippingInfoModalURL&&(l("[data-attr-id=shippingInfo]").attr("href",shippingInfoModalURL),-1!=window.location.href.indexOf("#shippingInfo")&&l("[data-attr-id=shippingInfo]").first().click()),"undefined"!=typeof returnsInfoModalURL&&(l("[data-attr-id=returnsInfo]").attr("href",returnsInfoModalURL),-1!=window.location.href.indexOf("#returnsInfo")&&l("[data-attr-id=returnsInfo]").first().click()),"undefined"!=typeof paymentsInfoModalURL&&(l("[data-attr-id=paymentsInfo]").attr("href",paymentsInfoModalURL),-1!=window.location.href.indexOf("#paymentsInfo")&&l("[data-attr-id=paymentsInfo]").first().click()),"undefined"!=typeof holidayShippingInfoModalURL&&(l("[data-attr-id=holidayShippingInfo]").attr("href",holidayShippingInfoModalURL),-1!=window.location.href.indexOf("#holidayShippingInfo")&&l("[data-attr-id=holidayShippingInfo]").first().click()),"undefined"!=typeof newsletterFormModalURL&&-1!=window.location.href.indexOf("#modalNewsletter")&&this.submitForm()}}),l.footer=function(e,t){l(e).footer(t)},l(function(e){e(document).footer()}),l}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(s){"use strict";return void 0===s&&(s=jQuery),s.widget("custom.fullBleed",{options:{},_create:function(){this.vars={_$bg:null,_$img:null,_$lazybg:null,isLazy:!1},this._initUIElements(),this._setImageLoad(),this._initUI()},_initUIElements:function(){var e=this,t=s(window);e._on(t,{resize:_.debounce(e._onResize,250)}),e.vars._$bg=e.element.find(".full-bleed__bg__figure"),e.vars._$img=e.element.find(".full-bleed__bg__figure img"),e.vars._$lazybg=e.element.find(".full-bleed__bg__lazy"),e.vars.isLazy=!e.element.hasClass("full-bleed--no-lazy")},_setImageLoad:function(){var r=this,o="xs"===MAIN.responsive_r23.getBreakpoint()||"sm"===MAIN.responsive_r23.getBreakpoint()?"mobile":"desktop";r.element.hasClass("full-bleed--variante")&&(o="xs"===MAIN.responsive_r23.getBreakpoint()?"mobile":"desktop");var a="mobile"===o?"desktop":"mobile";r.vars._$img.each(function(){var e=s(this);if(!0===r.vars.isLazy){var t=e.attr("data-image-"+o);e.attr("data-src",t);var i=e.attr("data-image-"+a);e.attr("src")===i&&e.attr("src",t)}else{var n=e.attr("data-image-"+o);e.attr("src",n)}})},_onResize:function(e){this._setImageLoad()},_initUI:function(){if(!0===this.vars.isLazy){var i="full-bleed__bg__lazy--no-opacity",n=this.vars._$lazybg;n.removeClass(i),this.vars._$img.unveil(400,function(e){var t=s(this);t.is("img")&&(t.closest(".full-bleed__bg"),e?t.on("load",function(){n.addClass(i)}):n.addClass(i))})}}}),s.fullBleed=function(e,t){s(e).fullBleed(t)},s(function(){s(".full-bleed").fullBleed()}),s}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(s){"use strict";return void 0===s&&(s=jQuery),s.widget("custom.splitScreen",{options:{},_create:function(){this.vars={_$bg:null,_$img:null,_$lazybg:null,isLazy:!1},this._initUIElements(),this._setImageLoad(),this._initUI()},_initUIElements:function(){var e=this,t=s(window);e._on(t,{resize:_.debounce(e._onResize,250)}),e.vars._$bg=e.element.find(".split-screen__bg__figure"),e.vars._$img=e.element.find(".split-screen__bg__figure img"),e.vars._$lazybg=e.element.find(".split-screen__bg__lazy"),e.vars._$lazyBgLeft=e.element.find(".split-screen__bg__lazy--left"),e.vars._$lazyBgRight=e.element.find(".split-screen__bg__lazy--right"),e.vars.isLazy=!e.element.hasClass("split-screen--no-lazy")},_setImageLoad:function(){var r=this,o="xs"===MAIN.responsive_r23.getBreakpoint()||"sm"===MAIN.responsive_r23.getBreakpoint()?"mobile":"desktop",a="mobile"==o?"desktop":"mobile";r.vars._$img.each(function(){var e=s(this);if(!0===r.vars.isLazy){var t=e.attr("data-image-"+o);e.attr("data-src",t);var i=e.attr("data-image-"+a);e.attr("src")===i&&e.attr("src",t)}else{var n=e.attr("data-image-"+o);e.attr("src",n)}})},_onResize:function(e){this._setImageLoad()},_initUI:function(){if(!0===this.vars.isLazy){var i="split-screen__bg__lazy--no-opacity",n=this.vars._$lazybg;n.removeClass(i),this.vars._$img.unveil(400,function(e){var t=s(this);t.is("img")&&(t.closest(".split-screen__bg"),e?t.on("load",function(){n.addClass(i)}):n.addClass(i))})}}}),s.splitScreen=function(e,t){s(e).splitScreen(t)},s(function(){s(".split-screen").splitScreen()}),s}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(s){"use strict";return void 0===s&&(s=jQuery),s.widget("custom.splitModules",{options:{},_create:function(){this.vars={_$bg_div:null,_$img:null,_$lazybg:null,isLazy:!1},this._initUIElements(),this._setImageLoad(),this._initUI()},_initUIElements:function(){var e=this,t=s(window);e._on(t,{resize:_.debounce(e._onResize,250)}),e.vars._$bg=e.element.find(".split-modules__module-figure"),e.vars._$img=e.element.find(".split-modules__module-figure img"),e.vars._$lazybg=e.element.find(".split-modules__lazy-module"),e.vars._$lazyBgLeft=e.element.find(".split-modules__lazy-module--left"),e.vars._$lazyBgRight=e.element.find(".split-modules__lazy-module--right"),e.vars.isLazy=!e.element.hasClass("split-modules--no-lazy")},_setImageLoad:function(){var r=this,o="xs"===MAIN.responsive_r23.getBreakpoint()||"sm"===MAIN.responsive_r23.getBreakpoint()?"mobile":"desktop",a="mobile"==o?"desktop":"mobile";r.vars._$img.each(function(){var e=s(this);if(!0===r.vars.isLazy){var t=e.attr("data-image-"+o);e.attr("data-src",t);var i=e.attr("data-image-"+a);e.attr("src")===i&&e.attr("src",t)}else{var n=e.attr("data-image-"+o);e.attr("src",n)}})},_onResize:function(e){this._setImageLoad()},_initUI:function(){if(!0===this.vars.isLazy){var i="split-modules__lazy-module--no-opacity",n=this.vars._$lazybg;n.removeClass(i),this.vars._$img.unveil(400,function(e){var t=s(this);t.is("img")&&(t.closest(".split-modules__module"),e?t.on("load",function(){n.addClass(i)}):n.addClass(i))})}}}),s.splitModules=function(e,t){s(e).splitModules(t)},s(function(){s(".split-modules").splitModules()}),s}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(d){"use strict";return void 0===d&&(d=jQuery),d.widget("custom.fullVideo",{options:{},_create:function(){this.vars={_$video:null,_$videos:null,_$lazybg:null,_$muteButton:null,_$icon:null,isEmbed:!1,isPlaying:!1},this._initUIElements(),this._initDictionary(),this._setVideoLoad(),this._initUI(),this._muteUnmute(),this._viewportMuteUnmute(),this._playPause(),this._updateAllPlayPauseIcons()},_initUIElements:function(){var e=this,t=d(window);e._on(t,{resize:_.debounce(e._onResize,250)}),e.vars._$video=e.element.find(".full-video__video"),e.vars._$lazybg=e.element.find(".full-video__bg__lazy"),e.vars._$muteButton=e.element.find(".full-video__icon-button--sound"),e.vars._$playButton=e.element.find(".full-video__icon-button--play"),e.vars._$icon=e.element.find(".full-video__icon-button--sound .full-video__icon"),e.vars._$iconMuted=e.element.find(".ssicon--r23-actions-sound-off"),e.vars._$playIcon=e.element.find(".ssicon--r23-actions-play-video"),e.vars._$pauseIcon=e.element.find(".ssicon--r23-actions-pause-video"),e.vars.isEmbed=e.element.hasClass("full-video--embed"),e.vars._$videos=e.element.find(".video-container")},_initDictionary:function(){d.i18n.load(lbdR21Dictionary)},_setVideoLoad:function(){if(this.vars.isEmbed){var e="xs"===MAIN.responsive_r23.getBreakpoint()||"sm"===MAIN.responsive_r23.getBreakpoint()?"mobile":"desktop",t=this.vars._$video.attr("data-video-"+e);this.vars._$video.attr("src",t)}},_initUI:function(){var e=this.vars._$lazybg,t="full-video__bg__lazy--no-opacity";!0===this.vars.isEmbed?this.vars._$video.on("loadeddata",function(){e.addClass(t)}):0<this.vars._$videos.children().length&&e.addClass(t)},_updateTheme:function(){var e=this.element.closest("[data-section-darkness]").attr("data-section-darkness"),t=this.element.find(".full-video__icon");"dark"===e&&t.addClass("full-video__icon--white")},_muteUnmute:function(){var t=this,i=t.vars._$icon,n="full-video__icon--hidden",r=t.vars._$iconMuted;t.vars.isEmbed&&t.vars._$video.on("loadeddata",function(){var e=this;!1===e.muted?(t.vars._$muteButton.attr("title",d.i18n._("UNMUTE")),r.hasClass(n)||t.vars._$icon.toggleClass(n)):(t.vars._$muteButton.attr("title",d.i18n._("MUTE")),r.hasClass(n)&&t.vars._$icon.toggleClass(n)),t.vars._$muteButton.click(function(){!0===e.muted?e.muted=!1:e.muted=!0,!0===e.muted?t.vars._$muteButton.attr("title",d.i18n._("UNMUTE")):t.vars._$muteButton.attr("title",d.i18n._("MUTE")),i.toggleClass(n),!0===e.paused&&!0===e.autoplay&&(e.play(),t.vars._$playButton.attr("title",d.i18n._("PAUSE")))})})},_viewportMuteUnmute:function(){var t=this;if(t.vars.isEmbed){var i=t.vars._$video,n=t.vars._$icon,r=0<n.length,o="full-video__icon--hidden",a=t.vars._$iconMuted,s=!1,l=!1,c=void 0===i.attr("muted")||!1==!i.attr("muted");t._isInViewport(i)||(i[0].muted=!0,t.vars._$muteButton.attr("title",d.i18n._("UNMUTE"))),d(window).on("scroll",function(){var e=t._isInViewport(i);t.vars._$muteButton.click(function(){i[0].muted?(s=!0,d(this).attr("title",d.i18n._("UNMUTE"))):(s=!1,d(this).attr("title",d.i18n._("MUTE")))}),t.vars._$playButton.click(function(){i[0].paused?(l=!0,d(this).attr("title",d.i18n._("PLAY"))):(l=!1,d(this).attr("title",d.i18n._("PAUSE")))}),r&&(e?(i[0].autoplay&&i[0].paused&&!l&&(i[0].play(),t.vars._$playButton.attr("title",d.i18n._("PAUSE"))),i[0].autoplay&&c&&!s&&(i[0].muted=!1,t.vars._$muteButton.attr("title",d.i18n._("MUTE")),i[0].muted||a.hasClass(o)||n.toggleClass(o))):(i[0].muted=!0,t.vars._$muteButton.attr("title",d.i18n._("UNMUTE")),i[0].muted&&a.hasClass(o)&&n.toggleClass(o)))}),i[0].muted?a.hasClass(o)&&n.toggleClass(o):a.hasClass(o)&&i[0].paused||n.toggleClass(o)}},_isInViewport:function(e){var t=!1,i=e[0].getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return i.bottom<0||0<=i.top-n||(t=!0),t},_playPause:function(){var t=this;t.vars.isEmbed&&t.vars._$video.on("loadeddata",function(){var e=this;t.vars._$playButton.click(function(){e.paused?(e.play(),d(this).attr("title",d.i18n._("PAUSE"))):(e.pause(),d(this).attr("title",d.i18n._("PLAY")))})})},_updatePlayPauseIcons:function(){var e="full-video__icon--hidden",t=this.vars._$playIcon,i=this.vars._$pauseIcon;this.vars.isPlaying?(i.removeClass(e),t.addClass(e),this.vars._$playButton.attr("title",d.i18n._("PAUSE"))):(i.addClass(e),t.removeClass(e),this.vars._$playButton.attr("title",d.i18n._("PLAY")))},_updateAllPlayPauseIcons:function(){var e=this;e.vars._$video.each(function(){this.addEventListener("play",function(){e.vars.isPlaying=!0,e._updatePlayPauseIcons()}),this.addEventListener("pause",function(){e.vars.isPlaying=!1,e._updatePlayPauseIcons()}),e._updatePlayPauseIcons()})}}),d.fullVideo=function(e,t){d(e).fullVideo(t)},d(function(){d(".full-video").fullVideo()}),d}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(d){"use strict";return void 0===d&&(d=jQuery),d.widget("custom.productlist23",{options:{},templates:{},_create:function(){var e=this,t=e.element.find(".product-list-r23__item").attr("data-part-number"),i=e.element.find(".product-list-r23__item").attr("data-product-id");e.vars={id:"dpdAttr"+e.uuid,parentPartNumber:""+t,productId:""+i},e._initUIElements(),e._initDictionary(),e._loadProductInfo(),e._initTemplates(),e._initListeners(),e._setLazyLoadImage(),e._initUI(),e._hoverItem(),e.vars._$isVariante||e._loadMore(),e.vars._$isGallery&&e._createGallery()},_initDictionary:function(){d.i18n.load(lbdR21Dictionary)},_initTemplates:function(){this.templates.wishlistActionTmplCompiled=_.template(d("#wishlistActionTmpl_productList").html())},_loadProductInfo:function(){"R"===COMMON.userType&&d.isEmptyObject(B_WISHLIST.wishListItem)&&B_WISHLIST.getWishList(!0)},_initListeners:function(e){var i=this;i.vars._$parentProduct.on("click",'[data-attr-id="wishListButtonProd"]',function(e){d(".page--r19").wishlistAdder("wishListButton",e)}),d(document).on("aggregated-product-details-loaded.B_SHOPPING",function(e,t){i.vars._$parentProduct.each(function(){i._populateTemplate(d(this))})}),d(document).on("wishlist-loaded.B_WISHLIST",function(e){debug.log("--- wishlist loaded ---"),i.vars._$parentProduct.each(function(e,t){for(var i=B_WISHLIST.wishListItem,n=0;n<i.length;n++)if(void 0!==i[n].item)for(var r=0;r<i[n].item.length;r++)if(i[n].item[r].partNumber.substring(0,6)===d(t).find('[data-attr-id="wishListButtonProd"]').attr("data-partnumber")){!0,d(t).toggleClass("product-list-r23__item__wishlist--added");break}})})},_getEntryModel:function(e){return B_SHOPPING.getAggregatedProductDetails(e.attr("data-product-id"))},_populateTemplate:function(e){var t=this._getEntryModel(e);if(void 0!==t&&!jQuery.isEmptyObject(t)){if(t.otherInfo.eyewareCat=!1,t.apiResponses.catalogEntryAttributes.ProductiveCategoryCode===eywearCatProdCode&&(t.otherInfo.eyewareCat=!0),t.otherInfo.fragranceCat=!1,t.apiResponses.catalogEntryAttributes.ProductiveCategoryCode===fragranceCatProdCode&&(t.otherInfo.fragranceCat=!0),t.otherInfo.eanWithCatCode=!1,_.contains(eanWithCatCodeList,t.apiResponses.catalogEntryAttributes.ProductiveCategoryCode)&&(t.otherInfo.eanWithCatCode=!0),t&&t.synthInfo&&!jQuery.isEmptyObject(t.synthInfo)){var i={widgetId:this.vars.id,entryView:t.apiResponses.catalogEntryDetails,entryView_AttrWidth:void 0,entryView_AttrSize:void 0,sizeValNotConverted:void 0,widthValNotConverted:void 0,uniqueWidth:t.synthInfo.uniqueWidth,convertedUniqueWidth:t.synthInfo.convertedUniqueWidth,uniqueSize:t.synthInfo.uniqueSize,convertedUniqueSize:t.synthInfo.convertedUniqueSize,mapWidth:t.synthInfo.mapWidth,mapSize:t.synthInfo.mapSize,fragranceCat:t.otherInfo.fragranceCat,eyewareCat:t.otherInfo.eyewareCat,widthLabel:t.synthInfo.widthLabel,name:t.apiResponses.catalogEntryDetails.name,attrConvertedFlag:t.otherInfo.attrConvertedFlag,spec:t.apiResponses.catalogEntryAttributes.Spec,colorDescription:t.apiResponses.catalogEntryAttributes.ColorDescription};t.otherInfo.uniqueEan&&!t.otherInfo.eanWithCatCode||(0<Object.keys(t.synthInfo.mapWidth).length&&null!=t.synthInfo.entryView_AttrWidth&&(i.entryView_AttrWidth=""),i.entryView_AttrSize="")}else i={widgetId:this.vars.id,entryView:t.apiResponses.catalogEntryDetails,entryView_AttrWidth:void 0,entryView_AttrSize:void 0,sizeValNotConverted:void 0,widthValNotConverted:void 0,uniqueWidth:[],convertedUniqueWidth:[],uniqueSize:[],convertedUniqueSize:[],mapWidth:{},mapSize:{},fragranceCat:t.otherInfo.fragranceCat,eyewareCat:t.otherInfo.eyewareCat,widthLabel:"",name:t.apiResponses.catalogEntryDetails.name,attrConvertedFlag:t.otherInfo.attrConvertedFlag,spec:t.apiResponses.catalogEntryAttributes.Spec,colorDescription:t.apiResponses.catalogEntryAttributes.ColorDescription};var n="",r="",o=d.i18n._("addToBagAvailableLabel");t.otherInfo.microformatLabelBtnCart="InStock";var a=!0,s=t.apiResponses.availableProducts[e.attr("data-part-number")],l=s?Object.keys(s):[];if(0<l.length&&(t.otherInfo.catalogEntryIDChild=l[0]),t.otherInfo.uniqueEan&&0<l.length)switch(r=s[n=t.otherInfo.catalogEntryIDChild].DDate,t.otherInfo.catalogEntryID=t.otherInfo.catalogEntryIDChild,s[n].inventoryType){case"outofstock":o=d.i18n._("addToBagOutOfStockLabel"),a=!1,t.otherInfo.microformatLabelBtnCart="OutOfStock",e.find('[data-attr-id="sizeSelector"]').addClass("hidden"),e.find('[data-attr-id="widthSelector"]').addClass("hidden");break;case"pre_preorder":case"preorder":case"backorder":case"available":o=d.i18n._("addToBagAvailableLabel"),t.otherInfo.microformatLabelBtnCart="InStock"}else null!=s&&0!=l.length||(a=!1,t.otherInfo.microformatLabelBtnCart="OutOfStock",e.find('[data-attr-id="sizeSelector"]').addClass("hidden"),e.find('[data-attr-id="widthSelector"]').addClass("hidden"));t.otherInfo.eanWithCatCode&&(n="");var c={catalogEntryID:n,ddate:r,labelAddToCart:o,available:a,catentryIdParent:t.apiResponses.catalogEntryDetails.uniqueID,partNumber:e.attr("data-part-number")};t.synthInfo.uniqueSize&&t.synthInfo.uniqueWidth&&(0<t.synthInfo.uniqueSize.length||0<t.synthInfo.uniqueWidth.length)?c.selectAttributes=!0:c.selectAttributes=!1,e.find(".product-list-r19__item__wishlist").empty().append(this.templates.wishlistActionTmplCompiled(c))}},_hoverItem:function(){var i=this,n="xs"!==MAIN.responsive.getBreakpoint()&&"sm"!==MAIN.responsive.getBreakpoint();d(document).on("mouseenter",".product-list-r23__item__inner",function(){var e=d(this).find(".product-list-r23__img--hoverable"),t=e.data("src-swap");e.attr("src",t),d(this).addClass("active")}).on("mouseleave",".product-list-r23__item__inner",function(){var e=d(this).find(".product-list-r23__img--hoverable"),t=e.attr(i.vars._$isGallery?"data-lazy":"data-src");void 0!==t&&void 0!==t||(t=n?e.data("image-desktop"):e.data("image-mobile")),e.attr("src",t),d(this).removeClass("active")})},_setLazyLoadImage:function(){var n=this,r="xs"===MAIN.responsive.getBreakpoint()||"sm"===MAIN.responsive.getBreakpoint()?"mobile":"desktop",o="mobile"==r?"desktop":"mobile";n.vars._$img.each(function(){var e=d(this),t=e.attr("data-image-"+r);e.attr(n.vars._$isGallery?"data-lazy":"data-src",t);var i=e.attr("data-image-"+o);e.attr("src")===i&&e.attr("src",t)})},_initUI:function(){var i="product-list-r23__item__lazy--no-opacity",n=this.vars._$lazybg;n.removeClass(i),this.vars._$isGallery||this.vars._$img.unveil(400,function(e){var t=d(this);t.is("img")&&(t.closest(".full-bleed__bg"),e?t.on("load",function(){n.addClass(i)}):n.addClass(i))}),0<d(".presalePrice").length&&(COMMON.isPresaleEnabled()?d(".presalePrice").removeClass("hidden"):(d(".presalePrice").addClass("hidden"),d(".product-list-r23__price--discount").removeClass("product-list-r23__price--discount")),d(".product-list-r23__price--discount").removeClass("hidden"))},_initUIElements:function(){var e=this;e.vars._$section=e.element.find(".product-list-r23"),e.vars._$visualSlideshow=e.element.find(".product-list-r23__collection"),e.vars._$visualSingleSlide_img=e.element.find("img"),e.vars._$visualSingleSlide_video=e.element.find(".video-container"),e.vars._$parentProduct=e.element.find(".product-list-r23__item"),e.vars._$img=e.element.find(".product-list-r23__img"),e.vars._$lazybg=e.element.find(".product-list-r23__item__lazy"),e.vars._$isVariante=e.element.hasClass("product-list-r23--all-visible"),e.vars._$isGallery=e.element.hasClass("product-list-r23--gallery")},_loadMore:function(){var e=this.element,i=e.attr("data-visible-items");void 0!==i&&!1!==i?(i=parseInt(i,10),isNaN(i)&&(i=4)):i=4;var n=e.find(".product-list-r23__item").length-i;e.each(function(){if(!0===d(this).data("all-item"))e.find(".product-list-r23__loadmore__button").hide();else if(0<n){var t=e.find(".product-list-r23__item:nth-child("+i+")").nextUntil();t.css("display","none"),e.find(".product-list-r23__loadmore__button").click(function(e){e.preventDefault(),d("html").css("position","fixed"),t.css("display","block"),d(this).hide(),d("html").css("position","")})}else e.find(".product-list-r23__loadmore__button").hide()})},_hasEnoughItems:function(){var e=this.vars._$parentProduct,t="xs"===MAIN.responsive.getBreakpoint();if(1<e.length){if(t)return!0;if(4<e.length)return!0}},_createGallery:function(){var t=this;if(d.fn.slick)try{var e=t.vars._$visualSlideshow.filter(".slick-initialized");0<e.length&&(currentSlideIndex=e.slick("slickCurrentSlide"),e.slick("unslick"));var i=t.vars._$visualSlideshow.not(".slick-initialized");if(0<i.length){var n={infinite:!0,slidesToShow:4,slidesToScroll:4,cssEase:"ease-out",initialSlide:0,arrows:!0===d(t.element).data("arrows"),swipeToSlide:!0,lazyLoad:"progressive",responsive:[{breakpoint:1023,settings:{slidesToShow:4,arrows:!1}},{breakpoint:767,settings:{slidesToShow:1.3,initialSlide:1,arrows:!1}}]};i.slick(n),i.on("click",".slick-current + .slick-slide + .slick-slide + .slick-slide",function(e){e.preventDefault(),i.slick("slickNext")})}t._hasEnoughItems()||(i.slick("unslick"),t._rebuildDefaultBlock())}catch(e){console.error(e),t._rebuildDefaultBlock()}else t._rebuildDefaultBlock()},_rebuildDefaultBlock:function(){this.element.removeClass("product-list-r23--gallery"),this.vars._$visualSlideshow.addClass("r23-grid"),this.vars._$parentProduct.each(function(){d(this).addClass("r23-col-xs-6 r23-col-sm-3 r23-col-md-3")})}}),d.productlist23=function(e,t){d(e).productlist23(t)},d(function(){d(".product-list-r23").productlist23()}),d}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(a){"use strict";return void 0===a&&(a=jQuery),a.widget("custom.contactPopupSizeGuide",{options:{},vars:{_$modal:null,_$form:null,reCaptchaErrMessage:null,reCaptchaKey:null,reCaptchaUrl:null},state:{reCaptchaValid:!1,reCaptchaWidgetId:null},_create:function(){0<a("#modalContainer").length&&this._loadModalContent()},open:function(){this._initReCaptcha(),this.vars._$modal.modal()},close:function(){this.vars._$modal.modal("hide"),a("#modalContainer").empty(),a("#formModalContactSizeGuide").hide(),a("#openPanel").show()},_initCountryList:function(){tfourServiceEnabled&&"true"===tfourServiceEnabled&&this._createCountryListJson()},_createCountryListJson:function(){var e=JSON.parse(document.getElementById("countryListJson").innerHTML),i=a("#modal_contact_country");a.each(e.Nazioni.Nazione,function(e,t){i.append("<option value="+t.IdNazione+">"+t.Descrizione+"</option>")})},_initUIElements:function(){this.vars._$modal=a("#modalContainer"),this.vars._$form=a("#formModalContactSizeGuide")},_initReCaptcha:function(){this.state.reCaptchaValid=!1},_checkReCaptchaValidity:function(){this.vars._$form.find(".cmp-input-error--recaptcha").toggleClass("hidden",window.reCaptchaValidityContact)},_initListeners:function(e){this._on({"submit #footerContactForm":this._preventFormSubmission}),a("#modalContainer").on("hidden.bs.modal",function(){a("#modalContainer").empty()})},_preventFormSubmission:function(e){e.preventDefault()},_submitForm:function(e){if(this._checkReCaptchaValidity(),window.reCaptchaValidityContact){var t="";t=COMMON.frgStoreIdentifier===COMMON.storeIdUS||COMMON.frgStoreIdentifier===COMMON.storeIdCA||COMMON.frgStoreIdentifier===COMMON.storeIdMX||COMMON.frgStoreIdentifier===COMMON.storeIdJP?a("input[name=modal_contact_country]").val():a("select[name=modal_contact_country]").val();var i={};if(tfourServiceEnabled&&"true"===tfourServiceEnabled){if(i={insertActivity:{idChannel:"xs"===MAIN.responsive.getBreakpoint()?"mobile":"desktop",requestText:a("#txtarea1").val(),customFields:[{fieldValue:a("#modal_contact_enquiry option:selected").val(),fieldName:"SUBJECT"}],customerInfo:{email:a("input[name=modal_contact_email]").val(),name:a("input[name=modal_contact_name]").val(),surname:a("input[name=modal_contact_surname]").val(),countryCode:a("select[name=modal_contact_country]").val(),address:a("input[name=modal_contact_street]").val(),city:a("input[name=modal_contact_city]").val()}}},COMMON.frgStoreIdentifier===COMMON.storeIdJP){var n={fieldValue:a("input[name=modal_contact_name_reading]").val(),fieldName:"FIRSTNAME_KATAKANA"},r={fieldValue:a("input[name=modal_contact_surname_reading]").val(),fieldName:"LASTNAME_KATAKANA"};i.insertActivity.customFields.push(n),i.insertActivity.customFields.push(r),i.insertActivity.customerInfo.phoneNumber1=a("input[name=modal_contact_phone]").val()}COMMON.registrationContactTFour(i,"size-guide")}else i={email:a("input[name=modal_contact_email]").val(),firstName:a("input[name=modal_contact_name]").val(),lastName:a("input[name=modal_contact_surname]").val(),phone:a("input[name=modal_contact_phone]").val(),address:a("input[name=modal_contact_street]").val(),city:a("input[name=modal_contact_city]").val(),country:t,enquiry:a("#modal_contact_enquiry option:selected").val(),message:a("#txtarea1").val(),locale:COMMON.locale},COMMON.frgStoreIdentifier===COMMON.storeIdJP&&(i.lastNameReading=a("input[name=modal_contact_surname_reading]").val(),i.firstNameReading=a("input[name=modal_contact_name_reading]").val()),COMMON.frgStoreIdentifier===COMMON.storeIdKR&&(i.policy1=a("input[name=contact_consent1]:checked").val(),i.policy2=a("input[name=contact_consent2]:checked").val(),i.policy3=a("input[name=contact_consent3]:checked").val(),i.policy4=a("input[name=contact_consent4]:checked").val()),COMMON.registrationContact(i)}},_loadModalContent:function(){var t=this;a("#formModalContactSizeGuide").show();var e=a("#openContactSizeGuideForm");a.ajax({url:e.attr("data-attr-link"),method:"GET",success:function(e){a("#modalContainer").html(e),contactPopupConfig?(t.vars.reCaptchaErrMessage=contactPopupConfig.reCaptchaErrMessage,t.vars.reCaptchaKey=contactPopupConfig.reCaptchaKey,t.vars.reCaptchaUrl=contactPopupConfig.reCaptchaUrl,t._initCountryList(),t._initUIElements(),t._initListeners(),t._initValidateForm(),t._initReCaptcha()):console.error("Errore nel caricamento del contenuto modale: contactPopupConfig is not defined")},error:function(e,t,i){console.error("Errore nel caricamento del contenuto modale:",i)}})},_initValidateForm:function(){var t=this,e=FORMS.validateSettingsDefault;e.rules={contact_consent1:{required:!0},contact_consent2:{required:!0},contact_consent3:{required:!0},contact_consent4:{required:!0}},e.submitHandler=function(e){t._submitForm.apply(t,e)},t.vars._$form.validate(e),FORMS.init(),FORMS.refresh()},confirmRegistrationContact:function(e){var t=a("#modalStandard_tpl").text();if(t){a(document.body).append(t);var i=a("#modalStandard");i.one("hidden.bs.modal",function(){i.remove()});var n=i.find(".modal-body"),r=this.vars._$modal.find(".modal-title"),o=a("#modalContactSuccessMessage").html();n.html(o),void 0!==r&&!1!==r&&i.find(".modal-title").html(r),i.modal(),this.close()}else console.error("Error modal template not found")},resetCaptcha:function(e){window.reCaptchaValidityContact=!1,grecaptcha.reset(window.reCaptchaWidgetIdContact)},refresh:function(){this._loadModalContent()},_destroy:function(){},_setOptions:function(){}}),a.contactPopupSizeGuide=function(e,t){a(e).contactPopupSizeGuide(t)},a});
//# sourceMappingURL=productr23.min.492f2601.js.map
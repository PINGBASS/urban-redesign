"use strict";(()=>{var We=Object.defineProperty;var He=Object.getOwnPropertyDescriptor;var b=(r,e,t,n)=>{for(var s=n>1?void 0:n?He(e,t):e,a=r.length-1,i;a>=0;a--)(i=r[a])&&(s=(n?i(e,t,s):i(s))||s);return n&&s&&We(e,t,s),s};var _;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{let a={};for(let i of s)a[i]=i;return a},r.getValidEnumValues=s=>{let a=r.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(let o of a)i[o]=s[o];return r.objectValues(i)},r.objectValues=s=>r.objectKeys(s).map(function(a){return s[a]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let a=[];for(let i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},r.find=(s,a)=>{for(let i of s)if(a(i))return i},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(_||(_={}));var Se;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Se||(Se={}));var h=_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),V=r=>{switch(typeof r){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(r)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(r)?h.array:r===null?h.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?h.promise:typeof Map<"u"&&r instanceof Map?h.map:typeof Set<"u"&&r instanceof Set?h.set:typeof Date<"u"&&r instanceof Date?h.date:h.object;default:return h.unknown}},d=_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ye=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),E=class r extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let o=n,c=0;for(;c<i.path.length;){let u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};E.create=r=>new E(r);var ae=(r,e)=>{let t;switch(r.code){case d.invalid_type:r.received===h.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case d.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,_.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:t=`Unrecognized key(s) in object: ${_.joinValues(r.keys,", ")}`;break;case d.invalid_union:t="Invalid input";break;case d.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${_.joinValues(r.options)}`;break;case d.invalid_enum_value:t=`Invalid enum value. Expected ${_.joinValues(r.options)}, received '${r.received}'`;break;case d.invalid_arguments:t="Invalid function arguments";break;case d.invalid_return_type:t="Invalid function return type";break;case d.invalid_date:t="Invalid date";break;case d.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:_.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case d.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case d.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case d.custom:t="Invalid input";break;case d.invalid_intersection_types:t="Intersection results could not be merged";break;case d.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case d.not_finite:t="Number must be finite";break;default:t=e.defaultError,_.assertNever(r)}return{message:t}},je=ae;function Je(r){je=r}function ye(){return je}var _e=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,a=[...t,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)o=u(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},Ge=[];function l(r,e){let t=ye(),n=_e({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===ae?void 0:ae].filter(s=>!!s)});r.common.issues.push(n)}var w=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return m;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let a=await s.key,i=await s.value;n.push({key:a,value:i})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return m;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:e.value,value:n}}},m=Object.freeze({status:"aborted"}),se=r=>({status:"dirty",value:r}),T=r=>({status:"valid",value:r}),Ee=r=>r.status==="aborted",Ie=r=>r.status==="dirty",fe=r=>r.status==="valid",pe=r=>typeof Promise<"u"&&r instanceof Promise;function xe(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function Ae(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t}var f;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(f||(f={}));var le,he,N=class{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Re=(r,e)=>{if(fe(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new E(r.common.issues);return this._error=t,this._error}}};function v(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var c,u;let{message:g}=r;return i.code==="invalid_enum_value"?{message:g??o.defaultError}:typeof o.data>"u"?{message:(c=g??n)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(u=g??t)!==null&&u!==void 0?u:o.defaultError}},description:s}}var y=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return V(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new w,ctx:{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(pe(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let s={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},a=this._parseSync({data:e,path:s.path,parent:s});return Re(s,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(pe(s)?s:Promise.resolve(s));return Re(n,a)}refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{let i=e(s),o=()=>a.addIssue({code:d.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new I({schema:this,typeName:p.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return O.create(this,this._def)}nullable(){return j.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return M.create(this,this._def)}promise(){return D.create(this,this._def)}or(e){return Y.create([this,e],this._def)}and(e){return J.create(this,e,this._def)}transform(e){return new I({...v(this._def),schema:this,typeName:p.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new F({...v(this._def),innerType:this,defaultValue:t,typeName:p.ZodDefault})}brand(){return new me({typeName:p.ZodBranded,type:this,...v(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new ee({...v(this._def),innerType:this,catchValue:t,typeName:p.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ge.create(this,e)}readonly(){return te.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Ke=/^c[^\s-]{8,}$/i,Xe=/^[0-9a-z]+$/,Qe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Fe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,et=/^[a-z0-9_-]{21}$/i,tt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ce,st=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,at=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,it=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Le="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ot=new RegExp(`^${Le}$`);function Me(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function dt(r){return new RegExp(`^${Me(r)}$`)}function Ve(r){let e=`${Le}T${Me(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ct(r,e){return!!((e==="v4"||!e)&&st.test(r)||(e==="v6"||!e)&&at.test(r))}var $=class r extends y{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:h.string,received:a.parsedType}),m}let n=new w,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),l(s,{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),l(s,{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?l(s,{code:d.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&l(s,{code:d.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")rt.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"email",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ce||(Ce=new RegExp(nt,"u")),Ce.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"emoji",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Fe.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"uuid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")et.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"nanoid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Ke.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"cuid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Xe.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"cuid2",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Qe.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"ulid",code:d.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),l(s,{validation:"url",code:d.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"regex",code:d.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ve(a).test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ot.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?dt(a).test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{code:d.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?tt.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"duration",code:d.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ct(e.data,a.version)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"ip",code:d.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?it.test(e.data)||(s=this._getOrReturnCtx(e,s),l(s,{validation:"base64",code:d.invalid_string,message:a.message}),n.dirty()):_.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:d.invalid_string,...f.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...f.errToObj(e)})}url(e){return this._addCheck({kind:"url",...f.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...f.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...f.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...f.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...f.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...f.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...f.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...f.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...f.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...f.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...f.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...f.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...f.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...f.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...f.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...f.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...f.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...f.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...f.errToObj(t)})}nonempty(e){return this.min(1,f.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$.create=r=>{var e;return new $({checks:[],typeName:p.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...v(r)})};function ut(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,a=parseInt(r.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}var z=class r extends y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:h.number,received:a.parsedType}),m}let n,s=new w;for(let a of this._def.checks)a.kind==="int"?_.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ut(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:d.not_finite,message:a.message}),s.dirty()):_.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,f.toString(t))}gt(e,t){return this.setLimit("min",e,!1,f.toString(t))}lte(e,t){return this.setLimit("max",e,!0,f.toString(t))}lt(e,t){return this.setLimit("max",e,!1,f.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:f.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:f.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:f.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:f.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:f.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:f.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};z.create=r=>new z({checks:[],typeName:p.ZodNumber,coerce:r?.coerce||!1,...v(r)});var U=class r extends y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:h.bigint,received:a.parsedType}),m}let n,s=new w;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),l(n,{code:d.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):_.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,f.toString(t))}gt(e,t){return this.setLimit("min",e,!1,f.toString(t))}lte(e,t){return this.setLimit("max",e,!0,f.toString(t))}lt(e,t){return this.setLimit("max",e,!1,f.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:f.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:f.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:f.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:f.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:f.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:f.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};U.create=r=>{var e;return new U({checks:[],typeName:p.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...v(r)})};var B=class extends y{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.boolean,received:n.parsedType}),m}return T(e.data)}};B.create=r=>new B({typeName:p.ZodBoolean,coerce:r?.coerce||!1,...v(r)});var q=class r extends y{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_type,expected:h.date,received:a.parsedType}),m}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return l(a,{code:d.invalid_date}),m}let n=new w,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),l(s,{code:d.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),l(s,{code:d.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):_.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:f.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:f.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};q.create=r=>new q({checks:[],coerce:r?.coerce||!1,typeName:p.ZodDate,...v(r)});var ie=class extends y{_parse(e){if(this._getType(e)!==h.symbol){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.symbol,received:n.parsedType}),m}return T(e.data)}};ie.create=r=>new ie({typeName:p.ZodSymbol,...v(r)});var W=class extends y{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.undefined,received:n.parsedType}),m}return T(e.data)}};W.create=r=>new W({typeName:p.ZodUndefined,...v(r)});var H=class extends y{_parse(e){if(this._getType(e)!==h.null){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.null,received:n.parsedType}),m}return T(e.data)}};H.create=r=>new H({typeName:p.ZodNull,...v(r)});var P=class extends y{constructor(){super(...arguments),this._any=!0}_parse(e){return T(e.data)}};P.create=r=>new P({typeName:p.ZodAny,...v(r)});var L=class extends y{constructor(){super(...arguments),this._unknown=!0}_parse(e){return T(e.data)}};L.create=r=>new L({typeName:p.ZodUnknown,...v(r)});var R=class extends y{_parse(e){let t=this._getOrReturnCtx(e);return l(t,{code:d.invalid_type,expected:h.never,received:t.parsedType}),m}};R.create=r=>new R({typeName:p.ZodNever,...v(r)});var oe=class extends y{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.void,received:n.parsedType}),m}return T(e.data)}};oe.create=r=>new oe({typeName:p.ZodVoid,...v(r)});var M=class r extends y{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==h.array)return l(t,{code:d.invalid_type,expected:h.array,received:t.parsedType}),m;if(s.exactLength!==null){let i=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(i||o)&&(l(t,{code:i?d.too_big:d.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(l(t,{code:d.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(l(t,{code:d.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>s.type._parseAsync(new N(t,i,t.path,o)))).then(i=>w.mergeArray(n,i));let a=[...t.data].map((i,o)=>s.type._parseSync(new N(t,i,t.path,o)));return w.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:f.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:f.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:f.toString(t)}})}nonempty(e){return this.min(1,e)}};M.create=(r,e)=>new M({type:r,minLength:null,maxLength:null,exactLength:null,typeName:p.ZodArray,...v(e)});function ne(r){if(r instanceof C){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=O.create(ne(n))}return new C({...r._def,shape:()=>e})}else return r instanceof M?new M({...r._def,type:ne(r.element)}):r instanceof O?O.create(ne(r.unwrap())):r instanceof j?j.create(ne(r.unwrap())):r instanceof Z?Z.create(r.items.map(e=>ne(e))):r}var C=class r extends y{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=_.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let u=this._getOrReturnCtx(e);return l(u,{code:d.invalid_type,expected:h.object,received:u.parsedType}),m}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof R&&this._def.unknownKeys==="strip"))for(let u in s.data)i.includes(u)||o.push(u);let c=[];for(let u of i){let g=a[u],S=s.data[u];c.push({key:{status:"valid",value:u},value:g._parse(new N(s,S,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof R){let u=this._def.unknownKeys;if(u==="passthrough")for(let g of o)c.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(u==="strict")o.length>0&&(l(s,{code:d.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let g of o){let S=s.data[g];c.push({key:{status:"valid",value:g},value:u._parse(new N(s,S,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let u=[];for(let g of c){let S=await g.key,ve=await g.value;u.push({key:S,value:ve,alwaysSet:g.alwaysSet})}return u}).then(u=>w.mergeObjectSync(n,u)):w.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return f.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,a,i,o;let c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,n).message)!==null&&i!==void 0?i:n.defaultError;return t.code==="unrecognized_keys"?{message:(o=f.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:p.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return _.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return _.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return ne(this)}partial(e){let t={};return _.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return _.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof O;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return $e(_.objectKeys(this.shape))}};C.create=(r,e)=>new C({shape:()=>r,unknownKeys:"strip",catchall:R.create(),typeName:p.ZodObject,...v(e)});C.strictCreate=(r,e)=>new C({shape:()=>r,unknownKeys:"strict",catchall:R.create(),typeName:p.ZodObject,...v(e)});C.lazycreate=(r,e)=>new C({shape:r,unknownKeys:"strip",catchall:R.create(),typeName:p.ZodObject,...v(e)});var Y=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;let i=a.map(o=>new E(o.ctx.common.issues));return l(t,{code:d.invalid_union,unionErrors:i}),m}if(t.common.async)return Promise.all(n.map(async a=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(s);{let a,i=[];for(let c of n){let u={...t,common:{...t.common,issues:[]},parent:null},g=c._parseSync({data:t.data,path:t.path,parent:u});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(c=>new E(c));return l(t,{code:d.invalid_union,unionErrors:o}),m}}get options(){return this._def.options}};Y.create=(r,e)=>new Y({options:r,typeName:p.ZodUnion,...v(e)});var A=r=>r instanceof G?A(r.schema):r instanceof I?A(r.innerType()):r instanceof K?[r.value]:r instanceof X?r.options:r instanceof Q?_.objectValues(r.enum):r instanceof F?A(r._def.innerType):r instanceof W?[void 0]:r instanceof H?[null]:r instanceof O?[void 0,...A(r.unwrap())]:r instanceof j?[null,...A(r.unwrap())]:r instanceof me||r instanceof te?A(r.unwrap()):r instanceof ee?A(r._def.innerType):[],be=class r extends y{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return l(t,{code:d.invalid_type,expected:h.object,received:t.parsedType}),m;let n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(l(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let a of t){let i=A(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new r({typeName:p.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...v(n)})}};function Oe(r,e){let t=V(r),n=V(e);if(r===e)return{valid:!0,data:r};if(t===h.object&&n===h.object){let s=_.objectKeys(e),a=_.objectKeys(r).filter(o=>s.indexOf(o)!==-1),i={...r,...e};for(let o of a){let c=Oe(r[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(t===h.array&&n===h.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<r.length;a++){let i=r[a],o=e[a],c=Oe(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===h.date&&n===h.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var J=class extends y{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(a,i)=>{if(Ee(a)||Ee(i))return m;let o=Oe(a.value,i.value);return o.valid?((Ie(a)||Ie(i))&&t.dirty(),{status:t.value,value:o.data}):(l(n,{code:d.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};J.create=(r,e,t)=>new J({left:r,right:e,typeName:p.ZodIntersection,...v(t)});var Z=class r extends y{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.array)return l(n,{code:d.invalid_type,expected:h.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return l(n,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(l(n,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((i,o)=>{let c=this._def.items[o]||this._def.rest;return c?c._parse(new N(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>w.mergeArray(t,i)):w.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};Z.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Z({items:r,typeName:p.ZodTuple,rest:null,...v(e)})};var ke=class r extends y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.object)return l(n,{code:d.invalid_type,expected:h.object,received:n.parsedType}),m;let s=[],a=this._def.keyType,i=this._def.valueType;for(let o in n.data)s.push({key:a._parse(new N(n,o,n.path,o)),value:i._parse(new N(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?w.mergeObjectAsync(t,s):w.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof y?new r({keyType:e,valueType:t,typeName:p.ZodRecord,...v(n)}):new r({keyType:$.create(),valueType:e,typeName:p.ZodRecord,...v(t)})}},de=class extends y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.map)return l(n,{code:d.invalid_type,expected:h.map,received:n.parsedType}),m;let s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new N(n,o,n.path,[u,"key"])),value:a._parse(new N(n,c,n.path,[u,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let c of i){let u=await c.key,g=await c.value;if(u.status==="aborted"||g.status==="aborted")return m;(u.status==="dirty"||g.status==="dirty")&&t.dirty(),o.set(u.value,g.value)}return{status:t.value,value:o}})}else{let o=new Map;for(let c of i){let u=c.key,g=c.value;if(u.status==="aborted"||g.status==="aborted")return m;(u.status==="dirty"||g.status==="dirty")&&t.dirty(),o.set(u.value,g.value)}return{status:t.value,value:o}}}};de.create=(r,e,t)=>new de({valueType:e,keyType:r,typeName:p.ZodMap,...v(t)});var ce=class r extends y{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.set)return l(n,{code:d.invalid_type,expected:h.set,received:n.parsedType}),m;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(l(n,{code:d.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(l(n,{code:d.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function i(c){let u=new Set;for(let g of c){if(g.status==="aborted")return m;g.status==="dirty"&&t.dirty(),u.add(g.value)}return{status:t.value,value:u}}let o=[...n.data.values()].map((c,u)=>a._parse(new N(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,t){return new r({...this._def,minSize:{value:e,message:f.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:f.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ce.create=(r,e)=>new ce({valueType:r,minSize:null,maxSize:null,typeName:p.ZodSet,...v(e)});var we=class r extends y{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return l(t,{code:d.invalid_type,expected:h.function,received:t.parsedType}),m;function n(o,c){return _e({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ye(),ae].filter(u=>!!u),issueData:{code:d.invalid_arguments,argumentsError:c}})}function s(o,c){return _e({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ye(),ae].filter(u=>!!u),issueData:{code:d.invalid_return_type,returnTypeError:c}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof D){let o=this;return T(async function(...c){let u=new E([]),g=await o._def.args.parseAsync(c,a).catch(re=>{throw u.addIssue(n(c,re)),u}),S=await Reflect.apply(i,this,g);return await o._def.returns._def.type.parseAsync(S,a).catch(re=>{throw u.addIssue(s(S,re)),u})})}else{let o=this;return T(function(...c){let u=o._def.args.safeParse(c,a);if(!u.success)throw new E([n(c,u.error)]);let g=Reflect.apply(i,this,u.data),S=o._def.returns.safeParse(g,a);if(!S.success)throw new E([s(g,S.error)]);return S.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:Z.create(e).rest(L.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||Z.create([]).rest(L.create()),returns:t||L.create(),typeName:p.ZodFunction,...v(n)})}},G=class extends y{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};G.create=(r,e)=>new G({getter:r,typeName:p.ZodLazy,...v(e)});var K=class extends y{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return l(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}};K.create=(r,e)=>new K({value:r,typeName:p.ZodLiteral,...v(e)});function $e(r,e){return new X({values:r,typeName:p.ZodEnum,...v(e)})}var X=class r extends y{constructor(){super(...arguments),le.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return l(t,{expected:_.joinValues(n),received:t.parsedType,code:d.invalid_type}),m}if(xe(this,le,"f")||Ae(this,le,new Set(this._def.values),"f"),!xe(this,le,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return l(t,{received:t.data,code:d.invalid_enum_value,options:n}),m}return T(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};le=new WeakMap;X.create=$e;var Q=class extends y{constructor(){super(...arguments),he.set(this,void 0)}_parse(e){let t=_.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==h.string&&n.parsedType!==h.number){let s=_.objectValues(t);return l(n,{expected:_.joinValues(s),received:n.parsedType,code:d.invalid_type}),m}if(xe(this,he,"f")||Ae(this,he,new Set(_.getValidEnumValues(this._def.values)),"f"),!xe(this,he,"f").has(e.data)){let s=_.objectValues(t);return l(n,{received:n.data,code:d.invalid_enum_value,options:s}),m}return T(e.data)}get enum(){return this._def.values}};he=new WeakMap;Q.create=(r,e)=>new Q({values:r,typeName:p.ZodNativeEnum,...v(e)});var D=class extends y{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.promise&&t.common.async===!1)return l(t,{code:d.invalid_type,expected:h.promise,received:t.parsedType}),m;let n=t.parsedType===h.promise?t.data:Promise.resolve(t.data);return T(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}};D.create=(r,e)=>new D({type:r,typeName:p.ZodPromise,...v(e)});var I=class extends y{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===p.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{l(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return m;let c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?m:c.status==="dirty"||t.value==="dirty"?se(c.value):c});{if(t.value==="aborted")return m;let o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?m:o.status==="dirty"||t.value==="dirty"?se(o.value):o}}if(s.type==="refinement"){let i=o=>{let c=s.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?m:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?m:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!fe(i))return i;let o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>fe(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);_.assertNever(s)}};I.create=(r,e,t)=>new I({schema:r,typeName:p.ZodEffects,effect:e,...v(t)});I.createWithPreprocess=(r,e,t)=>new I({schema:e,effect:{type:"preprocess",transform:r},typeName:p.ZodEffects,...v(t)});var O=class extends y{_parse(e){return this._getType(e)===h.undefined?T(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};O.create=(r,e)=>new O({innerType:r,typeName:p.ZodOptional,...v(e)});var j=class extends y{_parse(e){return this._getType(e)===h.null?T(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};j.create=(r,e)=>new j({innerType:r,typeName:p.ZodNullable,...v(e)});var F=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===h.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};F.create=(r,e)=>new F({innerType:r,typeName:p.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...v(e)});var ee=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pe(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new E(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new E(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ee.create=(r,e)=>new ee({innerType:r,typeName:p.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...v(e)});var ue=class extends y{_parse(e){if(this._getType(e)!==h.nan){let n=this._getOrReturnCtx(e);return l(n,{code:d.invalid_type,expected:h.nan,received:n.parsedType}),m}return{status:"valid",value:e.data}}};ue.create=r=>new ue({typeName:p.ZodNaN,...v(r)});var lt=Symbol("zod_brand"),me=class extends y{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},ge=class r extends y{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?m:a.status==="dirty"?(t.dirty(),se(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?m:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:p.ZodPipeline})}},te=class extends y{_parse(e){let t=this._def.innerType._parse(e),n=s=>(fe(s)&&(s.value=Object.freeze(s.value)),s);return pe(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}};te.create=(r,e)=>new te({innerType:r,typeName:p.ZodReadonly,...v(e)});function Pe(r,e={},t){return r?P.create().superRefine((n,s)=>{var a,i;if(!r(n)){let o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):P.create()}var ht={object:C.lazycreate},p;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(p||(p={}));var ft=(r,e={message:`Input not instance of ${r.name}`})=>Pe(t=>t instanceof r,e),De=$.create,ze=z.create,pt=ue.create,mt=U.create,Ue=B.create,gt=q.create,vt=ie.create,yt=W.create,_t=H.create,xt=P.create,bt=L.create,kt=R.create,wt=oe.create,Tt=M.create,Ct=C.create,St=C.strictCreate,Et=Y.create,It=be.create,Ot=J.create,Nt=Z.create,Rt=ke.create,Zt=de.create,jt=ce.create,At=we.create,Lt=G.create,Mt=K.create,Vt=X.create,$t=Q.create,Pt=D.create,Ze=I.create,Dt=O.create,zt=j.create,Ut=I.createWithPreprocess,Bt=ge.create,qt=()=>De().optional(),Wt=()=>ze().optional(),Ht=()=>Ue().optional(),Yt={string:r=>$.create({...r,coerce:!0}),number:r=>z.create({...r,coerce:!0}),boolean:r=>B.create({...r,coerce:!0}),bigint:r=>U.create({...r,coerce:!0}),date:r=>q.create({...r,coerce:!0})},Jt=m,Be=Object.freeze({__proto__:null,defaultErrorMap:ae,setErrorMap:Je,getErrorMap:ye,makeIssue:_e,EMPTY_PATH:Ge,addIssueToContext:l,ParseStatus:w,INVALID:m,DIRTY:se,OK:T,isAborted:Ee,isDirty:Ie,isValid:fe,isAsync:pe,get util(){return _},get objectUtil(){return Se},ZodParsedType:h,getParsedType:V,ZodType:y,datetimeRegex:Ve,ZodString:$,ZodNumber:z,ZodBigInt:U,ZodBoolean:B,ZodDate:q,ZodSymbol:ie,ZodUndefined:W,ZodNull:H,ZodAny:P,ZodUnknown:L,ZodNever:R,ZodVoid:oe,ZodArray:M,ZodObject:C,ZodUnion:Y,ZodDiscriminatedUnion:be,ZodIntersection:J,ZodTuple:Z,ZodRecord:ke,ZodMap:de,ZodSet:ce,ZodFunction:we,ZodLazy:G,ZodLiteral:K,ZodEnum:X,ZodNativeEnum:Q,ZodPromise:D,ZodEffects:I,ZodTransformer:I,ZodOptional:O,ZodNullable:j,ZodDefault:F,ZodCatch:ee,ZodNaN:ue,BRAND:lt,ZodBranded:me,ZodPipeline:ge,ZodReadonly:te,custom:Pe,Schema:y,ZodSchema:y,late:ht,get ZodFirstPartyTypeKind(){return p},coerce:Yt,any:xt,array:Tt,bigint:mt,boolean:Ue,date:gt,discriminatedUnion:It,effect:Ze,enum:Vt,function:At,instanceof:ft,intersection:Ot,lazy:Lt,literal:Mt,map:Zt,nan:pt,nativeEnum:$t,never:kt,null:_t,nullable:zt,number:ze,object:Ct,oboolean:Ht,onumber:Wt,optional:Dt,ostring:qt,pipeline:Bt,preprocess:Ut,promise:Pt,record:Rt,set:jt,strictObject:St,string:De,symbol:vt,transformer:Ze,tuple:Nt,undefined:yt,union:Et,unknown:bt,void:wt,NEVER:Jt,ZodIssueCode:d,quotelessJson:Ye,ZodError:E});var qe=["kr","ar","bg","cs","de","da","en","es","fi","fr","el","hr","hu","it","ja","ko","nl","no","pl","pt","ro","ru","sv","sk","sl","uk","zh","zh-cn","zh-hk","zh-tw"],Ft=Be.enum(qe).optional();function k(r=1){return function(e,t,n){let s=n.value;return n.value=function(...a){if(a.length!==r){console.log(`missing argument for method ${t}`);return}return s.apply(this,a)},n}}var Ne=class{constructor(){this.WIDGET_URL="https://vto-advanced.fittingbox.com"}createWidget(e,t,n){try{return t.privateParameters?.widgetUrl?new Te(t.privateParameters.widgetUrl,e,t,n):new Te(this.WIDGET_URL,e,t,n)}catch(s){throw s instanceof Error?new Error("FitMix.createWidget: "+s.message+" (please refer to integration documentation)"):new Error("An error occured")}}},x=class x{constructor(e,t,n,s){this.addedToDocument=!1;this.popupReadyCallback=null;this.status="";this.receiverCb=this.receive.bind(this);this.connected=!1;this.liveSupported=!1;this.VERSION="1.6.3";if(console.info(`%c Integration api version : ${this.VERSION}`,"color:orange"),this.url=e,this.id=t,this.config=n,this.initCallback=s,!this.config.apiKey)throw new Error("apiKey required parameter missing");if(window.removeEventListener("message",this.receive.bind(this),!0),x.previousInstance?.remove(),this.createIframe(),this.config.popupIntegration){this.configPopup(),window.addEventListener("message",this.receiverCb);return}let a=document.getElementById(this.id);if(!a)throw new Error("element with id "+this.id+" does not exist");for(this.element=a;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(this.iframe),window.addEventListener("message",this.receiverCb)}static{this.previousInstance=null}createIframe(){let e=`${this.url}?htmlContainerId=${this.id}&apiKey=${this.config.apiKey}`;this.iframe=document.createElement("iframe"),this.iframe.src=e,this.iframe.id="fitmixWidgetIframeContainer",this.iframe.style.width=this.config.width?this.config.width:"100%",this.iframe.style.height=this.config.height?this.config.height:"100%",this.iframe.style.overflow="hidden",this.iframe.scrolling="no",this.iframe.style.border="0px",this.iframe.allow="camera",x.previousInstance=this}configPopup(){let e="position:fixed; z-index: 1000;",t="bottom",n="18px",s="right",a="18px",i="400px",o="300px",c=this.config.popupIntegration;typeof c!="boolean"&&(c?.vertical==="top"&&(t="top"),c?.horizontal==="left"&&(s="left"),c?.verticalOffset&&(n=c.verticalOffset),c?.horizontalOffset&&(a=c.horizontalOffset),c?.width&&(i=c.width),c?.height&&(o=c.height),c?.centeredHorizontal&&(e+="margin: auto; left: 0px; right: 0px;"),c?.centeredVertical&&(e+="margin: auto; top: 0px; bottom: 0px;")),e+=`${t}:${n};`,e+=`${s}:${a};`,e+=`width: ${i};`,e+=`height: ${o};`,this.iframe.style.boxShadow="0 0 4px 0 rgba(0,0,0,0.5)";let u=document.createElement("button");u.style.cssText="position:absolute; background:rgb(230,230,230); height: 28px; width: 28px; right: -14px; top: -14px; background: white; border-radius: 50px; box-shadow: 0 0 2px 0 rgba(0,0,0,0.5); display: grid; place-content: center; border: none; padding: 0;",u.setAttribute("id","fitmixPopupIntegrationMenu"),u.addEventListener("click",()=>{this.popupClose()}),u.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" stroke="currentColor" style="color:black; width: 14px; height: 14px;">
        <path stroke-linecap="round" d="m1 1 8 8M1 9l8-8"/>
      </svg>
    `,this.frameContainer=document.createElement("div"),this.frameContainer.className="frameContainer",this.frameContainer.style.cssText=e,this.frameContainer.appendChild(this.iframe),this.frameContainer.appendChild(u);let ve="@media screen and (max-width:"+i+") , (max-height:"+o+")"+"{"+"#fitmixPopupIntegrationMenu { top: -14px !important; left: 0px !important; right: 0px !important; margin: auto; } .frameContainer {bottom: 0px !important;left: 0px !important;right: 0px !important;top: 20px !important;width: initial !important;height: initial !important; }"+"} } }",re=document.createElement("style");re.appendChild(document.createTextNode(ve)),document.head.appendChild(re),this.popupInit()}popupInit(){this.config.popupIntegration&&(this.addedToDocument||(this.frameContainer.style.display="none",document.body.appendChild(this.frameContainer),this.addedToDocument=!0))}popupClose(){this.config.popupIntegration&&this.stopVto()}popupHide(){this.frameContainer.style.display="none"}popupShow(){this.config.popupIntegration&&(this.addedToDocument||(document.body.appendChild(this.frameContainer),this.addedToDocument=!0),this.frameContainer.style.display="block")}setInitializeOptions(e){let t={methods:[]},n=["width","height","popupIntegration"];for(let s in e){let a=s,i=e[a];if(typeof i=="function"){t.methods.push(a);continue}e.popupIntegration&&!t.methods.includes("onStopVto")&&t.methods.push("onStopVto"),!n.includes(a)&&(t[a]=i)}this.send({method:"setInitializeOptions",params:t})}startVto(e){this.config.popupIntegration&&this.popupShow(),this.send({method:"startVto",params:e})}stopVto(){this.send({method:"stopVto"})}setFrame(e){this.send({method:"setFrame",params:{id:e.toString()}})}setTryonPicture(e,t){if(!this.iframe.contentWindow)throw new Error('call "init" method first');this.send({method:"setTryonPicture",params:{imgData:e,options:t}})}setLang(e){if(!this.iframe.contentWindow)throw new Error('call "init" method first');this.send({method:"setLang",params:{lang:e}})}setUiConfiguration(e){if(!this.iframe.contentWindow)throw new Error('call "init" method first');this.send({method:"setUiConfiguration",params:e})}addCss(e){if(!this.iframe.contentWindow)throw new Error('call "init" method first');this.send({method:"addCss",params:{styles:e}})}remove(e){window.removeEventListener("message",this.receiverCb),this.iframe.addEventListener("load",()=>{this.frameContainer&&this.frameContainer.remove(),this.iframe.remove(),e&&e()}),this.iframe.src="data:text/html;charset=utf-8,%3Chtml%3E%3Cbody%3E%3C/body%3E%3C/html%3E"}setMode(e){return this.liveSupported?(this.send({method:"setMode",params:{mode:e}}),!0):!1}setLensesAntireflection(e){this.liveSupported&&this.send({method:"setLensesAntireflection",params:{enable:e}})}setLensesInTintedMode(e,t,n,s){this.liveSupported&&this.send({method:"setLensesInTintedMode",params:[e,t,n,s]})}setLensesInTintedMirrorMode(e,t,n,s,a,i,o,c){this.liveSupported&&(e=e===0?1e-4:e,t=t===0?1e-4:t,n=n===0?1e-4:n,s=s===0?1e-4:s,a=a===0?1e-4:a,i=i===0?1e-4:i,o=o===0?1e-4:o,c=c===0?1e-4:c,this.send({method:"setLensesInTintedMirrorMode",params:[e,t,n,s,a,i,o,c]}))}registerLensesAnimation(e){this.liveSupported&&this.send({method:"registerLensesAnimation",params:e})}playLensesAnimation(e){this.liveSupported&&this.send({method:"playLensesAnimation",params:e})}setLensesAnimationPercentage(e){this.liveSupported&&this.send({method:"setLensesAnimationPercentage",params:e})}stopLensesAnimation(){this.liveSupported&&this.send({method:"stopLensesAnimation"})}restoreLensDefaultMaterial(){this.liveSupported&&this.send({method:"restoreLensDefaultMaterial"})}setPupillaryDistance(e){this.setUserInfo({pupillaryDistance:e})}setUserInfo(e){this.send({method:"setUserInfo",params:e})}setLensMaterial(e){this.send({method:"setLensMaterial",params:e})}setDiopterAndRefraction(e,t){this.send({method:"setDiopterAndRefraction",params:{diopter:e,refraction:t}})}setExposureLevel(e){this.send({method:"setExposureLevel",params:e})}resetSession(){this.send({method:"resetSession"})}resetDisclaimer(){this.send({method:"resetDisclaimer"})}getSnapshot(){this.send({method:"getSnapshot"})}getFaceshape(){this.liveSupported&&this.send({method:"getFaceshape"})}resetFaceshape(){this.liveSupported&&this.send({method:"resetFaceshape"})}restartVto(){this.send({method:"restartVto"})}setZoomFactor(e){this.send({method:"setZoomFactor",params:e})}resetViewerCameraPosition(){this.send({method:"resetViewerCameraPosition"})}setViewerDefaultPosition(e){this.send({method:"setViewerDefaultPosition",params:e})}send(e){let t={...e,from:this.id};this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(t,this.url)}receive(e){let t=e.data;if(t.from!==this.id)return;if(t.method==="getOptions"){this.setInitializeOptions(this.config);return}if(!this.connected&&t.method==="connect"){this.connected=!0,t.params&&(this.liveSupported=t.params.liveSupported),this.popupReadyCallback&&this.popupReadyCallback(),this.initCallback&&this.initCallback(this.liveSupported);return}else if(t.method==="disconnect"){this.connected=!1;return}else if(t.method==="status"){this.status=t.params.status;let s=this.config.onStatus;s&&s(this.status);return}if(t.method==="connect")return;t.method==="onStopVto"&&this.config.popupIntegration&&(console.log("onStopVto"),this.popupHide());let n=this.config[t.method];n&&n(t.params)}};b([k()],x.prototype,"setInitializeOptions",1),b([k()],x.prototype,"startVto",1),b([k()],x.prototype,"setFrame",1),b([k()],x.prototype,"setLang",1),b([k()],x.prototype,"setUiConfiguration",1),b([k(1)],x.prototype,"addCss",1),b([k()],x.prototype,"setMode",1),b([k()],x.prototype,"setLensesAntireflection",1),b([k(4)],x.prototype,"setLensesInTintedMode",1),b([k(8)],x.prototype,"setLensesInTintedMirrorMode",1),b([k()],x.prototype,"registerLensesAnimation",1),b([k()],x.prototype,"playLensesAnimation",1),b([k()],x.prototype,"setLensesAnimationPercentage",1),b([k()],x.prototype,"setPupillaryDistance",1),b([k()],x.prototype,"setUserInfo",1),b([k()],x.prototype,"setLensMaterial",1),b([k(2)],x.prototype,"setDiopterAndRefraction",1),b([k()],x.prototype,"setExposureLevel",1),b([k()],x.prototype,"setZoomFactor",1);var Te=x,Gt=new Ne;window.FitMix=Gt;})();
